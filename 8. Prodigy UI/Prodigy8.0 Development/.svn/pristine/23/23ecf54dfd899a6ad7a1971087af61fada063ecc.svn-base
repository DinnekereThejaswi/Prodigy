(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"5Pkn":function(e,t,a){"use strict";a.r(t),t.default='.modal {\r\n    text-align: right;\r\n  }\r\n  \r\n  @media screen and (min-width: 768px) { \r\n    .modal:before {\r\n      display: inline-block;\r\n      vertical-align: middle;\r\n      content: " ";\r\n      height: 100%;\r\n    }\r\n  }\r\n  \r\n  .modal-dialog {\r\n    display: inline-block;\r\n    text-align: left;\r\n    vertical-align: middle;\r\n  }'},GFhY:function(e,t,a){"use strict";var s=a("mrSG"),r=a("fXoL");let i=class{transform(e){var t=(e=Math.round(e)).toString().split("."),a=t[0].substring(t[0].length-3),s=t[0].substring(0,t[0].length-3);""!=s&&"-"!=s&&(a=","+a);var r=s.replace(/\B(?=(\d{2})+(?!\d))/g,",")+a;return r+=".00"}};i=s.a([Object(r.Pipe)({name:"currencyFormat"})],i);let n=class{transform(e,t){return t&&""!=t?e.filter(e=>Object.keys(e).some(a=>String(e[a]).toLowerCase().includes(t.toLowerCase()))):e}};n=s.a([Object(r.Pipe)({name:"search"})],n);var o,c=a("3Pt+"),l=a("ofXK"),d=a("oOf3"),p=a("tyNb"),u=a("hzby");let h=o=class{constructor(){}validate(e){const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i.test(e.value);return e.value<1||t?null:{EmailFieldValidator:!0}}};var m;h=o=s.a([Object(r.Directive)({selector:"[EmailFieldValidator]",providers:[{provide:c.NG_VALIDATORS,useExisting:o,multi:!0}]}),s.c("design:paramtypes",[])],h);let b=m=class{constructor(e){this.el=e,this.regex=new RegExp(/^[a-zA-Z ]+$/i),this.specialKeys=["Backspace","Tab","End","Home","Space"]}onKeyDown(e){if(-1!==this.specialKeys.indexOf(e.key))return;const t=this.el.nativeElement.value.concat(e.key);t&&!String(t).match(this.regex)&&e.preventDefault()}validate(e){const t=/^[a-zA-Z ]+$/i.test(e.value);return e.value<1||t?null:{AlphabetFieldValidator:!0}}};var y;b.ctorParameters=()=>[{type:r.ElementRef}],s.a([Object(r.HostListener)("keydown",["$event"]),s.c("design:type",Function),s.c("design:paramtypes",[KeyboardEvent]),s.c("design:returntype",void 0)],b.prototype,"onKeyDown",null),b=m=s.a([Object(r.Directive)({selector:"[AlphabetFieldValidator]",providers:[{provide:c.NG_VALIDATORS,useExisting:m,multi:!0}]}),s.c("design:paramtypes",[r.ElementRef])],b);let g=y=class{constructor(e){this.el=e,this.regex=new RegExp(/^[0-9]+([0-9.]*)$/g),this.specialKeys=["Backspace","Tab","End","Home"]}onKeyDown(e){if(-1!==this.specialKeys.indexOf(e.key))return;const t=this.el.nativeElement.value.concat(e.key);t&&!String(t).match(this.regex)&&e.preventDefault()}validate(e){const t=/^[1-9]\d*(\.\d{3})?$/g.test(e.value);return e.value<1||t?null:{IntegerDecimalFieldValidator:!0}}};var v;g.ctorParameters=()=>[{type:r.ElementRef}],s.a([Object(r.HostListener)("keydown",["$event"]),s.c("design:type",Function),s.c("design:paramtypes",[KeyboardEvent]),s.c("design:returntype",void 0)],g.prototype,"onKeyDown",null),g=y=s.a([Object(r.Directive)({selector:"[IntegerDecimalFieldValidator]",providers:[{provide:c.NG_VALIDATORS,useExisting:y,multi:!0}]}),s.c("design:paramtypes",[r.ElementRef])],g);let D=v=class{constructor(e){this.el=e,this.regex=new RegExp(/^[6-9]+([0-9]*)$/g),this.specialKeys=["Backspace","Tab","End","Home"]}onKeyDown(e){if(-1!==this.specialKeys.indexOf(e.key))return;const t=this.el.nativeElement.value.concat(e.key);t&&!String(t).match(this.regex)&&e.preventDefault()}validate(e){const t=/^[6-9][0-9]{9}$/g.test(e.value);return e.value<1||t?null:{MobileFieldValidator:!0}}};D.ctorParameters=()=>[{type:r.ElementRef}],s.a([Object(r.HostListener)("keydown",["$event"]),s.c("design:type",Function),s.c("design:paramtypes",[KeyboardEvent]),s.c("design:returntype",void 0)],D.prototype,"onKeyDown",null),D=v=s.a([Object(r.Directive)({selector:"[MobileFieldValidator]",providers:[{provide:c.NG_VALIDATORS,useExisting:v,multi:!0}]}),s.c("design:paramtypes",[r.ElementRef])],D);let N=class{constructor(e){this.el=e,this.regex=new RegExp("^[0-9]+$"),this.specialKeys=["Backspace","Tab","End","Home","ArrowLeft","ArrowRight","Delete"]}onKeyDown(e){if(-1!==this.specialKeys.indexOf(e.key))return;const t=this.el.nativeElement.value.concat(e.key);t&&!String(t).match(this.regex)&&e.preventDefault()}};var k;N.ctorParameters=()=>[{type:r.ElementRef}],s.a([Object(r.HostListener)("keydown",["$event"]),s.c("design:type",Function),s.c("design:paramtypes",[KeyboardEvent]),s.c("design:returntype",void 0)],N.prototype,"onKeyDown",null),N=s.a([Object(r.Directive)({selector:"[NumberFieldvalidator]"}),s.c("design:paramtypes",[r.ElementRef])],N);let E=k=class{constructor(){}validate(e){const t=/^[A-Za-z]{5}\d{4}[A-Za-z]{1}/g.test(e.value);return e.value<1||t?null:{PanFieldValidator:!0}}};var f;E=k=s.a([Object(r.Directive)({selector:"[PanFieldValidator]",providers:[{provide:c.NG_VALIDATORS,useExisting:k,multi:!0}]}),s.c("design:paramtypes",[])],E);let R=f=class{constructor(){}validate(e){const t=/^[0-9]{6}$/g.test(e.value);return e.value<1||t?null:{PincodeFieldValidator:!0}}};R=f=s.a([Object(r.Directive)({selector:"[PincodeFieldValidator]",providers:[{provide:c.NG_VALIDATORS,useExisting:f,multi:!0}]}),s.c("design:paramtypes",[])],R);let S=class{constructor(){this.a=["","One ","Two ","Three ","Four ","Five ","Six ","Seven ","Eight ","Nine ","Ten ","Eleven ","Twelve ","Thirteen ","Fourteen ","Fifteen ","Sixteen ","Seventeen ","Eighteen ","Nineteen "],this.b=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"]}transform(e){if(e){let t=parseFloat(e).toFixed(2).split("."),a=parseInt(t[0]),s=parseInt(t[1]);if(a){if(a.toString().length>9)return"";const e=("000000000"+a).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/),t=("00"+s).substr(-2).match(/^(\d{2})$/);if(!e)return"";let r="";return r+=0!==Number(e[1])?(this.a[Number(e[1])]||this.b[e[1][0]]+" "+this.a[e[1][1]])+"Crore ":"",r+=0!==Number(e[2])?(this.a[Number(e[2])]||this.b[e[2][0]]+" "+this.a[e[2][1]])+"Lakh ":"",r+=0!==Number(e[3])?(this.a[Number(e[3])]||this.b[e[3][0]]+" "+this.a[e[3][1]])+"Thousand ":"",r+=0!==Number(e[4])?(this.a[Number(e[4])]||this.b[e[4][0]]+" "+this.a[e[4][1]])+"Hundred ":"",r+=0!==Number(e[5])?(this.a[Number(e[5])]||this.b[e[5][0]]+" "+this.a[e[5][1]])+"Rupee ":"",r+=0!==Number(t[1])?(""!==r?" Rupees and ":"")+(this.a[Number(t[1])]||this.b[t[1][0]]+" "+this.a[t[1][1]])+"Paise Only":"Rupees Only",r}return""}return""}};S=s.a([Object(r.Pipe)({name:"numberToWords"})],S);let T=class{transform(e,t){let a;switch(t){case"Q":a="Cheque";break;case"D":a="DD";break;case"C":a="Cash";break;case"R":a="Card";break;case"CT":a="Scheme Adj.";break;case"BC":a="OGS";break;case"EP":a="E-Payment";break;case"GV":a="Gift Vou";break;case"SR":a="SR Bill";break;case"OP":a="Order Adj.";break;case"PE":a="PUR. Est.";break;case"PB":a="PUR. Bill";break;case"SE":a="SR EST";break;case"SP":a="Sales Promotion";break;case"UPI":a="UPI Payment";break;case"CN":a="CREDIT NOTE";break;default:a="Invalid"}return a}};T=s.a([Object(r.Pipe)({name:"payment"})],T);let O=class{transform(e){return e.toString().replace(".","#")}};O=s.a([Object(r.Pipe)({name:"dotToHashFormat"})],O);let L=class{constructor(e){this._el=e}onInputChange(e){const t=this._el.nativeElement.value;this._el.nativeElement.value=t.replace(/[^0-9]*/g,""),t!==this._el.nativeElement.value&&e.stopPropagation()}};L.ctorParameters=()=>[{type:r.ElementRef}],s.a([Object(r.HostListener)("input",["$event"]),s.c("design:type",Function),s.c("design:paramtypes",[Object]),s.c("design:returntype",void 0)],L.prototype,"onInputChange",null),L=s.a([Object(r.Directive)({selector:"input[numbersOnly]"}),s.c("design:paramtypes",[r.ElementRef])],L);let P=class{transform(e,t){let a;switch(t){case"AAD":a="ADHAAR";break;case"ARM":a="Arms License";break;case"DRI":a="Driving License";break;case"OTH":a="Others";break;case"PAN":a="Income Tax PAN";break;case"PAS":a="Passport";break;case"RAT":a="Ration Card";break;case"VOT":a="Voter ID";break;default:a="Invalid"}return a}};P=s.a([Object(r.Pipe)({name:"IDType"})],P);let w=class{constructor(e){this.el=e,this.regex=new RegExp(/^-?[0-9]+(\.[0-9]*){0,1}$/g),this.specialKeys=["Backspace","Tab"]}onKeyDown(e){if(-1!==this.specialKeys.indexOf(e.key))return;const t=this.el.nativeElement.value.concat(e.key);t&&!String(t).match(this.regex)&&e.preventDefault()}};w.ctorParameters=()=>[{type:r.ElementRef}],s.a([Object(r.HostListener)("keydown",["$event"]),s.c("design:type",Function),s.c("design:paramtypes",[KeyboardEvent]),s.c("design:returntype",void 0)],w.prototype,"onKeyDown",null),w=s.a([Object(r.Directive)({selector:"[appNumbersOnly]"}),s.c("design:paramtypes",[r.ElementRef])],w);let A=class{transform(e){return Math.round(e)}};A=s.a([Object(r.Pipe)({name:"round"})],A);var x=a("tk/3"),F=a("NFKh"),j=a("qlSq");let I=class{constructor(e,t){this._http=e,this.appConfigService=t,this.ccode="",this.bcode="",this.apiBaseUrl=this.appConfigService.apiBaseUrl,this.password=this.appConfigService.Pwd,this.getCB()}getCB(){this.ccode=F.AES.decrypt(localStorage.getItem("ccode"),this.password.trim()).toString(F.enc.Utf8),this.bcode=F.AES.decrypt(localStorage.getItem("bcode"),this.password.trim()).toString(F.enc.Utf8)}getLastDocNum(e){return this._http.get(this.apiBaseUrl+"api/docmgmt/last-series?companyCode="+this.ccode+"&branchCode="+this.bcode+"&docType="+e)}};I.ctorParameters=()=>[{type:x.b},{type:j.a}],I=s.a([Object(r.Injectable)({providedIn:"root"}),s.c("design:paramtypes",[x.b,j.a])],I);var C=a("wd/R");let K=class{constructor(e,t){this._router=e,this.lastDocNoService=t,this.EnableLastDocNo=!1,this.EnableLastDocNo=!1}ngOnInit(){this.CurrentFinancialYear=C(new Date).format("YY")}LastDocNo(){switch(this.routeUrl=this._router.url,this.routeUrl){case"/orders":this.DocType="ORDNO",this.getLastDocNo("Last Order No",this.DocType);break;case"/estimation":this.DocType="SALEST",this.getLastDocNo("Last Est No",this.DocType);break;case"/purchase":this.DocType="PUREST",this.getLastDocNo("Last Est No",this.DocType);break;case"/salesreturn":this.DocType="SREST",this.getLastDocNo("Last SR Est.No",this.DocType);break;case"/sales-billing":this.DocType="SALINV",this.getLastDocNo("Last Bill No",this.DocType);break;case"/repair/repair-delivery":this.DocType="REPISS",this.getLastDocNo("Last Delivery No",this.DocType);break;case"/repair/repair-receipts":this.DocType="REPREC",this.getLastDocNo("Last Repair No",this.DocType);break;case"/purchase/purchase-billing":this.DocType="PURINV",this.getLastDocNo("Last Bill No",this.DocType);break;case"/orders/OrderReceipt":this.DocType="ORDREC",this.getLastDocNo("Last Order Receipt No",this.DocType);break;case"/salesreturn/ConfirmSalesReturn":this.DocType="SRINV",this.getLastDocNo("Last SR No",this.DocType);break;case"/credit-receipt/credit-receipt":this.DocType="CREINV",this.getLastDocNo("Last Receipt No",this.DocType);break;case"/stocks/stock-taking":this.DocType="STKBAT",this.getLastDocNo("Last Batch No",this.DocType)}}getLastDocNo(e,t){this.lastDocNoService.getLastDocNum(t).subscribe(a=>{this.lastNo=a,null!=this.lastNo&&0!=this.lastNo&&(this.lastDocNo="SALEST"==t||"PUREST"==t||"SREST"==t?e+" : "+this.lastNo.DocumentNo:e+" : "+this.CurrentFinancialYear+this.lastNo.DocumentNo,$("#LastDocumentNo").modal("show"))})}};K.ctorParameters=()=>[{type:p.c},{type:I}],K=s.a([Object(r.Component)({selector:"app-lastdocno",template:s.b(a("aRvg")).default,styles:[s.b(a("5Pkn")).default]}),s.c("design:paramtypes",[p.c,I])],K);let V=class{transform(e,t){let a;switch(t){case"DM":a="DORMANT CUSTOMER ORDER";break;case"N":a="NORMAL";break;case"SN":a="SINDHOORA";break;case"BN":a="BANDHAN";break;default:a=""}return a}};V=s.a([Object(r.Pipe)({name:"purchasePlan"})],V),a.d(t,"a",(function(){return B}));let B=class{};B=s.a([Object(r.NgModule)({declarations:[h,b,g,D,N,E,R,n,i,S,T,O,L,P,A,w,K,V],imports:[l.CommonModule,p.d,c.ReactiveFormsModule,c.FormsModule,d.a,u.b.forRoot()],providers:[I],exports:[h,b,g,D,w,A,N,E,R,n,i,S,T,O,L,P,K,V]})],B)},aRvg:function(e,t,a){"use strict";a.r(t),t.default='<a href=\'javascript: void(0);\' (click)=\'LastDocNo()\'>Last Doc No.</a>\n\n\n<div class="modal fade" id="LastDocumentNo" tabindex="-10" role="dialog" data-backdrop="static" data-keyboard="false"\n  aria-labelledby="LastDocumentNoTabLabel" aria-hidden="true">\n  <div class="modal-dialog " style="max-width: 300px;">\n    <div class="modal-content">\n      \x3c!-- Modal Header --\x3e\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">&times;</button>\n      </div>\n      <div class="modal-body">\n        <pre>{{lastDocNo}}</pre>\n      </div>\n    </div>\n  </div>\n</div>'}}]);