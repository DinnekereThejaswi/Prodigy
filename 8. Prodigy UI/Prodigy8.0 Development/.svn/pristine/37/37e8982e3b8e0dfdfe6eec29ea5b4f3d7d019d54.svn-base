{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{ODkD:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var tslib_es6=__webpack_require__(\"mrSG\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),core=__webpack_require__(\"fXoL\"),common=__webpack_require__(\"ofXK\"),auth_guard_service=__webpack_require__(\"5nbR\"),http=__webpack_require__(\"tk/3\"),AppConfigService=__webpack_require__(\"qlSq\");let CbwidgetService=class{constructor(_http,appConfigService){this._http=_http,this.appConfigService=appConfigService,this.apiBaseUrl=this.appConfigService.apiBaseUrl,this.password=this.appConfigService.Pwd}getAllCompanybranchCode(arg){return this._http.get(this.apiBaseUrl+\"api/OperatorBranchMappings/Get?operatorCode=\"+arg)}getBranchCompany(arg){return this._http.get(this.apiBaseUrl+\"api/Masters/Operator/DefaultBranch/\"+arg)}};CbwidgetService.ctorParameters=()=>[{type:http.b},{type:AppConfigService.a}],CbwidgetService=tslib_es6.a([Object(core.Injectable)({providedIn:\"root\"}),tslib_es6.c(\"design:paramtypes\",[http.b,AppConfigService.a])],CbwidgetService);var router=__webpack_require__(\"tyNb\"),crypto_js=__webpack_require__(\"NFKh\"),appSettings=__webpack_require__(\"qLqq\"),signin_service=__webpack_require__(\"s2oQ\");let cbwidget_component_CbwidgetComponent=class{constructor(_cbwidgetService,fb,_router,service){this._cbwidgetService=_cbwidgetService,this.fb=fb,this._router=_router,this.service=service,this.ccode=\"\",this.bcode=\"\",this.isDisabled=!1,this.ValueChange=!1,this.password=appSettings.a.Pwd,this.cbWidgetHeader={ccode:null,bcode:null},this.cbWidgetData=[]}ngOnInit(){$(\"#addBarcode\").modal(\"show\"),this.getAllCompanybranchCode(),this.ValueChange=!1,this.cbWidgetForm=this.fb.group({ccode:null,bcode:null})}getAllCompanybranchCode(){let arg=localStorage.getItem(\"OperatorCode\");this._cbwidgetService.getAllCompanybranchCode(arg).subscribe(response=>{this.cbWidgetData=response,1===this.cbWidgetData.length?(this.isDisabled=!0,this.getDefaultBranch()):this.getDefaultBranch()})}encryptMode(arg){this.ccode=crypto_js.AES.encrypt(arg.value.ccode,this.password.trim()).toString(),this.bcode=crypto_js.AES.encrypt(arg.value.bcode,this.password.trim()).toString(),localStorage.setItem(\"ccode\",this.ccode),localStorage.setItem(\"bcode\",this.bcode),this.service.SendBranchCode(this.bcode)}ChngCompanyCode(){this.ValueChange=!0}ChngBranchCode(){this.ValueChange=!0}storedata(arg){if(localStorage.removeItem(\"ccode\"),localStorage.removeItem(\"bcode\"),1==this.ValueChange){if(!confirm(\"Do you want to proceed with \"+arg.value.ccode+\" Company and \"+arg.value.bcode+\" Branch??\"))return!1;setTimeout(()=>{this.encryptMode(arg),this._router.navigate([\"/dashboard\"]),$(\"#addBarcode\").modal(\"hide\")},300)}else setTimeout(()=>{this.encryptMode(arg),this._router.navigate([\"/dashboard\"]),$(\"#addBarcode\").modal(\"hide\")},300)}getDefaultBranch(){let arg=localStorage.getItem(\"OperatorCode\");this._cbwidgetService.getBranchCompany(arg).subscribe(response=>{this.defaultBranch=response,this.cbWidgetHeader.ccode=this.defaultBranch.CompanyCode,this.cbWidgetHeader.bcode=this.defaultBranch.BranchCode})}};cbwidget_component_CbwidgetComponent.ctorParameters=()=>[{type:CbwidgetService},{type:fesm2015_forms.FormBuilder},{type:router.c},{type:signin_service.a}],cbwidget_component_CbwidgetComponent=tslib_es6.a([Object(core.Component)({selector:\"app-cbwidget\",template:tslib_es6.b(__webpack_require__(\"gqaU\")).default,styles:[tslib_es6.b(__webpack_require__(\"Wc6t\")).default]}),tslib_es6.c(\"design:paramtypes\",[CbwidgetService,fesm2015_forms.FormBuilder,router.c,signin_service.a])],cbwidget_component_CbwidgetComponent);const routes=[{path:\"\",canActivate:[auth_guard_service.a],canActivateChild:[auth_guard_service.a],component:cbwidget_component_CbwidgetComponent}];let CbwidgetRoutingModule=class{};CbwidgetRoutingModule=tslib_es6.a([Object(core.NgModule)({imports:[router.d.forChild(routes)],exports:[router.d]})],CbwidgetRoutingModule),__webpack_require__.d(__webpack_exports__,\"CbwidgetModule\",(function(){return CbwidgetModule}));let CbwidgetModule=class{};CbwidgetModule=tslib_es6.a([Object(core.NgModule)({declarations:[cbwidget_component_CbwidgetComponent],imports:[common.CommonModule,CbwidgetRoutingModule,fesm2015_forms.FormsModule,fesm2015_forms.ReactiveFormsModule],exports:[cbwidget_component_CbwidgetComponent],schemas:[core.CUSTOM_ELEMENTS_SCHEMA]})],CbwidgetModule)},Wc6t:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=\"\"},gqaU:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class=\"modal fade\" id=\"addBarcode\"  data-backdrop=\"static\" data-keyboard=\"false\">\\n  <div class=\"modal-dialog\" style=\"max-width: 1360px;\">\\n    <div class=\"modal-content\">\\n      <div class=\"modal-header\">\\n        <h3 class=\"modal-title\">Select Company Code and Branch Code <div class=\"tooltipdesign\"> <i class=\"fal fa-question-circle\"></i>\\n            <span class=\"tooltiptext \">Select Company Code and Branch Code</span>\\n          </div>\\n        </h3>\\n      </div>\\n      <div class=\"modal-body\">\\n        <div class=\"container-fluid\">\\n          <div class=\"row\">\\n            <div class=\"col-md-12\">\\n              <div class=\"card\">\\n                <div class=\"card-body\">\\n                  <form class=\"form-horizontal\" [formGroup]=\"cbWidgetForm\">\\n                    <div class=\"row\">\\n                      <div class=\"col-md-4 \">\\n                        <div class=\"form-group\">\\n                          <label class=\"control-label\">Select Company Code</label>\\n                          <select class=\"form-control mr-auto mt-2 mt-lg-0\" formControlName=\"ccode\"\\n                            [disabled]=\"isDisabled\" [(ngModel)]=\"cbWidgetHeader.ccode\" (change)=\"ChngCompanyCode()\">\\n                            <option *ngFor=\"let _cbWidgetData of cbWidgetData\" [value]=\"_cbWidgetData.CompanyCode\">\\n                              {{_cbWidgetData.CompanyCode}}\\n                            </option>\\n                          </select>\\n                        </div>\\n                      </div>\\n                      <div class=\"col-md-4 \">\\n                        <div class=\"form-group\">\\n                          <label for=\"OrderNo\">Select Branch Code</label>\\n                          <select class=\"form-control mr-auto mt-2 mt-lg-0\" formControlName=\"bcode\"\\n                            [disabled]=\"isDisabled\" [(ngModel)]=\"cbWidgetHeader.bcode\" (change)=\"ChngBranchCode()\">\\n                            <option *ngFor=\"let _cbWidgetData of cbWidgetData\" [value]=\"_cbWidgetData.BranchCode\">\\n                              {{_cbWidgetData.BranchCode}}\\n                            </option>\\n                          </select>\\n                        </div>\\n                      </div>\\n                      <div class=\"col-md-4\" style=\"text-align: right\">\\n                        <div>\\n                          <i class=\"fal fa-calendar-alt\"></i>&nbsp; <span class=\"text-muted\">Current Branch</span>\\n                          <h1 class=\"font-light\">{{cbWidgetHeader.bcode}}</h1>\\n                        </div>\\n                      </div>\\n                    </div>\\n                  </form>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\"row\" style=\"padding-bottom: 15px;\">\\n              <div class=\"col-md-6\">\\n                <button class=\"btn btn-success btn-rounded mt-20\" style=\"margin-bottom: 20px;\" type=\"button\"\\n                  (click)=\"storedata(cbWidgetForm)\">\\n                  Proceed</button>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>'},qLqq:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return AppSettings}));class AppSettings{}AppSettings.API_ENDPOINT=\"http://192.168.10.202/Magnawebpos/\",AppSettings.Pwd=\"#SDAQ@$%^&*BNHJK\"}}]);","extractedComments":[]}