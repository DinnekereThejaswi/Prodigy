{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{KoPZ:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return BarcodedetailsService}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mrSG\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"fXoL\"),_angular_common_http__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"tk/3\");let BarcodedetailsService=class{constructor(_http){this._http=_http}};BarcodedetailsService.ctorParameters=()=>[{type:_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b}],BarcodedetailsService=tslib__WEBPACK_IMPORTED_MODULE_0__.a([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)({providedIn:\"root\"}),tslib__WEBPACK_IMPORTED_MODULE_0__.c(\"design:paramtypes\",[_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.b])],BarcodedetailsService)},YHdl:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='.card-title {\\r\\n  margin-bottom: -0.3rem !important;\\r\\n}\\r\\n\\r\\n.table-responsive {\\r\\n  display: block;\\r\\n  width: 99.9% !important;\\r\\n  overflow-x: auto;\\r\\n  -ms-overflow-style: -ms-autohiding-scrollbar;\\r\\n}\\r\\n\\r\\n.hiddenRow {\\r\\n  padding: 0 !important;\\r\\n}\\r\\n\\r\\n.wrapper{\\r\\n  margin: auto 3em auto 3em;\\r\\n}\\r\\n\\r\\n@media (min-width:2200px) and (max-width: 2440px) {\\r\\n  .table-responsive {\\r\\n   overflow-x: hidden !important;\\r\\n\\r\\n}\\r\\n}\\r\\n\\r\\n@media (min-width: 300px) and (max-width: 2200px) {\\r\\n  .table-responsive {\\r\\n  overflow-x: auto !important;\\r\\n\\r\\n}}\\r\\n\\r\\n.card-header{\\r\\n  border-radius: 15px !important;\\r\\n}\\r\\n\\r\\n.card{\\r\\n  border-radius: 15px !important;  \\r\\n}\\r\\n\\r\\n.card-body{ \\r\\n  padding: 10px 30px 0px 30px !important; \\r\\n  border-bottom: 2px solid black;\\r\\n  border-radius: 15px;\\r\\n}\\r\\n\\r\\n.p-38 { height: 38px; }\\r\\n\\r\\n.text-white { color: white;}\\r\\n\\r\\n.Pointer { cursor: pointer; }\\r\\n\\r\\n.footer {\\r\\n  position: fixed;\\r\\n  left: 0;\\r\\n  bottom: 0;\\r\\n}\\r\\n\\r\\n.hide{\\r\\n display: hide;\\r\\n}\\r\\n\\r\\n.show{\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.accordion .card-header.collapsed:after {\\r\\n  /* symbol for \"collapsed\" panels */\\r\\n  content: \"\\\\f067\"; \\r\\n  position: absolute;\\r\\n  right: 20px;\\r\\n  font-size: 20px;\\r\\n  font-weight: 400;\\r\\n\\r\\n  line-height: 1;\\r\\n  margin-top: -25px;\\r\\n  transition: .3s transform ease-in-out;\\r\\n}\\r\\n\\r\\n.accordion .card-header:after {\\r\\n  font-family: \\'FontAwesome\\';  \\r\\n  content: \"\\\\f068\";\\r\\n  position: absolute;\\r\\n  right: 20px;\\r\\n  font-size: 20px;\\r\\n  font-weight: 400;\\r\\n  line-height: 1;\\r\\n  margin-top: -25px;\\r\\n}\\r\\n\\r\\n.text-red{\\r\\n  color:red;\\r\\n}\\r\\n\\r\\n.text-green{\\r\\ncolor:#16d616; \\r\\n}\\r\\n\\r\\n.center {\\r\\n  margin: auto;\\r\\n  width: 70%;\\r\\n  padding: 5px;\\r\\n}'},ezid:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='\\x3c!-- {{CustomerDets | json}} --\\x3e\\n<form [formGroup]=\"SalesForm\" class=\"form-horizontal\" (ngSubmit)=\"onSubmit()\">\\n  <div class=\"row\" *ngIf=\"EnableDisablectrls\">\\n    <div class=\"col-md-3 \">\\n      <div class=\"form-group\">\\n        <label for=\"salesPerson\">Sales Person</label>\\n        <div class=\"form-group\">\\n          <select class=\"form-control mr-auto mt-2 mt-lg-0\" Autofocus formControlName=\"salesPerson\"\\n            [(ngModel)]=\"SalesPersonModel.salesPerson\">\\n            <option [ngValue]=\"null\">Select</option>\\n            <option *ngFor=\"let _salesman of SalesManList\" [value]=\"_salesman.sal_code\">\\n              {{_salesman.CodeName}}\\n            </option>\\n          </select>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\"col-md-3 \">\\n      <div class=\"form-group\">\\n        <label for=\"barcode\">Barcode/Tag No.</label>\\n        <div class=\"input-group\">\\n          \\x3c!-- <input class=\"form-control\" id=\"barcode\" formControlName=\"barcode\" [(ngModel)]=\"SalesPersonModel.barcode\"\\n            placeholder=\"Search by Barcode\" type=\"text\" (keyup.enter)=\"getDetails(SalesForm)\"> --\\x3e\\n          <input class=\"form-control\" id=\"barcode\" formControlName=\"barcode\" [(ngModel)]=\"SalesPersonModel.barcode\"\\n            placeholder=\"Search by Barcode\" type=\"text\" onKeyPress=\"if(this.value.length==10) return false;\"\\n            (keyup.enter)=\"getDetails(SalesForm)\">\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\"col-md-2\">\\n      <div class=\"form-group\">\\n        <label for=\"barcode\"></label>\\n        <div class=\"input-group\">\\n          <a href=\"javascript:void(0)\" class=\"btn waves-effect waves-light btn-rounded btn-outline-secondary pull-right\"\\n            (click)=\"AddBarcode(SalesForm)\"><i class=\"fas fa-barcode\"></i> Add Barcode</a>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\"col-md-3 \">\\n      <div class=\"form-group\">\\n        <label for=\"salesPerson\">Place of Supply</label>\\n        <div class=\"form-group\">\\n          <select class=\"form-control\" formControlName=\"StateCode\" [(ngModel)]=\"SalesLinesPost.Pos\"\\n            (change)=\"SetInterState(SalesLinesPost.Pos)\">\\n            <option [ngValue]=\"null\" [disabled]=\"EnablePos\">Select State</option>\\n            <option *ngFor=\"let State of StateList\" [ngValue]=\"State.TINNo\" [disabled]=\"EnablePos\">\\n              {{State.StateName}}\\n            </option>\\n          </select>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\"col-md-1\">\\n      <div class=\"text-right\">&nbsp;\\n        <button class=\"btn btn-success btn-rounded\" type=\"button\" (click)=\"EditPos()\"><i\\n            class=\"fal fa-edit\"></i>Edit</button>\\n      </div>\\n    </div>\\n  </div>\\n</form>\\n<div class=\"table-responsive\" *ngIf=\"ToggleCalculation\">\\n  <table class=\"table\" id=\"panels\">\\n    <thead class=\"topbar\">\\n      <tr>\\n        <th *ngIf=\"EnableDisablectrls\">Action</th>\\n        <th>Barcode</th>\\n        <th>Item </th>\\n        <th>Qty</th>\\n        <th>Gr.Wt</th>\\n        <th>Nt.Wt</th>\\n        <th>Rate/gram</th>\\n        <th>Metal Amt</th>\\n        <th>St Amt</th>\\n        <th>Dia Amt</th>\\n        <th>VA Amt</th>\\n        <th>Item Total</th>\\n        <th>SGST</th>\\n        <th>CGST</th>\\n        <th>IGST</th>\\n        <th>Sales Total</th>\\n      </tr>\\n    </thead>\\n    <tbody *ngFor=\"let _GetBarcodeList of GetBarcodeList; let i = index\">\\n      <tr>\\n        <td *ngIf=\"EnableDisablectrls\">\\n          \\x3c!-- <i class=\"far fa-eye fa-1-5x pointer\" aria-hidden=\"true\" style=\\'color: #009688; font-size: 1.5em !important;\\'\\n            data-toggle=\"modal\" data-target=\"#myModal\" (click)=\"GetBarcodeInfo(_GetBarcodeList)\"></i> --\\x3e\\n          <i class=\"far fa-pen fa-1-5x pointer\" style=\\'color: orange; font-size: 1.5em !important;\\'\\n            (click)=\"EditTagRow(i,_GetBarcodeList)\"></i>\\n          <i class=\"far fa-trash-alt fa-1-5x pointer\" style=\\'color: red; font-size: 1.5em !important;\\'\\n            (click)=\"DeleteTagRow(i,_GetBarcodeList)\"></i>\\n        </td>\\n        <td>{{_GetBarcodeList.BarcodeNo}}</td>\\n        <td>{{_GetBarcodeList.ItemName}}</td>\\n        <td>{{_GetBarcodeList.ItemQty}}</td>\\n        \\x3c!-- <td>{{_GetBarcodeList.Grosswt | number : \\'1.3-3\\' }}</td>\\n        <td>{{_GetBarcodeList.Netwt | number : \\'1.3-3\\'}}</td> --\\x3e\\n        <td>{{ _GetBarcodeList.Grosswt +  _GetBarcodeList.AddWt - _GetBarcodeList.DeductWt  | number : \\'1.3-3\\' }}</td>\\n        <td>\\n          {{_GetBarcodeList.Grosswt +  _GetBarcodeList.AddWt - _GetBarcodeList.Stonewt - _GetBarcodeList.DeductWt | number : \\'1.3-3\\'}}\\n        </td>\\n        <td>{{_GetBarcodeList.Rate | number : \\'1.2-2\\'}}</td>\\n        <td>{{_GetBarcodeList.GoldValue | number : \\'1.2-2\\'}}</td>\\n        <td>{{_GetBarcodeList.StoneCharges | number : \\'1.2-2\\' }}</td>\\n        <td>{{_GetBarcodeList.DiamondCharges | number : \\'1.2-2\\'}}</td>\\n        <td>{{_GetBarcodeList.VaAmount | number : \\'1.2-2\\' }}</td>\\n        <td>{{_GetBarcodeList.ItemTotalAfterDiscount | number : \\'1.2-2\\'}}</td>\\n        <td>{{_GetBarcodeList.SGSTAmount | number : \\'1.2-2\\'}}</td>\\n        <td>{{_GetBarcodeList.CGSTAmount | number : \\'1.2-2\\'}}</td>\\n        <td>{{_GetBarcodeList.IGSTAmount | number : \\'1.2-2\\'}}</td>\\n        <td>{{_GetBarcodeList.ItemFinalAmount | number : \\'1.2-2\\'}}</td>\\n      </tr>\\n    </tbody>\\n    <tr>\\n      <td *ngIf=\"EnableDisablectrls\" class=\"border-none\"><b>Grand Total</b></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\">No. of items:</td>\\n      <td class=\"border-none\">{{total_items(GetBarcodeList) | number}}</td>\\n      <td class=\"border-none\">{{grossWT(GetBarcodeList) | number : \\'1.3-3\\'}}</td>\\n      <td class=\"border-none\">{{netWT(GetBarcodeList) | number : \\'1.3-3\\'}}</td>\\n      <td class=\"border-none\"></td>\\n      \\x3c!-- <td class=\"border-none\">{{Rate(GetBarcodeList) | number : \\'1.2-2\\'}}</td> --\\x3e\\n      <td class=\"border-none\">{{metal_amount(GetBarcodeList) | number : \\'1.2-2\\'}}</td>\\n      <td class=\"border-none\">{{stone_amount(GetBarcodeList) | number : \\'1.2-2\\'}}</td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\">{{va_amount(GetBarcodeList) | number : \\'1.2-2\\'}}</td>\\n      <td class=\"border-none\">{{taxable_amount(GetBarcodeList) | number : \\'1.2-2\\'}}</td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n    </tr>\\n    <tr>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none Heading\"></td>\\n      <td class=\"border-none Heading\"><span class=\"Heading\">Taxable Amt</span></td>\\n      <td class=\"border-none\">{{taxable_amount(GetBarcodeList) | number : \\'1.2-2\\'}}</td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n\\n    </tr>\\n    <tr style=\" border: none;\">\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none Heading\"><span class=\"Heading\">SGST </span> (1.5%) :</td>\\n      <td class=\"border-none\">{{SGST_amount(GetBarcodeList) | number : \\'1.2-2\\'}}</td>\\n      <td class=\"border-none Heading\"><span class=\"Heading\">CGST </span> (1.5%) :</td>\\n      <td class=\"border-none\">{{CGST_amount(GetBarcodeList) | number : \\'1.2-2\\'}}</td>\\n      <td class=\"border-none Heading\"><span class=\"Heading\">IGST:</span> (3.0%):</td>\\n      <td class=\"border-none\">{{IGST_amount(GetBarcodeList) | number : \\'1.2-2\\'}}</td>\\n      <td class=\"border-none Heading\"><span class=\"Heading\">Sales Total:</span></td>\\n      <td class=\"border-none\">{{SalesTotal_amount(GetBarcodeList) | number : \\'1.2-2\\'}}</td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n      <td class=\"border-none\"></td>\\n    </tr>\\n  </table>\\n</div>\\n\\n<div class=\"modal\" id=\"myModal\" *ngIf=\"Toggle\">\\n  <div class=\"modal-dialog modal-lg\" style=\"max-width: 1000px;\">\\n    <div class=\"modal-content\">\\n\\n      <div class=\"modal-header\">\\n        <h4 class=\"modal-title\"> BarcodeNo : {{modalPopUPBarcode.BarcodeNo}} </h4>\\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\\n      </div>\\n\\n      <div class=\"modal-body\">\\n        <div>\\n          <div class=\"row\">\\n            <div class=\"col-md-8\">\\n              <div class=\"columns\">\\n                <div class=\"row\">\\n                  <div class=\"col-md-5\">\\n                    <ul class=\"price\">\\n                      <li>\\n                        <span class=\"float-left\">Item Qty</span>\\n                        <span class=\"float-right\">{{modalPopUPBarcode.ItemQty}}</span>\\n                      </li>\\n                      <li>\\n                        <span class=\"float-left\">Gr. Wt(g)</span>\\n                        <span class=\"float-right\">{{modalPopUPBarcode.Grosswt | number : \\'1.3-3\\'}}</span>\\n                      </li>\\n                      <li>\\n                        <span class=\"float-left\">St Wt(g)</span>\\n                        <span class=\"float-right\">{{modalPopUPBarcode.Stonewt | number : \\'1.3-3\\'}}</span>\\n                      </li>\\n                      <li>\\n                        <span class=\"float-left\">N wt(g)</span>\\n                        <span class=\"float-right\">{{modalPopUPBarcode.Netwt | number : \\'1.3-3\\'}}</span>\\n                      </li>\\n                      <li>\\n                        <span class=\"float-left\">Bill Qty</span>\\n                        <span class=\"float-right\">{{modalPopUPBarcode.ItemQty}}</span>\\n                      </li>\\n                      <li>\\n                        <span class=\"float-left\">Bill Gr Wt</span>\\n                        <span class=\"float-right\">{{modalPopUPBarcode.Grosswt | number : \\'1.3-3\\'}}</span>\\n                      </li>\\n                      <li>\\n                        <span class=\"float-left font\">Rate</span>\\n                        <span class=\"float-right\">{{modalPopUPBarcode.Rate | number : \\'1.2-2\\'}}</span>\\n                      </li>\\n                      <li>\\n                        <span class=\"float-left\">Karat</span>\\n                        <span class=\"float-right\">{{modalPopUPBarcode.Karat}}</span>\\n                      </li>\\n                    </ul>\\n                  </div>\\n                  \\x3c!-- <pre>{{SalesPersonModel | json}}</pre> --\\x3e\\n                  <div class=\"col-md-7\">\\n                    <form [formGroup]=\"SalesGSForm\" class=\"form-horizontal\">\\n\\n                      <div class=\"form-group\">\\n                        <label for=\"GS\">GS</label>\\n                        <div class=\"form-group\">\\n                          <select class=\"form-control mr-auto mt-2 mt-lg-0\" formControlName=\"GS\"\\n                            [(ngModel)]=\"SalesPersonModel.GS\">\\n                            <option *ngFor=\"let _GSList of GSList\" [value]=\"_GSList.gs_code\" [disabled]=\"readonly\">\\n                              {{_GSList.GSName}}\\n                            </option>\\n                          </select>\\n                        </div>\\n                      </div>\\n                      <div class=\"form-group\">\\n                        <label for=\"ItemName\">Item</label>\\n                        <div class=\"form-group\">\\n                          <select class=\"form-control mr-auto mt-2 mt-lg-0\" formControlName=\"ItemName\"\\n                            [(ngModel)]=\"SalesPersonModel.ItemName\">\\n                            <option *ngFor=\"let _ItemName of ItemName\" [value]=\"_ItemName.item_name\"\\n                              [disabled]=\"readonly\">\\n                              {{_ItemName.CodeName}}\\n                            </option>\\n                          </select>\\n                        </div>\\n                      </div>\\n                    </form>\\n                    <ul class=\"price\">\\n                      <li>\\n                        <span class=\"float-left\">Design</span>\\n                        <span class=\"float-right\">{{modalPopUPBarcode.DesignName}}</span>\\n                      </li>\\n\\n                      <li>\\n                        <span class=\"float-left\">Counter</span>\\n                        <span class=\"float-right\">{{modalPopUPBarcode.CounterCode}}</span>\\n                      </li>\\n                      <li>\\n                        <span class=\"float-left\">Size</span>\\n                        <span class=\"float-right\">{{modalPopUPBarcode.ItemSize}}</span>\\n                      </li>\\n                      <li>\\n                        <span class=\"float-left\">Piece Item</span>\\n                        <span class=\"float-right\">{{modalPopUPBarcode.PieceRate}}</span>\\n                      </li>\\n                    </ul>\\n                  </div>\\n                </div>\\n                <br>\\n                <div class=\"row\">\\n                  <div class=\"col-md-4\">\\n                    <ul class=\"price\">\\n                      <li>\\n                        <span class=\"float-left font\">Order No</span>\\n                        <span class=\"float-right\"></span>\\n                      </li>\\n                    </ul>\\n                  </div>\\n                  <div class=\"col-md-4\">\\n                    <ul class=\"price\">\\n                      <li>\\n                        <span class=\"float-left font\">Order Rate</span>\\n                        <span class=\"float-right\"></span>\\n                      </li>\\n                    </ul>\\n                  </div>\\n                  <div class=\"col-md-4\">\\n                    <ul class=\"price\">\\n                      <li>\\n                        <span class=\"float-left font\">Order Karat</span>\\n                        <span class=\"float-right\"></span>\\n                      </li>\\n                    </ul>\\n                  </div>\\n                </div>\\n                <br>\\n                <div class=\"row\">\\n                  <div class=\"col-md-12\">\\n                    <h4 class=\"modal-title\">MC Details of BarcodeNo : {{modalPopUPBarcode.BarcodeNo}} </h4>\\n                    <div class=\"table-responsive\">\\n                      <table class=\"table table-bordered\">\\n                        <thead class=\"topbar\">\\n                          <tr>\\n                            <th>MC Type</th>\\n                            <th>MC/Gram</th>\\n                            <th>MC/Piece</th>\\n                            <th>MC%</th>\\n                            <th>Wast.%</th>\\n                            <th>MC Amt</th>\\n                            <th>Wastage Grams</th>\\n                          </tr>\\n                        </thead>\\n                        <tbody>\\n                          <tr>\\n                            <td>{{McType}}</td>\\n                            <td></td>\\n                            <td>{{modalPopUPBarcode.McPerPiece | number : \\'1.2-2\\'}}</td>\\n                            <td>{{modalPopUPBarcode.McPercent | number : \\'1.2-2\\'}}</td>\\n                            <td>{{modalPopUPBarcode.WastPercent | number : \\'1.2-2\\'}}</td>\\n                            <td>{{modalPopUPBarcode.McAmount | number : \\'1.2-2\\'}}</td>\\n                            <td>{{modalPopUPBarcode.WastageGrms | number : \\'1.3-3\\'}}</td>\\n                          </tr>\\n                        </tbody>\\n                      </table>\\n                    </div>\\n                  </div>\\n\\n                </div>\\n                <div class=\"row\">\\n                  <div class=\"col-md-12\">\\n                    <h4 class=\"modal-title\">Stone Details of BarcodeNo : {{modalPopUPBarcode.BarcodeNo}} </h4>\\n                    <div class=\"table-responsive\">\\n                      <table class=\"table table-bordered\">\\n                        <thead class=\"topbar\">\\n                          <tr>\\n                            <th>Name</th>\\n                            <th>Qty</th>\\n                            <th>Carat</th>\\n                            <th>Stone Wt</th>\\n                            <th>Rate/gram</th>\\n                            <th>Amount</th>\\n                          </tr>\\n                        </thead>\\n                        <tbody *ngIf=\"!NoRecords\">\\n                          <tr>\\n                            <td colspan=\"10\">\\n                              <h6 style=\"text-align: center\">No Stone Records Found</h6>\\n                            </td>\\n                          </tr>\\n                        </tbody>\\n                        <tbody *ngIf=\"NoRecords\">\\n                          <tr *ngFor=\"let _stoneList of GetStoneList\">\\n                            <td>{{_stoneList.Name}}</td>\\n                            <td>{{_stoneList.Qty}}</td>\\n                            <td>{{_stoneList.Carrat}}</td>\\n                            <td>{{_stoneList.StoneWt | number : \\'1.3-3\\'}}</td>\\n                            <td>{{_stoneList.Rate | number : \\'1.2-2\\'}}</td>\\n                            <td>{{_stoneList.Amount | number : \\'1.2-2\\'}}</td>\\n                          </tr>\\n                        </tbody>\\n                      </table>\\n                    </div>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <div class=\"col-md-4\">\\n              <div class=\"columns\">\\n                <ul class=\"price\">\\n                  <li>\\n                    <span class=\"float-left font\">Billing N.Wt</span>\\n                    <span class=\"float-right\">{{modalPopUPBarcode.Netwt | number : \\'1.3-3\\'}}</span>\\n                  </li>\\n                  <li>\\n                    <span class=\"float-left\">Discount MC%</span>\\n                    <span class=\"float-right\">{{modalPopUPBarcode.DiscountMc | number : \\'1.2-2\\'}}</span>\\n                  </li>\\n                  <li>\\n                    <span class=\"float-left\">Total Sales Mc</span>\\n                    <span class=\"float-right\">{{modalPopUPBarcode.TotalSalesMc | number : \\'1.2-2\\'}}</span>\\n                  </li>\\n                  <li>\\n                    <span class=\"float-left\">Mc Discount Amt</span>\\n                    <span class=\"float-right\">{{modalPopUPBarcode.McDiscountAmt | number : \\'1.2-2\\'}}</span>\\n                  </li>\\n                  <li>\\n                    <span class=\"float-left\">Metal Amt</span>\\n                    <span class=\"float-right\">{{modalPopUPBarcode.GoldValue | number : \\'1.2-2\\'}}</span>\\n                  </li>\\n                  <li>\\n                    <span class=\"float-left\">MC Amt</span>\\n                    <span class=\"float-right\">{{modalPopUPBarcode.VaAmount | number : \\'1.2-2\\'}}</span>\\n                  </li>\\n                  <li>\\n                    <span class=\"float-left\">Stone Amt</span>\\n                    <span class=\"float-right\">{{modalPopUPBarcode.StoneCharges | number : \\'1.2-2\\'}}</span>\\n                  </li>\\n                  <li>\\n                    <span class=\"float-left\">Diamond Amt</span>\\n                    <span class=\"float-right\">{{modalPopUPBarcode.DiamondCharges | number : \\'1.2-2\\'}}</span>\\n                  </li>\\n                  <li>\\n                    <span class=\"float-left\">Item Amt</span>\\n                    <span class=\"float-right\">{{modalPopUPBarcode.ItemTotalAfterDiscount | number : \\'1.2-2\\'}}</span>\\n                  </li>\\n                  <li>\\n                    <span class=\"float-left font\">SGST Amt</span>\\n                    <span class=\"float-right\">{{modalPopUPBarcode.SGSTAmount | number : \\'1.2-2\\'}}</span>\\n                  </li>\\n                  <li>\\n                    <span class=\"float-left font\">CGST Amt</span>\\n                    <span class=\"float-right\">{{modalPopUPBarcode.CGSTAmount | number : \\'1.2-2\\'}}</span>\\n                  </li>\\n                  <li>\\n                    <span class=\"float-left font\">IGST Amt</span>\\n                    <span class=\"float-right\">{{modalPopUPBarcode.IGSTAmount | number : \\'1.2-2\\'}}</span>\\n                  </li>\\n                  <li>\\n                    <span class=\"float-left font\">CESS Amt</span>\\n                    <span class=\"float-right\"></span>\\n                  </li>\\n                </ul>\\n                <ul class=\"price mt-3\">\\n                  <li>\\n                    <span class=\"float-left font\">Total Amt</span>\\n                    <span class=\"float-right\">{{modalPopUPBarcode.ItemFinalAmount | number : \\'1.2-2\\'}}</span>\\n                  </li>\\n                </ul>\\n                <ul class=\"price mt-3\">\\n                  <li>\\n                    <span class=\"float-left\">Discount</span>\\n                    <span class=\"float-right\">{{modalPopUPBarcode.ItemAdditionalDiscount | number : \\'1.2-2\\'}}</span>\\n                  </li>\\n                </ul>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n        <br>\\n        <br>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\"modal fade \" id=\"addBarcode\" data-backdrop=\"static\" data-keyboard=\"false\" style=\"overflow-y: scroll;\\noverflow-x: hidden;\">\\n  <div class=\"modal-dialog\" style=\"max-width: 1360px;\">\\n    <div class=\"modal-content\">\\n      \\x3c!-- Modal Header --\\x3e\\n      <div class=\"modal-header\">\\n        <h3 class=\"modal-title\">BarCode Details <div class=\"tooltipdesign\"> <i class=\"fal fa-question-circle\"></i>\\n            <span class=\"tooltiptext \">BarCode Details.</span>\\n          </div>\\n        </h3>\\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\\n          <span aria-hidden=\"true\">&times;</span>\\n        </button>\\n      </div>\\n      \\x3c!-- Modal body --\\x3e\\n      <div class=\"modal-body\">\\n        <div class=\"container-fluid\">\\n          <div class=\"row\">\\n            <div class=\"col-md-12\">\\n              <app-add-barcode [BarCodeNo]=\"BarCodeNo\"></app-add-barcode>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<ng-container *ngIf=\"EnableDisablectrls\">\\n  <div class=\"row\" *ngIf=\"ToggleCalculation\">\\n    <div class=\"col-md-3 \">\\n      <button class=\"btn btn-outline-success waves-effect waves-light btn-rounded btn-outline-secondary \"\\n        style=\"margin-top: 1.8rem !important;\" (click)=\"Submit()\">\\n        <i class=\"far fa-save\"></i> Submit</button>\\n    </div>\\n  </div>\\n</ng-container>\\n<br>\\n\\x3c!--   --\\x3e\\n\\n\\x3c!-- <pre>{{SalesLinesPost | json}}</pre> --\\x3e\\n\\n<div id=\"PermissonModalPos\" class=\"modal fade\" role=\"dialog\" data-backdrop=\"static\" data-keyboard=\"false\">\\n  <div class=\"modal-dialog\">\\n    \\x3c!-- Modal content--\\x3e\\n    <div class=\"modal-content\">\\n      <div class=\"modal-header\">\\n        <h4 class=\"modal-title\">Prodigy</h4>\\n        <button type=\"button\" class=\"close\" (click)=\"closePos()\" aria-label=\"Close\">\\n          <span aria-hidden=\"true\">&times;</span></button>\\n      </div>\\n      <div class=\"modal-body\">\\n        <div class=\"form-group\">\\n          <label for=\"OrderNo\">90. Password</label>\\n          <input type=\"password\" min=\"0\" class=\"form-control\" name=\"pwd\" placeholder=\"Password\"\\n            (keyup.enter)=\"passWordPos(PwdInterState.value)\" #PwdInterState>\\n        </div>\\n        <div class=\"form-group\">\\n          <button class=\"btn btn-success waves-effect waves-light btn-rounded btn-secondary\"\\n            (click)=\"passWordPos(PwdInterState.value)\">Submit</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n<div id=\"PermissonModalAddbarcode\" class=\"modal fade\" role=\"dialog\" data-backdrop=\"static\" data-keyboard=\"false\">\\n  <div class=\"modal-dialog\">\\n\\n    \\x3c!-- Modal content--\\x3e\\n    <div class=\"modal-content\">\\n      <div class=\"modal-header\">\\n        <h4 class=\"modal-title\">Prodigy</h4>\\n        <button type=\"button\" class=\"close\" (click)=\"closeAddbarcode()\" aria-label=\"Close\">\\n          <span aria-hidden=\"true\">&times;</span></button>\\n      </div>\\n      <div class=\"modal-body\">\\n        <div class=\"form-group\">\\n          <label for=\"OrderNo\">40. Password</label>\\n          <input type=\"password\" min=\"0\" class=\"form-control\" name=\"pwd\" placeholder=\"Password\"\\n            (keyup.enter)=\"passWordAddbarcode(PwdAddBarcode.value)\" #PwdAddBarcode>\\n        </div>\\n        <div class=\"form-group\">\\n          <button class=\"btn btn-success waves-effect waves-light btn-rounded btn-secondary\"\\n            (click)=\"passWordAddbarcode(PwdAddBarcode.value)\">Submit</button>\\n        </div>\\n      </div>\\n    </div>\\n\\n  </div>\\n</div>\\n\\n\\x3c!--Group Barcoding--\\x3e\\n\\n<div class=\"modal overlay\" id=\"GroupBarcodingModal\" role=\"dialog\" data-backdrop=\"static\" data-keyboard=\"false\">\\n\\n  <div class=\"modal-dialog modal-lg\" style=\"max-width: 1000px\">\\n    <div class=\"modal-content \">\\n\\n      \\x3c!-- Modal Header --\\x3e\\n      <div class=\"modal-header\">\\n        <h4 class=\"modal-title\">Barcode Details</h4>\\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\\n      </div>\\n\\n      \\x3c!-- Modal body --\\x3e\\n      <div class=\"modal-body\">\\n        <form [formGroup]=\"GroupBarcodingForm\">\\n          <table class=\"table\">\\n            <tbody>\\n              <tr>\\n                <td class=\"float-rt\">Barcode No</td>\\n                <td>\\n                  <input type=\"text\" class=\"form-control\" [(ngModel)]=\"groupBarcodingModel.BarcodeNo\"\\n                    formControlName=\"BarcodeNo\" readonly>\\n                </td>\\n                <td class=\"float-rt\">\\n                  Item Name\\n                </td>\\n                <td>\\n                  <input type=\"text\" class=\"form-control\" [(ngModel)]=\"groupBarcodingModel.ItemName\"\\n                    formControlName=\"ItemName\" readonly>\\n                </td>\\n              </tr>\\n              <tr>\\n                <td class=\"float-rt\">Available Qty</td>\\n                <td>\\n                  <input type=\"text\" class=\"form-control\" [(ngModel)]=\"groupBarcodingModel.ItemQty\"\\n                    formControlName=\"ItemQty\" readonly>\\n                </td>\\n                <td class=\"float-rt\">Billing Qty</td>\\n                <td><input type=\"text\" class=\"form-control\" [(ngModel)]=\"groupBarcodingModel.Quantity\"\\n                    formControlName=\"Quantity\">\\n                </td>\\n              </tr>\\n              <tr>\\n                <td class=\"float-rt\">Available Gwt</td>\\n                <td><input type=\"text\" class=\"form-control\" formControlName=\"Grosswt\"\\n                    [(ngModel)]=\"groupBarcodingModel.Grosswt\" readonly>\\n                </td>\\n                <td class=\"float-rt\">Billing Gwt</td>\\n                <td><input type=\"text\" class=\"form-control\" [(ngModel)]=\"groupBarcodingModel.BillingGrossWt\"\\n                    formControlName=\"BillingGrossWt\" (change)=\"CalNtWt()\">\\n                </td>\\n              </tr>\\n              <tr>\\n                <td class=\"float-rt\">Available Swt</td>\\n                <td>\\n                  <input type=\"text\" class=\"form-control\" [(ngModel)]=\"groupBarcodingModel.Stonewt\"\\n                    formControlName=\"Stonewt\" readonly>\\n                </td>\\n                <td class=\"float-rt\">Billing Swt</td>\\n                <td><input type=\"text\" class=\"form-control\" [(ngModel)]=\"groupBarcodingModel.BillingStoneWt\"\\n                    formControlName=\"BillingStoneWt\" (change)=\"CalNtWt()\">\\n                </td>\\n              </tr>\\n              <tr>\\n                <td class=\"float-rt\">Available Nwt</td>\\n                <td>\\n                  <input type=\"text\" class=\"form-control\" [(ngModel)]=\"groupBarcodingModel.Netwt\"\\n                    formControlName=\"Netwt\" readonly>\\n                </td>\\n                <td class=\"float-rt\">Billing Nwt</td>\\n                <td><input type=\"text\" class=\"form-control\" [(ngModel)]=\"groupBarcodingModel.BillingNetWt\"\\n                    formControlName=\"BillingNetWt\" readonly>\\n                </td>\\n              </tr>\\n              <tr>\\n                <td class=\"float-rt\">Available St.Amt</td>\\n                <td>\\n                  <input type=\"text\" class=\"form-control\" readonly>\\n                </td>\\n                <td class=\"float-rt\">Stone Amt</td>\\n                <td><input type=\"text\" class=\"form-control\" readonly>\\n                </td>\\n              </tr>\\n            </tbody>\\n          </table>\\n        </form>\\n      </div>\\n      \\x3c!-- Modal footer --\\x3e\\n      <div class=\"modal-footer\">\\n        <div class=\"input-group\">\\n          <button class=\"btn btn-success waves-effect waves-light btn-rounded btn-secondary\" (click)=\"Save()\"\\n            type=\"button\"><i class=\"fal fa-save\"></i> Save</button>\\n          <button class=\"btn btn-danger waves-effect waves-light btn-rounded btn-secondary\" type=\"button\"\\n            data-dismiss=\"modal\"><i class=\"far fa-window-close\"></i>\\n            Exit</button>\\n        </div>\\n      </div>\\n      \\x3c!-- <pre>{{groupBarcodingModel | json}}</pre> --\\x3e\\n    </div>\\n  </div>\\n</div>'},rJ0g:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var tslib_es6=__webpack_require__(\"mrSG\"),add_barcode_module=__webpack_require__(\"mFkx\"),core=__webpack_require__(\"fXoL\"),common=__webpack_require__(\"ofXK\"),auth_guard_service=__webpack_require__(\"5nbR\"),router=__webpack_require__(\"tyNb\"),add_barcode_service=__webpack_require__(\"f3Qm\"),customer_service=__webpack_require__(\"E2Nj\"),sales_service=__webpack_require__(\"NQ5e\"),estimation_service=__webpack_require__(\"SlBg\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),sweetalert_min=__webpack_require__(\"GUC0\"),sweetalert_min_default=__webpack_require__.n(sweetalert_min),barcodedetails_service=__webpack_require__(\"KoPZ\"),orders_service=__webpack_require__(\"giQ8\"),master_service=__webpack_require__(\"eya4\"),crypto_js=__webpack_require__(\"NFKh\"),ngx_toastr=__webpack_require__(\"5eHb\"),AppConfigService=__webpack_require__(\"qlSq\");let sales_component_SalesComponent=class{constructor(formBuilder,_salesService,_CustomerService,_estimationService,_addBarcodeService,_barcodedetailsService,_orderservice,_masterService,_router,toastr,_appConfigService){this.formBuilder=formBuilder,this._salesService=_salesService,this._CustomerService=_CustomerService,this._estimationService=_estimationService,this._addBarcodeService=_addBarcodeService,this._barcodedetailsService=_barcodedetailsService,this._orderservice=_orderservice,this._masterService=_masterService,this._router=_router,this.toastr=toastr,this._appConfigService=_appConfigService,this.EnableDisablectrls=!0,this.submitted=!1,this.OrderNoFromEstComp=0,this.GetBarcodeList=[],this.ArrayList=[],this.OrderList=[],this.hasErrors=!1,this.id=0,this.readonly=!0,this.valueChange=new core.EventEmitter,this.ccode=\"\",this.bcode=\"\",this.GST=0,this.IGST=0,this.SalesSummaryData={Grwt:null,NtWt:null,SGst:null,CGst:null,IGst:null,TotalItems:null,Amount:null,taxable_Amt:null},this.SalesLinesPost={CompanyCode:this.ccode,BranchCode:this.bcode,CustID:0,GSType:\"\",EstNo:0,MobileNo:null,OperatorCode:null,OrderNo:0,Pos:null,IsOfferApplied:!1,IsOfferSkipped:!1,DiscountAmount:0,salesEstimatonVM:[]},this.CustomerDets=[],this.SalesEstNo=null,this.BarCodeNo=\"\",this.arrayObj=[],this.GetAddBarcodeList=[],this.GetReservedBarcodeList=[],this.groupBarcodingModel={ObjID:null,ItemQty:null,CompanyCode:this.ccode,BranchCode:this.bcode,EstNo:null,SlNo:null,BillNo:null,BarcodeNo:this.BarCodeNo,SalCode:null,CounterCode:null,ItemName:null,ItemNo:null,Grosswt:null,Stonewt:null,Netwt:null,AddWt:null,BillQty:null,DeductWt:null,MakingChargePerRs:null,WastPercent:null,GoldValue:null,VaAmount:null,StoneCharges:null,DiamondCharges:null,TotalAmount:null,Hallmarkarges:null,McAmount:null,WastageGrms:null,McPercent:null,AddQty:null,DeductQty:null,OfferValue:null,UpdateOn:null,GsCode:null,Rate:null,Karat:null,AdBarcode:null,AdCounter:null,AdItem:null,IsEDApplicable:null,McType:null,Fin_Year:null,NewBillNo:null,ItemTotalAfterDiscount:null,ItemAdditionalDiscount:null,TaxPercentage:null,TaxAmount:null,ItemFinalAmount:null,SupplierCode:null,ItemSize:null,ImgID:null,DesignCode:null,DesignName:null,BatchID:null,Rf_ID:null,McPerPiece:null,DiscountMc:null,TotalSalesMc:null,McDiscountAmt:null,purchaseMc:null,GSTGroupCode:null,SGSTPercent:null,SGSTAmount:null,CGSTPercent:null,CGSTAmount:null,IGSTPercent:null,IGSTAmount:null,HSN:null,PieceRate:null,DeductSWt:null,OrdDiscountAmt:null,DedCounter:null,DedItem:null,isInterstate:0,TaggingType:null,Quantity:null,BillingGrossWt:null,BillingStoneWt:null,BillingNetWt:null,salesEstStoneVM:[]},this.interState=0,this.SalesPersonModel={CustID:null,salesPerson:null,barcode:null,GS:null,ItemName:null},this.ReprintData={EstNo:null,EstType:null},this.OrderNo=0,this.DiffMetalCheck=[],this.salesPerson=\"\",this.Toggle=!1,this.ToggleCalculation=!1,this.NoRecords=!1,this.GetStoneList=[],this.GetStonearray=[],this.EditMode=!1,this.SalesAmount=0,this.SalesTotalAmount=0,this.SalesAmountChange=new core.EventEmitter,this.DelCoinOffer=new core.EventEmitter,this.EnablePos=!0,this.permissonModel={CompanyCode:null,BranchCode:null,PermissionID:null,PermissionData:null},this.EnableAddBarcode=!0,this.PlaceOfSupplyEdit=this._appConfigService.RateEditCode.PlaceOfSupplyEdit,this.AddBarcodePermission=this._appConfigService.RateEditCode.AddBarcodePermission,this.GST=Number(this._appConfigService.GST/100),this.IGST=Number(this._appConfigService.IGST/100),this.password=this._appConfigService.Pwd,this.getCB()}getCB(){this.ccode=crypto_js.AES.decrypt(localStorage.getItem(\"ccode\"),this.password.trim()).toString(crypto_js.enc.Utf8),this.bcode=crypto_js.AES.decrypt(localStorage.getItem(\"bcode\"),this.password.trim()).toString(crypto_js.enc.Utf8)}findErrorByField(modelField,index){const modelErr=this.modelErrors.find(m=>m.field===modelField&&m.index===index);return null!=modelErr?modelErr.description:\"\"}ngOnInit(){this.GroupBarcodingForm=this.formBuilder.group({BarcodeNo:[\"\",fesm2015_forms.Validators.required],ItemName:[\"\",fesm2015_forms.Validators.required],ItemQty:[\"\",fesm2015_forms.Validators.required],Quantity:[\"\",fesm2015_forms.Validators.required],Grosswt:[\"\",fesm2015_forms.Validators.required],BillingGrossWt:[\"\",fesm2015_forms.Validators.required],Stonewt:[\"\",fesm2015_forms.Validators.required],BillingStoneWt:[\"\",fesm2015_forms.Validators.required],Netwt:[\"\",fesm2015_forms.Validators.required],BillingNetWt:[\"\",fesm2015_forms.Validators.required],ObjStatus:[\"\",fesm2015_forms.Validators.required],GSSeqNo:[\"\",fesm2015_forms.Validators.required],SchemeCode:[\"\",fesm2015_forms.Validators.required],VATID:[\"\",fesm2015_forms.Validators.required],OdLimit:[\"\",fesm2015_forms.Validators.required],UpdateOn:[\"\",fesm2015_forms.Validators.required],JFlag:[\"\",fesm2015_forms.Validators.required],PANCard:[\"\",fesm2015_forms.Validators.required],TIN:[\"\",fesm2015_forms.Validators.required],LedgerType:[\"\",fesm2015_forms.Validators.required],Address1:[\"\",fesm2015_forms.Validators.required],Address2:[\"\",fesm2015_forms.Validators.required],Address3:[\"\",fesm2015_forms.Validators.required],City:[\"\",fesm2015_forms.Validators.required],State:[\"\",fesm2015_forms.Validators.required],District:[\"\",fesm2015_forms.Validators.required],Country:[\"\",fesm2015_forms.Validators.required],PinCode:[\"\",fesm2015_forms.Validators.required],Phone:[\"\",fesm2015_forms.Validators.required],Mobile:[\"\",fesm2015_forms.Validators.required],FaxNo:[\"\",fesm2015_forms.Validators.required],WebSite:[\"\",fesm2015_forms.Validators.required],CSTNo:[\"\",fesm2015_forms.Validators.required],BudgetAmt:[\"\",fesm2015_forms.Validators.required],TDSID:[\"\",fesm2015_forms.Validators.required],EmailID:[\"\",fesm2015_forms.Validators.required],HSN:[\"\",fesm2015_forms.Validators.required],GSTGoodsGroupCode:[\"\",fesm2015_forms.Validators.required],GSTServicesGroupCode:[\"\",fesm2015_forms.Validators.required],StateCode:[\"\",fesm2015_forms.Validators.required],VTYPE:[\"\",fesm2015_forms.Validators.required],UniqRowID:[\"\",fesm2015_forms.Validators.required],TransType:[\"\",fesm2015_forms.Validators.required],IsAutomatic:[\"\",fesm2015_forms.Validators.required],Schedule_Name:[\"\",fesm2015_forms.Validators.required],NewAccCode:[\"\",fesm2015_forms.Validators.required],PartyACNo:[\"\",fesm2015_forms.Validators.required],PartyACName:[\"\",fesm2015_forms.Validators.required],PartyMICR_No:[\"\",fesm2015_forms.Validators.required],PartyBankName:[\"\",fesm2015_forms.Validators.required],PartyBankBranch:[\"\",fesm2015_forms.Validators.required],PartyBankAddress:[\"\",fesm2015_forms.Validators.required],PartyRTGScode:[\"\",fesm2015_forms.Validators.required],PartyNEFTcode:[\"\",fesm2015_forms.Validators.required],PartyIFSCcode:[\"\",fesm2015_forms.Validators.required],swiftcode:[\"\",fesm2015_forms.Validators.required]}),this.SalesSummaryData={Grwt:null,NtWt:null,SGst:null,CGst:null,IGst:null,TotalItems:null,Amount:null,taxable_Amt:null},this.SalesForm=this.formBuilder.group({salesPerson:[null,fesm2015_forms.Validators.required],barcode:[null,fesm2015_forms.Validators.required],orderNo:[null,fesm2015_forms.Validators.required],GS:[null,fesm2015_forms.Validators.required],StateCode:[null,fesm2015_forms.Validators.required]}),this.SalesGSForm=this.formBuilder.group({GS:[null,fesm2015_forms.Validators.required],ItemName:[null,fesm2015_forms.Validators.required]}),this.Unsubscribe_obj=this._CustomerService.cast.subscribe(response=>{this.CustomerDets=response,null!=this.CustomerDets&&0!=this.CustomerDets?(this.SalesLinesPost.CustID=this.CustomerDets.ID,this.SalesLinesPost.MobileNo=this.CustomerDets.MobileNo,this.SalesLinesPost.OperatorCode=localStorage.getItem(\"Login\"),this.SalesLinesPost.CompanyCode=this.ccode,this.SalesLinesPost.BranchCode=this.bcode):(this.SalesLinesPost.CustID=null,this.SalesLinesPost.OperatorCode=localStorage.getItem(\"Login\"),this.SalesLinesPost.CompanyCode=this.ccode,this.SalesLinesPost.BranchCode=this.bcode)}),this.Unsubscribe_obj=this._estimationService.SubjectEstNo.subscribe(response=>{this.SalesEstNo=response,null!=this.SalesEstNo&&\"0\"!=this.SalesEstNo&&\"/purchase\"!=this._router.url&&this._salesService.castSalesDtls.subscribe(response=>{if(this.arrayObj=response,null!=this.arrayObj){this.SalesPersonModel.salesPerson=this.arrayObj.salesEstimatonVM[0].SalCode,this.SalesLinesPost.GSType=this.arrayObj.GSType,this.SalesLinesPost.OrderNo=this.arrayObj.OrderNo,this.SalesLinesPost.EstNo=this.SalesEstNo,this.SalesLinesPost.DiscountAmount=this.arrayObj.DiscountAmount,this.GetBarcodeList=this.arrayObj.salesEstimatonVM,this.SalesLinesPost.salesEstimatonVM=this.arrayObj.salesEstimatonVM,this.ToggleCalculation=!0,this.SendSalesDataToEstComp();for(let i=0;i<this.SalesLinesPost.salesEstimatonVM.length;i++)\"\"==this.SalesLinesPost.salesEstimatonVM[i].BarcodeNo&&this.getGstPercent(this.SalesLinesPost.salesEstimatonVM[i].GsCode,this.SalesLinesPost.salesEstimatonVM[i].ItemName)}})}),this.Unsubscribe_obj=this._addBarcodeService.cast.subscribe(response=>{if(this.GetAddBarcodeList=response,null!=this.SalesEstNo&&\"0\"!=this.SalesEstNo&&0==this.isEmptyObject(this.GetAddBarcodeList)&&null!=this.isEmptyObject(this.GetAddBarcodeList))if(0==this.SalesLinesPost.salesEstimatonVM.length){1==this.EditMode&&(this.GetBarcodeList.splice(this.IndexNo,1),this.EditMode=!1),this.GetBarcodeList.push(this.GetAddBarcodeList);for(let i=0;i<this.SalesLinesPost.salesEstimatonVM.length;i++)this.getGstPercent(this.SalesLinesPost.salesEstimatonVM[i].GsCode,this.SalesLinesPost.salesEstimatonVM[i].ItemName);this._addBarcodeService.SendBarcodeDataToSalesComp(null),this.GetAddBarcodeList=[],this.ToggleCalculation=!0}else if(1==this.EditMode){this.GetBarcodeList.splice(this.IndexNo,1),this.EditMode=!1,this.GetBarcodeList.push(this.GetAddBarcodeList);for(let i=0;i<this.SalesLinesPost.salesEstimatonVM.length;i++)this.getGstPercent(this.SalesLinesPost.salesEstimatonVM[i].GsCode,this.SalesLinesPost.salesEstimatonVM[i].ItemName);this.GetAddBarcodeList=[],this.ToggleCalculation=!0,this._addBarcodeService.SendBarcodeDataToSalesComp(null)}else this._salesService.BarcodeValidation(this.SalesLinesPost,this.GetAddBarcodeList.BarcodeNo,this.GetAddBarcodeList.GsCode).subscribe(response=>{if(this.DiffMetalValid=response,0==this.DiffMetalCheck.length){this.GetBarcodeList.push(this.GetAddBarcodeList);for(let i=0;i<this.SalesLinesPost.salesEstimatonVM.length;i++)this.getGstPercent(this.SalesLinesPost.salesEstimatonVM[i].GsCode,this.SalesLinesPost.salesEstimatonVM[i].ItemName);this.GetAddBarcodeList=[],this.ToggleCalculation=!0,this._addBarcodeService.SendBarcodeDataToSalesComp(null)}},err=>{$(\"#addBarcode\").modal(\"hide\")});$(\"#addBarcode\").modal(\"hide\")}),this.Unsubscribe_obj=this._addBarcodeService.cast.subscribe(response=>{if(this.GetAddBarcodeList=response,(null==this.SalesEstNo||\"0\"==this.SalesEstNo)&&0==this.isEmptyObject(this.GetAddBarcodeList)&&null!=this.isEmptyObject(this.GetAddBarcodeList))if(0==this.SalesLinesPost.salesEstimatonVM.length){1==this.EditMode?(this.GetBarcodeList.splice(this.IndexNo,1),this.GetBarcodeList.push(this.GetAddBarcodeList),this.SalesLinesPost.salesEstimatonVM.splice(this.IndexNo,1),this.SalesLinesPost.salesEstimatonVM.push(this.GetAddBarcodeList),this.EditMode=!1):\"\"!=this.SalesLinesPost.GSType?(this.GetBarcodeList.push(this.GetAddBarcodeList),this.SalesLinesPost.salesEstimatonVM.push(this.GetAddBarcodeList)):(this.SalesLinesPost.GSType=this.GetAddBarcodeList.GsCode,this.GetBarcodeList.push(this.GetAddBarcodeList),this.SalesLinesPost.salesEstimatonVM.push(this.GetAddBarcodeList));for(let i=0;i<this.SalesLinesPost.salesEstimatonVM.length;i++)this.getGstPercent(this.SalesLinesPost.salesEstimatonVM[i].GsCode,this.SalesLinesPost.salesEstimatonVM[i].ItemName);this._addBarcodeService.SendBarcodeDataToSalesComp(null),this.GetAddBarcodeList=[],this.ToggleCalculation=!0}else if(1==this.EditMode){this.GetBarcodeList.splice(this.IndexNo,1),this.GetBarcodeList.push(this.GetAddBarcodeList),this.SalesLinesPost.salesEstimatonVM.splice(this.IndexNo,1),this.SalesLinesPost.salesEstimatonVM.push(this.GetAddBarcodeList),this.EditMode=!1;for(let i=0;i<this.SalesLinesPost.salesEstimatonVM.length;i++)this.getGstPercent(this.SalesLinesPost.salesEstimatonVM[i].GsCode,this.SalesLinesPost.salesEstimatonVM[i].ItemName);this._addBarcodeService.SendBarcodeDataToSalesComp(null),this.GetAddBarcodeList=[],this.ToggleCalculation=!0}else this._salesService.BarcodeValidation(this.SalesLinesPost,this.GetAddBarcodeList.BarcodeNo,this.GetAddBarcodeList.GsCode).subscribe(response=>{if(this.DiffMetalValid=response,0==this.DiffMetalCheck.length){\"\"!=this.SalesLinesPost.GSType?(this.GetBarcodeList.push(this.GetAddBarcodeList),this.SalesLinesPost.salesEstimatonVM.push(this.GetAddBarcodeList)):(this.SalesLinesPost.GSType=this.GetAddBarcodeList.GsCode,this.GetBarcodeList.push(this.GetAddBarcodeList),this.SalesLinesPost.salesEstimatonVM.push(this.GetAddBarcodeList));for(let i=0;i<this.SalesLinesPost.salesEstimatonVM.length;i++)this.getGstPercent(this.SalesLinesPost.salesEstimatonVM[i].GsCode,this.SalesLinesPost.salesEstimatonVM[i].ItemName);this._addBarcodeService.SendBarcodeDataToSalesComp(null),this.GetAddBarcodeList=[],this.ToggleCalculation=!0}},err=>{$(\"#addBarcode\").modal(\"hide\")});$(\"#addBarcode\").modal(\"hide\")}),this.Unsubscribe_obj=this._estimationService.SubjectOrderNo.subscribe(response=>{this.OrderNoFromEstComp=response,0!=this.OrderNoFromEstComp&&this._salesService.castSalesDtls.subscribe(response=>{if(this.arrayObj=response,null!=this.arrayObj&&(this.SalesLinesPost.OrderNo=this.arrayObj.OrderNo,null!=this.arrayObj.salesEstimatonVM&&(this.GetBarcodeList=this.arrayObj.salesEstimatonVM,this.SalesLinesPost.salesEstimatonVM=this.arrayObj.salesEstimatonVM,this.ToggleCalculation=!0,this.SendSalesDataToEstComp(),this.SalesLinesPost.salesEstimatonVM.length>0)))for(let i=0;i<this.SalesLinesPost.salesEstimatonVM.length;i++)this.SalesLinesPost.salesEstimatonVM[i].SalCode=\"A\",this.getGstPercent(this.SalesLinesPost.salesEstimatonVM[i].GsCode,this.SalesLinesPost.salesEstimatonVM[i].ItemName)})}),this.Unsubscribe_obj=this._orderservice.castReservedOrderDetsToSalesComp.subscribe(response=>{if(this.GetReservedBarcodeList=response,this.GetReservedBarcodeList.length>0)for(let i=0;i<this.GetReservedBarcodeList.length;i++)this.GetBarcodeList.push(this.GetReservedBarcodeList[i]),this.SalesLinesPost.salesEstimatonVM.push(this.GetReservedBarcodeList[i])}),this.getStateList(),this.getSalesMan(),this.getGSList(),this.errors=[],this.modelErrors=[],this.hasErrors=!1,\"/sales-billing\"==this._router.url&&(this.EnableDisablectrls=!1),\"/estimation\"==this._router.url&&(this.EnableDisablectrls=!0),this.Unsubscribe_obj=this._estimationService.castCoinOfferDatatoSales.subscribe(response=>{this.CoinOfferBarcodeList=response,0==this.isEmptyObject(this.CoinOfferBarcodeList)&&null!=this.isEmptyObject(this.CoinOfferBarcodeList)&&(null!=this.CoinOfferBarcodeList.BarcodeNo&&this.getBarcodeDetails(this.CoinOfferBarcodeList.BarcodeNo,\"\",1),this.SalesLinesPost.DiscountAmount=this.CoinOfferBarcodeList.DisAmount,this.SalesLinesPost.IsOfferApplied=!0,this.SalesLinesPost.IsOfferSkipped=!1)})}getItem(){this._masterService.getItemName(this.SalesGSForm.value.GS).subscribe(response=>{this.ItemName=response})}getStateList(){this._CustomerService.getStateCode().subscribe(Response=>{this.StateList=Response,this._masterService.getCompanyMaster().subscribe(Response=>{this.CompanyMaster=Response,this.SalesLinesPost.Pos=this.CompanyMaster.StateCode})})}SetInterState(arg){if(this.EnablePos=!0,null!=this.GetBarcodeList)if(arg!=this.CompanyMaster.StateCode)for(let i=0;i<this.GetBarcodeList.length;i++)this.GetBarcodeList[i].interState=1,this.GetBarcodeList[i].isInterstate=1,this.GetBarcodeList[i].IGSTAmount=Math.abs(this.GetBarcodeList[i].ItemTotalAfterDiscount*this.IGST).toFixed(2),this.GetBarcodeList[i].IGSTPercent=3,this.GetBarcodeList[i].SGSTAmount=0,this.GetBarcodeList[i].CGSTAmount=0,this.GetBarcodeList[i].CGSTPercent=0,this.GetBarcodeList[i].SGSTPercent=0;else for(let i=0;i<this.GetBarcodeList.length;i++)this.GetBarcodeList[i].interState=0,this.GetBarcodeList[i].isInterstate=0,this.GetBarcodeList[i].SGSTAmount=Math.abs(this.GetBarcodeList[i].ItemTotalAfterDiscount*this.GST).toFixed(2),this.GetBarcodeList[i].CGSTAmount=Math.abs(this.GetBarcodeList[i].ItemTotalAfterDiscount*this.GST).toFixed(2),this.GetBarcodeList[i].CGSTPercent=1.5,this.GetBarcodeList[i].SGSTPercent=1.5,this.GetBarcodeList[i].IGSTPercent=0,this.GetBarcodeList[i].IGSTAmount=0;arg!=this.CompanyMaster.StateCode?this.interState=1:this.interState=0}get f(){return this.SalesForm.controls}getSalesMan(){this._masterService.getSalesMan().subscribe(response=>{this.SalesManList=response})}getMc(){this._masterService.getMCTypes().subscribe(response=>{this.MCList=response})}getGSList(){this._masterService.getGsList(\"S\").subscribe(response=>{this.GSList=response})}getDetails(form){null==form.value.salesPerson?alert(\"Please select Sales Person\"):null==form.value.barcode||\"\"==form.value.barcode?alert(\"Please enter barcode\"):null!=form.value.barcode&&\"\"!=form.value.barcode&&(0==this.AlphaNumericValidations(form.value.barcode)?alert(\"Please enter valid Barcode No\"):(this.addBarCode(form),this.SalesPersonModel.barcode=\"\",this.getGSList(),this.getMc()))}AlphaNumericValidations(arg){if(null!=arg&&\"\"!=arg){return/^[a-zA-Z0-9]+$/g.test(arg)}return!0}ngAfterContentChecked(){this.PwdAddBarcode.nativeElement.focus(),this.PwdInterState.nativeElement.focus()}AddBarcode(form){null==form.value.salesPerson?alert(\"Please select Sales Person\"):(this._addBarcodeService.SendInterStateDataToAddBarCodeComp(this.SalesLinesPost),null==form.value.barcode||\"\"==form.value.barcode?(this.PwdAddBarcode.nativeElement.value=\"\",$(\"#PermissonModalAddbarcode\").modal(\"show\")):(this.getDetails(form),$(\"#addBarcode\").modal(\"hide\"),$(\"#PermissonModalAddbarcode\").modal(\"hide\")))}addBarCode(arg){if(null!=this.GetBarcodeList){null==this.GetBarcodeList.find(x=>x.BarcodeNo==arg.value.barcode)?(this.getBarcodeDetails(arg.value.barcode,arg.value.salesPerson,0),this.SalesPersonModel.barcode=\"\"):sweetalert_min_default()(\"Warning!\",\"Barcode number already added\",\"warning\")}else this.GetBarcodeList=[],this.getBarcodeDetails(arg.value.barcode,arg.value.salesPerson,0),this.SalesPersonModel.barcode=\"\"}validateDiffMetal(){}getOrderBarcodeDetails(OrderNo){this._salesService.getOrderEst(OrderNo).subscribe(response=>{this.OrderList.push(response);for(let i=0;i<this.OrderList.length;i++)this.ArrayList.push(this.OrderList[0][i]);this.GetBarcodeList.push(this.ArrayList[0]),null==this.SalesEstNo&&(this.SalesLinesPost.salesEstimatonVM.push(this.ArrayList[0]),this.SalesLinesPost.GSType=this.ArrayList[0].GsCode),this.ToggleCalculation=!0,this.ArrayList=[],this.OrderList=[]},err=>{if(400===err.status){const validationError=err.error;alert(validationError.description)}else this.errors.push(\"something went wrong!\")})}getBarcodeDetails(barcode,salePerson,isOfferCoin){this._estimationService.SubjectOrderNo.subscribe(response=>{this.OrderNo=response,0!=this.OrderNo&&(this.SalesEstNo=null,this.SalesLinesPost.OrderNo=this.OrderNo)}),this.salesPerson=salePerson,this._salesService.getBarcodefromAPI(barcode,this.OrderNo,this.interState,isOfferCoin).subscribe(response=>{this.DiffMetalCheck.push(response),\"G\"==this.DiffMetalCheck[0].TaggingType?($(\"#GroupBarcodingModal\").modal(\"show\"),this.groupBarcodingModel=this.DiffMetalCheck[0]):($(\"#GroupBarcodingModal\").modal(\"hide\"),this._salesService.BarcodeValidation(this.SalesLinesPost,barcode,this.DiffMetalCheck[0].GsCode).subscribe(response=>{this.ArrayList=this.DiffMetalCheck,this.ArrayList[0].SalCode=this.salesPerson,this.getGstPercent(this.ArrayList[0].GsCode,this.ArrayList[0].ItemName),this.GetBarcodeList.push(this.ArrayList[0]),null==this.SalesEstNo&&this.SalesLinesPost.salesEstimatonVM.push(this.ArrayList[0]),this.SalesLinesPost.GSType=this.ArrayList[0].GsCode,this.ToggleCalculation=!0,this.SendSalesDataToEstComp(),this.ArrayList=[],this.DiffMetalCheck=[]}))},err=>{if(400===err.status){err.error}else this.errors.push(\"something went wrong!\")})}GetBarcodeInfo(arg){this.Toggle=!0,this.modalPopUPBarcode=null,this.modalPopUPBarcode=arg,this.getGSList(),this.SalesPersonModel.GS=this.modalPopUPBarcode.GsCode,this._masterService.getItemName(this.SalesPersonModel.GS).subscribe(response=>{this.ItemName=response,this.SalesPersonModel.ItemName=this.modalPopUPBarcode.ItemName}),this.getGetStoneListDetails(arg),this.getMCTypes(this.modalPopUPBarcode.McType)}getMCTypes(arg){this._orderservice.getMCTypes().subscribe(response=>{this.MCTypeList=response,this.McType=this.MCTypeList.filter(value=>value.MC_ID===arg),this.McType=this.McType[0].MC_NAME})}getGetStoneListDetails(arg){this.GetStoneList=[],this.GetStonearray=arg.salesEstStoneVM;for(let i=0;i<this.GetStonearray.length;i++)this.GetStoneList.push(this.GetStonearray[i]);0==this.isEmptyObject(this.GetStoneList)?this.NoRecords=!0:this.NoRecords=!1}SendSalesDataToEstComp(){this._salesService.SendSalesDataToEstComp(this.SalesSummaryData)}isEmptyObject(obj){return obj&&0===Object.keys(obj).length}onSubmit(){this.submitted=!0,this.SalesForm.invalid}EditTagRow(index,arg){\"G\"==arg.TaggingType?sweetalert_min_default()(\"Warning!\",\"Group Barcode cannot be edited\",\"warning\"):\"\"==arg.IsEDApplicable||null==arg.IsEDApplicable?(this.IndexNo=index,this._salesService.SendSalesDataToAddBarcode(null),this._salesService.SendSalesDataToAddBarcode(arg),this._estimationService.SendOrderNoToSalesComp(this.SalesLinesPost.OrderNo),$(\"#addBarcode\").modal(\"show\"),this.EditMode=!0):sweetalert_min_default()(\"Warning!\",\"Offer coins cannot be edited\",\"warning\")}Submit(){let estNo;if(null==this.SalesLinesPost.Pos)this.toastr.warning(\"Please select Pos\",\"Alert!\");else if(this.SalesLinesPost.salesEstimatonVM.length<=0)this.toastr.warning(\"Please enter Sales Details\",\"Alert!\");else{if(this.Duplicateobject=null,this.removeDuplicates(),null!=this.Duplicateobject)this.toastr.warning(\"Please remove the duplicate barcode\",\"Alert!\");else confirm(\"Do you want to save??\")&&(this.SendSalesDataToEstComp(),null==this.SalesLinesPost.EstNo||0==this.SalesLinesPost.EstNo?this._salesService.post(this.SalesLinesPost).subscribe(response=>{estNo=response,sweetalert_min_default()(\"Saved!\",\"Estimation number \"+estNo.EstMationNo+\" Created\",\"success\"),this._salesService.SendEstNo_To_Purchase(estNo.EstMationNo),this._estimationService.SendEstNo(estNo.EstMationNo),this._salesService.salesDetails(this.SalesLinesPost),this.SalesLinesPost.EstNo=estNo.EstMationNo,this.ReprintData={EstNo:estNo.EstMationNo,EstType:\"S\"},this._estimationService.SendReprintData(this.ReprintData)},err=>{if(403===err.status){const validationError=err.error;if(confirm(\"Estimation is Eligible for Free Gift. Do You Want to Issue??\"))this._estimationService.SendTotalCoinOffer(validationError.Value);else confirm(\"Do you want to save Sales Estimation??\")&&(this.SalesLinesPost.IsOfferApplied=!1,this.SalesLinesPost.IsOfferSkipped=!0,this.SendSalesDataToEstComp(),null!=this.SalesLinesPost.EstNo&&0!=this.SalesLinesPost.EstNo||this._salesService.post(this.SalesLinesPost).subscribe(response=>{estNo=response,sweetalert_min_default()(\"Saved!\",\"Estimation number \"+estNo.EstMationNo+\" Created\",\"success\"),this._salesService.SendEstNo_To_Purchase(estNo.EstMationNo),this._estimationService.SendEstNo(estNo.EstMationNo),this._salesService.salesDetails(this.SalesLinesPost),this.SalesLinesPost.EstNo=estNo.EstMationNo,this.ReprintData={EstNo:estNo.EstMationNo,EstType:\"S\"},this._estimationService.SendReprintData(this.ReprintData)}))}}):this._salesService.put(this.SalesLinesPost,this.SalesLinesPost.EstNo).subscribe(response=>{estNo=response,sweetalert_min_default()(\"Updated!\",\"Estimation number \"+estNo.EstMationNo+\" Updated\",\"success\"),this._salesService.SendEstNo_To_Purchase(estNo.EstMationNo),this._estimationService.SendEstNo(estNo.EstMationNo),this._salesService.salesDetails(this.SalesLinesPost),this.ReprintData={EstNo:estNo.EstMationNo,EstType:\"S\"},this._estimationService.SendReprintData(this.ReprintData)},err=>{if(403===err.status){const validationError=err.error;if(confirm(\"Estimation is Eligible for Free Gift. Do You Want to Issue??\"))this._estimationService.SendTotalCoinOffer(validationError.Value);else confirm(\"Do you want to save Sales Estimation??\")&&(this.SalesLinesPost.IsOfferApplied=!1,this.SalesLinesPost.IsOfferSkipped=!0,this.SendSalesDataToEstComp(),this._salesService.put(this.SalesLinesPost,this.SalesLinesPost.EstNo).subscribe(response=>{estNo=response,sweetalert_min_default()(\"Updated!\",\"Estimation number \"+estNo.EstMationNo+\" Updated\",\"success\"),this._salesService.SendEstNo_To_Purchase(estNo.EstMationNo),this._estimationService.SendEstNo(estNo.EstMationNo),this._salesService.salesDetails(this.SalesLinesPost),this.ReprintData={EstNo:estNo.EstMationNo,EstType:\"S\"},this._estimationService.SendReprintData(this.ReprintData)}))}}))}}ngOnDestroy(){this._salesService.SaveSalesEstNo(null),this._CustomerService.SendCustDataToEstComp(null),this._salesService.salesDetails(null)}valueChanged(Amount){this.SalesAmount=Amount,this.valueChange.emit(this.SalesAmount)}SalesAmountChanged(SalesAmount){this.SalesTotalAmount=SalesAmount,this.SalesAmountChange.emit(this.SalesTotalAmount)}DeleteDiscountCoinOffer(arg){this.DelCoinOffer.emit(arg)}removeDuplicates(){for(let obj of this.SalesLinesPost.salesEstimatonVM)for(let ele of this.SalesLinesPost.salesEstimatonVM)if(obj!=ele&&\"\"!=obj.BarcodeNo&&ele.BarcodeNo===obj.BarcodeNo){this.Duplicateobject=obj;break}}DeleteTagRow(index,arg){\"\"!=this.GetBarcodeList[index].IsEDApplicable&&null!=this.GetBarcodeList[index].IsEDApplicable?confirm(\"Do you want to delete\")&&confirm(\"All gift items are removed,Re-issue the gift items.Do you want to continue?\")&&(this.DeleteDiscountCoinOffer(1),this.GetBarcodeList.splice(index,1),this.SalesLinesPost.salesEstimatonVM.splice(index,1),this.ClearBarcodeDets(),this.SalesLinesPost.IsOfferApplied=!1,this.SalesLinesPost.IsOfferSkipped=!0):confirm(\"Do you want to delete\")&&(this.DeleteDiscountCoinOffer(0),this.valueChanged(this.GetBarcodeList[index].ItemFinalAmount),this.GetBarcodeList.splice(index,1),this.SalesLinesPost.salesEstimatonVM.splice(index,1),this.ClearBarcodeDets())}ClearBarcodeDets(){this.GetBarcodeList.length<=0&&(this.SalesLinesPost.GSType=\"\")}total_items(arg=[]){let total=0;return arg.forEach(d=>{total+=parseInt(d.ItemQty)}),this.SalesSummaryData.TotalItems=total,total}grossWT(arg=[]){let total=0;return arg.forEach(d=>{total+=d.Grosswt}),this.SalesSummaryData.Grwt=total,total}netWT(arg=[]){let total=0;return arg.forEach(d=>{total+=d.Netwt}),this.SalesSummaryData.NtWt=total,total}getGstPercent(GsCode,ItemName){this._masterService.getGSTPercent(GsCode,ItemName).subscribe(Response=>{this.GstPercentList=Response,this.CGSTPer=this.GstPercentList[0].GSTPercent,this.SGSTPer=this.GstPercentList[1].GSTPercent,this.IGSTPer=this.GstPercentList[2].GSTPercent})}Rate(arg=[]){let total=0;return arg.forEach(d=>{total+=d.Rate}),total}metal_amount(arg=[]){let total=0;return arg.forEach(d=>{\"\"!=d.IsEDApplicable&&null!=d.IsEDApplicable||(total+=d.GoldValue)}),total}stone_amount(arg=[]){let total=0;return arg.forEach(d=>{\"\"!=d.IsEDApplicable&&null!=d.IsEDApplicable||(total+=d.StoneCharges)}),total}va_amount(arg=[]){let total=0;return arg.forEach(d=>{\"\"!=d.IsEDApplicable&&null!=d.IsEDApplicable||(total+=d.VaAmount)}),total}taxable_amount(arg=[]){let total=0;return arg.forEach(d=>{\"\"!=d.IsEDApplicable&&null!=d.IsEDApplicable||(total+=d.ItemTotalAfterDiscount)}),this.SalesSummaryData.taxable_Amt=total,total}SGST_amount(arg=[]){let total=0;return arg.forEach(d=>{null!=d.SGSTAmount&&0!=d.SGSTAmount&&(\"\"!=d.IsEDApplicable&&null!=d.IsEDApplicable||(total+=Number(d.SGSTAmount)))}),this.SalesSummaryData.SGst=total,total}CGST_amount(arg=[]){let total=0;return arg.forEach(d=>{null!=d.CGSTAmount&&0!=d.CGSTAmount&&(\"\"!=d.IsEDApplicable&&null!=d.IsEDApplicable||(total+=Number(d.CGSTAmount)))}),this.SalesSummaryData.CGst=total,total}IGST_amount(arg=[]){let total=0;return arg.forEach(d=>{null!=d.IGSTAmount&&0!=d.IGSTAmount&&(\"\"!=d.IsEDApplicable&&null!=d.IsEDApplicable||(total+=Number(d.IGSTAmount)))}),this.SalesSummaryData.IGst=total,total}SalesTotal_amount(arg=[]){let total=0;return arg.forEach(d=>{\"\"!=d.IsEDApplicable&&null!=d.IsEDApplicable||(total+=Number(d.ItemFinalAmount))}),this.SalesSummaryData.Amount=total,this.SalesAmountChanged(total),total}EditPos(){$(\"#PermissonModalPos\").modal(\"show\"),this.PwdInterState.nativeElement.value=\"\"}passWordPos(arg){\"\"==arg?(this.toastr.warning(\"Please Enter the Password\",\"Alert!\"),$(\"#PermissonModalPos\").modal(\"show\"),this.EnablePos=!0):(this.permissonModel.CompanyCode=this.ccode,this.permissonModel.BranchCode=this.bcode,this.permissonModel.PermissionID=this.PlaceOfSupplyEdit,this.permissonModel.PermissionData=btoa(arg),this._masterService.postelevatedpermission(this.permissonModel).subscribe(response=>{this.EnablePos=!1,$(\"#PermissonModalPos\").modal(\"hide\")},err=>{401===err.status&&($(\"#PermissonModalPos\").modal(\"show\"),this.EnablePos=!0)}))}passWordAddbarcode(arg){\"\"==arg?(this.toastr.warning(\"Please Enter the Password\",\"Alert!\"),$(\"#PermissonModalAddbarcode\").modal(\"show\"),this.EnableAddBarcode=!0):(this.permissonModel.CompanyCode=this.ccode,this.permissonModel.BranchCode=this.bcode,this.permissonModel.PermissionID=this.AddBarcodePermission,this.permissonModel.PermissionData=btoa(arg),this._masterService.postelevatedpermission(this.permissonModel).subscribe(response=>{this.EnableAddBarcode=!1,$(\"#PermissonModalAddbarcode\").modal(\"hide\"),$(\"#addBarcode\").modal(\"show\"),this._salesService.SendSalesBarcode(\"true\"),this.EditMode=!1,this.PwdAddBarcode.nativeElement.value=\"\"},err=>{401===err.status&&($(\"#PermissonModalAddbarcode\").modal(\"show\"),this.EnableAddBarcode=!0)}))}closePos(){$(\"#PermissonModalPos\").modal(\"hide\")}closeAddbarcode(){$(\"#PermissonModalAddbarcode\").modal(\"hide\")}Save(){this._addBarcodeService.calculateBarcode(this.groupBarcodingModel).subscribe(response=>{this.GroupBarcodeDets=response,this.ArrayList.push(this.GroupBarcodeDets),this.ArrayList[0].SalCode=this.salesPerson,this.getGstPercent(this.ArrayList[0].GsCode,this.ArrayList[0].ItemName),this.GetBarcodeList.push(this.ArrayList[0]),null==this.SalesEstNo&&this.SalesLinesPost.salesEstimatonVM.push(this.ArrayList[0]),this.SalesLinesPost.GSType=this.ArrayList[0].GsCode,this.ToggleCalculation=!0,this.SendSalesDataToEstComp(),this.ArrayList=[],this.DiffMetalCheck=[],this.GroupBarcodeDets=null,$(\"#GroupBarcodingModal\").modal(\"hide\")})}CalNtWt(){this.groupBarcodingModel.BillingNetWt=this.groupBarcodingModel.BillingGrossWt-this.groupBarcodingModel.BillingStoneWt}};sales_component_SalesComponent.ctorParameters=()=>[{type:fesm2015_forms.FormBuilder},{type:sales_service.a},{type:customer_service.a},{type:estimation_service.a},{type:add_barcode_service.a},{type:barcodedetails_service.a},{type:orders_service.a},{type:master_service.a},{type:router.c},{type:ngx_toastr.b},{type:AppConfigService.a}],tslib_es6.a([Object(core.ViewChild)(\"PwdInterState\",{static:!0}),tslib_es6.c(\"design:type\",core.ElementRef)],sales_component_SalesComponent.prototype,\"PwdInterState\",void 0),tslib_es6.a([Object(core.ViewChild)(\"PwdAddBarcode\",{static:!0}),tslib_es6.c(\"design:type\",core.ElementRef)],sales_component_SalesComponent.prototype,\"PwdAddBarcode\",void 0),tslib_es6.a([Object(core.Output)(),tslib_es6.c(\"design:type\",Object)],sales_component_SalesComponent.prototype,\"valueChange\",void 0),tslib_es6.a([Object(core.Output)(),tslib_es6.c(\"design:type\",Object)],sales_component_SalesComponent.prototype,\"SalesAmountChange\",void 0),tslib_es6.a([Object(core.Output)(),tslib_es6.c(\"design:type\",Object)],sales_component_SalesComponent.prototype,\"DelCoinOffer\",void 0),sales_component_SalesComponent=tslib_es6.a([Object(core.Component)({selector:\"app-sales\",template:tslib_es6.b(__webpack_require__(\"ezid\")).default,styles:[tslib_es6.b(__webpack_require__(\"YHdl\")).default]}),tslib_es6.c(\"design:paramtypes\",[fesm2015_forms.FormBuilder,sales_service.a,customer_service.a,estimation_service.a,add_barcode_service.a,barcodedetails_service.a,orders_service.a,master_service.a,router.c,ngx_toastr.b,AppConfigService.a])],sales_component_SalesComponent);const SalesRoutes=[{path:\"\",canActivate:[auth_guard_service.a],canActivateChild:[auth_guard_service.a],component:sales_component_SalesComponent,data:{title:\"Sales\",urls:[{title:\"Dashboard\",url:\"/dashboard\"},{title:\"Sales\"}]}}];let SalesRoutingModule=class{};SalesRoutingModule=tslib_es6.a([Object(core.NgModule)({imports:[router.d.forChild(SalesRoutes)],exports:[router.d]})],SalesRoutingModule),__webpack_require__.d(__webpack_exports__,\"SalesModule\",(function(){return SalesModule}));let SalesModule=class{};SalesModule=tslib_es6.a([Object(core.NgModule)({declarations:[sales_component_SalesComponent],imports:[common.CommonModule,SalesRoutingModule,fesm2015_forms.ReactiveFormsModule,fesm2015_forms.FormsModule,add_barcode_module.AddBarcodeModule],exports:[sales_component_SalesComponent],schemas:[core.CUSTOM_ELEMENTS_SCHEMA]})],SalesModule)}}]);","extractedComments":[]}