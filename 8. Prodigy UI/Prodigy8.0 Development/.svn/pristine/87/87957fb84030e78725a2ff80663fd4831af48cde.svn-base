function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+OR5":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("mrSG"),s=n("2Vo4"),o=n("fXoL"),i=n("tk/3"),l=n("NFKh"),r=n("qlSq"),d=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this.appConfigService=n,this.ccode="",this.bcode="",this.ItemLinesSummaryData=new s.a({}),this.cast=this.ItemLinesSummaryData.asObservable(),this.SRNoToReprintComp=new s.a({}),this.castSRNoToReprintComp=this.SRNoToReprintComp.asObservable(),this.SRBillNoToReprintComp=new s.a({}),this.castSRBillNoToReprintComp=this.SRBillNoToReprintComp.asObservable(),this.SRHide=new s.a(!1),this.castSRHide=this.SRHide.asObservable(),this.SREnablePrint=new s.a(!1),this.castSREnablePrint=this.SREnablePrint.asObservable(),this.apiBaseUrl=this.appConfigService.apiBaseUrl,this.password=this.appConfigService.Pwd,this.getCB()}return _createClass(e,[{key:"getCB",value:function(){this.ccode=l.AES.decrypt(localStorage.getItem("ccode"),this.password.trim()).toString(l.enc.Utf8),this.bcode=l.AES.decrypt(localStorage.getItem("bcode"),this.password.trim()).toString(l.enc.Utf8)}},{key:"getBilledBranch",value:function(){return this._http.get(this.apiBaseUrl+"api/SalesReturnEst/BilledBranch?companyCode="+this.ccode+"&branchCode="+this.bcode)}},{key:"GetsalesBillNo",value:function(e){return this._http.get(this.apiBaseUrl+"api/SalesReturnEst/Get?companyCode="+this.ccode+"&branchCode="+this.bcode+"&billNo="+e)}},{key:"post",value:function(e){var t=JSON.stringify(e);return this._http.post(this.apiBaseUrl+"api/SalesReturnEst/Post",t)}},{key:"getSalesReturnDetails",value:function(e){return this._http.get(this.apiBaseUrl+"api/SalesReturn/Get/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"ConfirmSR",value:function(e){var t=JSON.stringify(e);return this._http.post(this.apiBaseUrl+"api/SalesReturn/Post",t)}},{key:"getSearchParams",value:function(){return this._http.get(this.apiBaseUrl+"api/SalesReturnEst/searchParams")}},{key:"getAttachSalesReturnList",value:function(e,t){return this._http.get(this.apiBaseUrl+"api/SalesReturnEst/GetSRAttachSearch?companyCode="+this.ccode+"&branchCode="+this.bcode+"&searchType="+e+"&searchValue="+t)}},{key:"getSalesReturnAttachedList",value:function(e){return this._http.get(this.apiBaseUrl+"api/SalesReturnEst/GetAttachedSR?companyCode="+this.ccode+"&branchCode="+this.bcode+"&estNo="+e)}},{key:"PostAttachementSalesReturn",value:function(e){var t=JSON.stringify(e);return this._http.post(this.apiBaseUrl+"api/SalesReturnEst/PostSRAttachment",t)}},{key:"deleteSRAttachment",value:function(e){return this._http.get(this.apiBaseUrl+"api/SalesReturnEst/RemoveAttachment?companyCode="+this.ccode+"&branchCode="+this.bcode+"&estNo="+e)}},{key:"getSRList",value:function(e,t){return this._http.get(this.apiBaseUrl+"api/SalesReturnEst/GetAllSRAttach?companyCode="+this.ccode+"&branchCode="+this.bcode+"&$top="+e+"&$skip="+t)}},{key:"getSRForPrint",value:function(e){return this._http.get(this.apiBaseUrl+"api/SalesReturnEst/GetAttachedSRForPrint?companyCode="+this.ccode+"&branchCode="+this.bcode+"&estNo="+e)}},{key:"getSRForPrintTotal",value:function(e){return this._http.get(this.apiBaseUrl+"api/SalesReturnEst/GetAttachedSRTotalForPrint?companyCode="+this.ccode+"&branchCode="+this.bcode+"&estNo="+e)}},{key:"getSRBill",value:function(e){return this._http.get(this.apiBaseUrl+"api/SalesReturn/GetDetByBillNo/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"CancelSRBill",value:function(e){var t=JSON.stringify(e);return this._http.post(this.apiBaseUrl+"api/SalesReturn/CancelSRBill",t)}},{key:"getSRPrintbyEstNo",value:function(e){return this._http.get(this.apiBaseUrl+"api/SalesReturnEst/Print/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getSRPrintbyBillNo",value:function(e){return this._http.get(this.apiBaseUrl+"api/SalesReturn/Print/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getSRPrintDotMatrixbyBillNo",value:function(e){return this._http.get(this.apiBaseUrl+"api/SalesReturn/DotMatrixPrint/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getSREstNoList",value:function(){return this._http.get(this.apiBaseUrl+"api/SalesReturnEst/GetAllSREst/"+this.ccode+"/"+this.bcode)}},{key:"deleteSREstNo",value:function(e){return this._http.delete(this.apiBaseUrl+"api/SalesReturnEst/Delete/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"sendItemDatatoItemComp",value:function(e){this.ItemLinesSummaryData.next(e),e=""}},{key:"SendSRNoToReprintComp",value:function(e){this.SRNoToReprintComp.next(e),e=""}},{key:"SendSRBillNoToReprintComp",value:function(e){this.SRBillNoToReprintComp.next(e),e=""}},{key:"SendSRToHide",value:function(e){this.SRHide.next(e),e=""}},{key:"SendSREnablePrint",value:function(e){this.SREnablePrint.next(e),e=""}}]),e}();d.ctorParameters=function(){return[{type:i.b},{type:r.a}]},d=a.a([Object(o.Injectable)({providedIn:"root"}),a.c("design:paramtypes",[i.b,r.a])],d)},"/i8d":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("mrSG"),s=n("tk/3"),o=n("2Vo4"),i=n("fXoL"),l=n("NFKh"),r=n("qlSq"),d=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this.appConfigService=n,this.ccode="",this.bcode="",this.apiBaseUrl="",this.SalesURL=this.apiBaseUrl+"api/Masters/Salesman?companyCode="+this.ccode+"&branchCode="+this.bcode,this.EstNo=new o.a(""),this.SubjectEstNo=this.EstNo.asObservable(),this.NewExistingEstNo=new o.a(""),this.SubjectNewExistingEstNo=this.NewExistingEstNo.asObservable(),this.OrderAttachmentSummaryData=new o.a({}),this.CastOrderAttachmentSummaryData=this.OrderAttachmentSummaryData.asObservable(),this.SRAttachmentSummaryData=new o.a({}),this.CastSRAttachmentSummaryData=this.SRAttachmentSummaryData.asObservable(),this.NewExistingEstNoCtrls=new o.a(!1),this.CastNewExistingEstNoCtrls=this.NewExistingEstNoCtrls.asObservable(),this.OldGoldAttachmentSummaryData=new o.a({}),this.CastOldGoldAttachmentSummaryData=this.OldGoldAttachmentSummaryData.asObservable(),this.paymentorReceipt=new o.a(""),this.SubjectpaymentorReceipt=this.paymentorReceipt.asObservable(),this.apiBaseUrl=this.appConfigService.apiBaseUrl,this.password=this.appConfigService.Pwd,this.getCB()}return _createClass(e,[{key:"getCB",value:function(){this.ccode=l.AES.decrypt(localStorage.getItem("ccode"),this.password.trim()).toString(l.enc.Utf8),this.bcode=l.AES.decrypt(localStorage.getItem("bcode"),this.password.trim()).toString(l.enc.Utf8)}},{key:"getEstimationDetailsfromAPI",value:function(e){return this._http.get(this.SalesURL+e)}},{key:"getEstimationOrderDetailsfromAPI",value:function(e){return this._http.get(this.apiBaseUrl+"api/sales/estimation/getOrderForSales/"+e)}},{key:"postSalesBilling",value:function(e){var t=JSON.stringify(e);return this._http.post(this.apiBaseUrl+"api/SalesBilling/Post",t)}},{key:"postdifferenceDiscountAmt",value:function(e,t,n,a){return this._http.post(this.apiBaseUrl+"api/SalesBilling/ReceivableCalc?companyCode="+n+"&branchCode="+a+"&estimateNo="+e+"&differenceDiscountAmt="+t,null)}},{key:"getBillNoDetails",value:function(e){return this._http.get(this.apiBaseUrl+"api/SalesBilling/Print/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getBillNo",value:function(e,t){return this._http.get(this.apiBaseUrl+"api/SalesBilling/AllBill/"+this.ccode+"/"+this.bcode+"/"+e+"/"+t)}},{key:"SendEstNo",value:function(e){this.EstNo.next(e),e=""}},{key:"SendNewExistingEstNo",value:function(e){this.NewExistingEstNo.next(e),e=""}},{key:"SendOrderAttachmentSummaryData",value:function(e){this.OrderAttachmentSummaryData.next(e),e=""}},{key:"SendSRAttachmentSummaryData",value:function(e){this.SRAttachmentSummaryData.next(e),e=""}},{key:"SendNewExistingEstNoCtrls",value:function(e){this.NewExistingEstNoCtrls.next(e),console.log(this.NewExistingEstNoCtrls),e=""}},{key:"SendOldGoldAttachmentSummaryData",value:function(e){this.OldGoldAttachmentSummaryData.next(e),e=""}},{key:"SendpaymentorReceipt",value:function(e){this.paymentorReceipt.next(e),e=""}}]),e}();d.ctorParameters=function(){return[{type:s.b},{type:r.a}]},d=a.a([Object(i.Injectable)({providedIn:"root"}),a.c("design:paramtypes",[s.b,r.a])],d)},"5JmU":function(e,t,n){"use strict";n.r(t),t.default=".table-responsive {\r\n    display: block;\r\n    width: 99.9999% !important;\r\n    overflow-x: auto;\r\n}\r\n\r\nfieldset.scheduler-border {\r\n\tborder: 2px groove black !important;\r\n\tpadding: 0 1.4em 1.4em 1.4em !important;\r\n\tmargin: 0 0 1.5em 0 !important;\r\n\tbox-shadow:  0px 0px 0px 0px black;\r\n\t\tborder-radius: 15px;\r\n  }\r\n\r\nlegend.scheduler-border {\r\n\t  font-size: 20px !important;\r\n\t  text-align: left !important;\r\n\t  width:auto;\r\n\t  padding:0 10px;\r\n\t  border-bottom:none;\r\n\t}\r\n  "},Fm4u:function(e,t,n){"use strict";n.r(t),t.default='<form [formGroup]="PaymentForm" class="form-horizontal">\n  <div class="row">\n    <div class="col-lg-12">\n      <div class="form-body">\n        <div class="row" *ngIf="EnableDisPayControls">\n          <div class="col-md-4">\n            <div class="form-group has-success">\n              <label for="PayMode">Payment Mode</label>\n              <select class="form-control mr-auto mt-2 mt-lg-0" #PayMode formControlName="PayMode"\n                (change)="onchangePaymode(PayMode.value)" [(ngModel)]="PaymentHeaders.PayMode">\n                <option [ngValue]="null">Select</option>\n                <option *ngFor="let _paymentModes of PaymentModes" [value]="_paymentModes.PayMode">\n                  {{_paymentModes.PayName}}\n                </option>\n              </select>\n            </div>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-2"\n            *ngIf="toggle == \'Others\' || toggle == \'SR\' || toggle == \'Scheme\' || toggle == \'OrdAdj\' || toggle == \'PurEst\' || toggle == \'PurBill\' || toggle == \'SREst\' || toggle == \'SRBill\'">\n            <div class="form-group">\n              <label>Ref No</label>\n              <ng-container *ngIf="toggle == \'Scheme\'">\n                <input type="text" class="form-control" (click)="openChitAdjustment()"\n                  [(ngModel)]="PaymentHeaders.RefBillNo" formControlName="RefBillNo" readonly NumberFieldvalidator>\n                <p style="color: red">Click textbox to Open Scheme Adj screen</p>\n              </ng-container>\n              <ng-container *ngIf="toggle == \'OrdAdj\'">\n                <input type="text" class="form-control" (click)="openOrderAdjustment()"\n                  [(ngModel)]="PaymentHeaders.RefBillNo" formControlName="RefBillNo" readonly NumberFieldvalidator>\n                <p style="color: red">Click textbox to Open Order Adj screen</p>\n              </ng-container>\n              <ng-container *ngIf="toggle == \'PurEst\'">\n                <input type="text" class="form-control" (click)="openPurEstAdjustment()"\n                  [(ngModel)]="PaymentHeaders.RefBillNo" formControlName="RefBillNo" readonly NumberFieldvalidator>\n                <p style="color: red">Click textbox to Open Pur.Est. Adj screen</p>\n              </ng-container>\n              <ng-container *ngIf="toggle == \'PurBill\'">\n                <input type="text" class="form-control" (click)="openPurBillAdjustment()"\n                  [(ngModel)]="PaymentHeaders.RefBillNo" formControlName="RefBillNo" readonly NumberFieldvalidator>\n                <p style="color: red">Click textbox to Open Pur.Bill. Adj screen</p>\n              </ng-container>\n              <ng-container *ngIf="toggle == \'SREst\'">\n                <input type="text" class="form-control" (click)="openSREstAdjustment()"\n                  [(ngModel)]="PaymentHeaders.RefBillNo" formControlName="RefBillNo" readonly NumberFieldvalidator>\n                <p style="color: red">Click textbox to Open SR Est. Adj screen</p>\n              </ng-container>\n              <ng-container *ngIf="toggle == \'SRBill\'">\n                <input type="text" class="form-control" (click)="openSRBillAdjustment()"\n                  [(ngModel)]="PaymentHeaders.RefBillNo" formControlName="RefBillNo" readonly NumberFieldvalidator>\n                <p style="color: red">Click textbox to Open SR Bill. Adj screen</p>\n              </ng-container>\n            </div>\n          </div>\n          <ng-container *ngIf="toggle == \'Card\'">\n            <div class="col-md-2">\n              <div class="form-group">\n                <label>Card No</label>\n                <input type="text" class="form-control" [(ngModel)]="PaymentHeaders.RefBillNo" maxlength="16"\n                  formControlName="RefBillNo" placeholder="\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022" NumberFieldvalidator>\n              </div>\n            </div>\n          </ng-container>\n          <div class="col-md-2" *ngIf="toggle == \'Card\'">\n            <div class="form-group">\n              <label>Card Type</label>\n              \x3c!-- <input type="text" class="form-control" [(ngModel)]="PaymentHeaders.CardType" formControlName="CardType"\n                placeholder="Visa/Master/Amex" AlphabetFieldValidator> --\x3e\n              <select class="form-control" formControlName="CardType" [(ngModel)]="PaymentHeaders.CardType">\n                <option [value]="null">Select</option>\n                <option *ngFor="let _cardType of CardType" [value]="_cardType.card_name">\n                  {{_cardType.card_name}}\n                </option>\n              </select>\n            </div>\n          </div>\n          \x3c!-- <div class="col-md-2" *ngIf="toggle == \'Card\' || toggle == \'Cheque\'">\n            <div class="form-group">\n              <label>Bank name</label>\n\n              <input *ngIf="argPageName !=\'OC\'"  type="text" class="form-control" [(ngModel)]="PaymentHeaders.BankName"\n                formControlName="BankName" placeholder="E.g. HDFC Bank" required AlphabetFieldValidator>\n\n              <select *ngIf="argPageName==\'OC\'" class="form-control" formControlName="BankName"\n                [(ngModel)]="PaymentHeaders.BankName" (change)="getChequeNumber($event.target.value)">\n                <option [value]="null">Select Bank</option>\n                <option *ngFor="let _chequeName of ChequeName" [value]="_chequeName.acc_code">\n                  {{_chequeName.acc_name}}\n                </option>\n              </select>\n\n            </div>\n          </div> --\x3e\n\n          \x3c!--Added as per eshwar request from BankName to Bank Field.Above code is commented--\x3e\n          <div class="col-md-2" *ngIf="toggle == \'Card\' || toggle == \'Cheque\' || toggle == \'DD\'">\n            <div class="form-group">\n              <label>Bank name</label>\n              <input *ngIf="argPageName !=\'OC\' && argPageName !=\'SR\'" type="text" class="form-control"\n                [(ngModel)]="PaymentHeaders.BankName" formControlName="BankName" placeholder="E.g. HDFC Bank" required\n                AlphabetFieldValidator>\n              <select *ngIf="argPageName == \'OC\' || argPageName == \'SR\'" class="form-control" formControlName="BankName"\n                [(ngModel)]="PaymentHeaders.BankName" (change)="getChequeNumber($event.target.value)">\n                <option [value]="null">Select Bank</option>\n                <option *ngFor="let _chequeName of ChequeName" [value]="_chequeName.acc_code">\n                  {{_chequeName.acc_name}}\n                </option>\n              </select>\n            </div>\n          </div>\n          <div class="col-md-2" *ngIf="toggle == \'Card\'">\n            <div class="form-group">\n              <label for="Bank">EDC </label>\n              <select class="form-control mr-auto mt-2 mt-lg-0" #Bank formControlName="Bank"\n                [(ngModel)]="PaymentHeaders.Bank" (change)="getBankdetailsonchange(PaymentHeaders.Bank)">\n                <option [ngValue]="null">Select</option>\n                <option *ngFor="let _BankList of BankList" [value]="_BankList.Code">\n                  {{_BankList.BankName}}\n                </option>\n              </select>\n              \x3c!-- <select class="form-control mr-auto mt-2 mt-lg-0" #Bank formControlName="BankName"\n                [(ngModel)]="PaymentHeaders.BankName">\n                <option [ngValue]="null">Select</option>\n                <option *ngFor="let _BankList of BankList" [value]="_BankList.Code">\n                  {{_BankList.BankName}}\n                </option>\n              </select> --\x3e\n            </div>\n          </div>\n          <div class="col-md-2" *ngIf="toggle == \'Card\'">\n            <div class="form-group">\n              <label>Expire Date</label>\n              <input type="text" class="form-control" [(ngModel)]="PaymentHeaders.ExpiryDate"\n                formControlName="ExpiryDate" id="expiry" placeholder="ExpiryDate" bsDatepicker\n                [bsConfig]="ExpirydatePickerConfig">\n            </div>\n          </div>\n          <div class="col-md-2" *ngIf="toggle == \'Others\' || toggle == \'Card\'">\n            <div class="form-group">\n              <label>Card.AppNo</label>\n              <input type="text" class="form-control" [(ngModel)]="PaymentHeaders.CardAppNo" formControlName="CardAppNo"\n                placeholder="Card.AppNo" IntegerDecimalFieldValidator>\n            </div>\n          </div>\n          <div class="col-md-2" *ngIf="toggle == \'Cheque\' || toggle == \'DD\'">\n            <div class="form-group">\n              <label>Chq/ DD No</label>\n              <input *ngIf="argPageName!=\'OC\'" type="text" class="form-control" [(ngModel)]="PaymentHeaders.ChequeNo"\n                formControlName="ChequeNo" placeholder="Enter Chq/ DD No" maxlength="6" required NumberFieldvalidator>\n\n              <ng-select *ngIf="argPageName==\'OC\'" [items]="ChequeNo" bindLabel="chq_no" [virtualScroll]="true"\n                bindValue="chq_no" appendTo="body" placeholder="Select Cheque No" [(ngModel)]="PaymentHeaders.ChequeNo"\n                formControlName="ChequeNo">\n              </ng-select>\n\n            </div>\n          </div>\n          <div class="col-md-2" *ngIf="toggle == \'Cheque\' || toggle == \'DD\'">\n            <div class="form-group">\n              <label>Chq/ DD Date</label>\n              <input type="text" class="form-control" readonly [(ngModel)]="PaymentHeaders.ChequeDate"\n                formControlName="ChequeDate" placeholder="Cheque Date" bsDatepicker [bsConfig]="datePickerConfig">\n            </div>\n          </div>\n          <div class="col-md-2"\n            *ngIf="toggle == \'Card\' || toggle == \'Cash\' || toggle == \'Scheme\' || toggle == \'Cheque\' \n                || toggle == \'DD\' || toggle == \'BC\' || toggle == \'GV\' || toggle == \'SR\' || toggle == \'EP\' || toggle == \'OrdAdj\' || toggle == \'PurEst\' || toggle == \'PurBill\' || toggle == \'SREst\' || toggle == \'SRBill\' || toggle == \'SalesPromotion\' || toggle == \'UPI Payment\' || toggle == \'CREDIT NOTE\'">\n            <div class="form-group">\n              <label>Details/Remarks</label>\n              <input type="text" class="form-control" [(ngModel)]="PaymentHeaders.PayDetails"\n                formControlName="PayDetails" placeholder="Enter Details/Remarks" AlphaNumericFieldValidator>\n            </div>\n          </div>\n          <div class="col-md-2"\n            *ngIf="toggle == \'Card\' || toggle == \'Cash\' || toggle == \'Scheme\' || toggle == \'Cheque\' || \n                toggle == \'DD\' || toggle == \'BC\' || toggle == \'GV\' || toggle == \'SR\' || toggle == \'EP\' || toggle == \'OrdAdj\' || toggle == \'PurEst\' || toggle == \'PurBill\' || toggle == \'SREst\' || toggle == \'SRBill\' || toggle == \'SalesPromotion\' || toggle == \'UPI Payment\' || toggle == \'CREDIT NOTE\'">\n            <div class="form-group">\n              <label>Amount</label>\n              <ng-container\n                *ngIf="toggle == \'OrdAdj\' || toggle == \'PurEst\' || toggle == \'PurBill\' || toggle == \'SREst\' || toggle == \'SRBill\'">\n                <input type="number" min="0" class="form-control"\n                  oninput="this.value = this.value.replace(/[^0-9.]/g, \'\').replace(/(\\..*)\\./g, \'$1\');"\n                  placeholder="{{placeholder}}" [(ngModel)]="PaymentHeaders.PayAmount" formControlName="PayAmount"\n                  readonly>\n              </ng-container>\n              <ng-container\n                *ngIf="toggle != \'OrdAdj\' && toggle != \'PurEst\' && toggle != \'PurBill\' && toggle != \'SREst\' && toggle != \'SRBill\'">\n                <input type="number" min="0" class="form-control"\n                  oninput="this.value = this.value.replace(/[^0-9.]/g, \'\').replace(/(\\..*)\\./g, \'$1\');"\n                  placeholder="{{placeholder}}" [readonly]="readonly" [(ngModel)]="PaymentHeaders.PayAmount"\n                  formControlName="PayAmount">\n              </ng-container>\n            </div>\n          </div>\n          <div class="col-md-2" *ngIf="toggle == \'Others\' || toggle == \'Card\'">\n            <div class="form-group">\n              <label>Card Charges</label>\n              <input type="text" class="form-control" readonly [(ngModel)]="PaymentHeaders.CardCharges"\n                formControlName="CardCharges" placeholder="Card Charges" IntegerDecimalFieldValidator>\n            </div>\n          </div>\n          <div class="col-md-2" *ngIf="toggle == \'Card\'">\n            <div class="form-group">\n              <label>Card Swiped By</label>\n              <select class="form-control mr-auto mt-2 mt-lg-0" formControlName="CardSwipedBy"\n                [(ngModel)]="PaymentHeaders.CardSwipedBy">\n                <option *ngFor="let _salesman of SalesManList" [value]="_salesman.sal_code">\n                  {{_salesman.CodeName}}\n                </option>\n              </select>\n            </div>\n          </div>\n          <div class="col-md-2" *ngIf="toggle == \'Others\' || toggle == \'Scheme\'">\n            <div class="form-group">\n              <label>Scheme Code</label>\n              <input type="text" class="form-control" [(ngModel)]="PaymentHeaders.SchemeCode"\n                formControlName="SchemeCode" readonly>\n            </div>\n          </div>\n          <div class="col-md-2" *ngIf="toggle == \'Others\' || toggle == \'Scheme\'">\n            <div class="form-group">\n              <label>Group Code</label>\n              <input type="text" class="form-control" [(ngModel)]="PaymentHeaders.GroupCode" formControlName="GroupCode"\n                readonly>\n            </div>\n          </div>\n          <div class="col-md-2" *ngIf="toggle == \'Others\' || toggle == \'Scheme\'">\n            <div class="form-group">\n              <label>Branch</label>\n              <input type="text" class="form-control" [(ngModel)]="PaymentHeaders.CTBranch" formControlName="CTBranch"\n                AlphabetFieldValidator readonly>\n            </div>\n          </div>\n          <div class="col-md-2">\n            <div class="form-group">\n              <div class="form-actions pd-5" [hidden]="toggle==\'Invalid\'">\n                <button type="submit" style="margin-top:20px;"\n                  class=" btn btn-outline-success waves-effect waves-light btn-rounded btn-outline-secondary"\n                  (click)="addRow(PaymentForm)">Add</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n\n<p *ngIf="!EnableDisPayControls">Order Receipt History</p>\n<div class="table-responsive">\n  <table class="table table-bordered">\n    <thead class="topbar">\n      <tr>\n        <th *ngIf="!EnableDisPayControls">Receipt No</th>\n        <th>Payment Mode</th>\n        <th>Card No/Ref.No</th>\n        <th>Chq/DD No</th>\n        <th>Amount</th>\n        <th>Details</th>\n        <th>Scheme</th>\n        <th>Card Swiped By</th>\n        <th *ngIf="!EnableDisPayControls">Receipt Date</th>\n        <th *ngIf="EnableDisPayControls">Action</th>\n      </tr>\n    </thead>\n    <tbody *ngFor="let _arrayList of ArrayList; let i = index">\n      <td *ngIf="!EnableDisPayControls">{{_arrayList.ReceiptNo}}</td>\n      <td>{{_arrayList.PayMode | payment:_arrayList.PayMode}}</td>\n      <td>{{_arrayList.RefBillNo}}</td>\n      <td>{{_arrayList.ChequeNo}}</td>\n      <td>{{_arrayList.PayAmount | number : \'1.2-2\'}}</td>\n      <td>{{_arrayList.PayDetails | uppercase}}</td>\n      <td>{{_arrayList.SchemeCode}}</td>\n      <td>{{_arrayList.CardSwipedBy}}</td>\n\n      <td *ngIf="!EnableDisPayControls">{{_arrayList.PayDate | date}}</td>\n      <td *ngIf="EnableDisPayControls">\n        <i class="far fa-trash-alt fa-1-5x pointer" style=\'color: red; font-size: 1.5em !important;\'\n          (click)="DeleteRow(i,PaymentForm)"></i>\n      </td>\n    </tbody>\n    <tr *ngIf="!EnableDisPayControls">\n      <td class="border-none"></td>\n      <td class="border-none"></td>\n      <td class="border-none"></td>\n      <td class="border-none"><b>Total:</b></td>\n      <td class="border-none">{{Amount(ArrayList) | number : \'1.2-2\'}}</td>\n      <td class="border-none"></td>\n      <td class="border-none"></td>\n      <td class="border-none"></td>\n      <td class="border-none"></td>\n    </tr>\n    <tr *ngIf="EnableDisPayControls">\n      <td class="border-none"></td>\n      <td class="border-none"></td>\n      <td class="border-none"><b>Total:</b></td>\n      <td class="border-none">{{Amount(ArrayList) | number : \'1.2-2\'}}</td>\n      <td class="border-none"></td>\n      <td class="border-none"></td>\n      <td class="border-none"></td>\n      <td class="border-none"></td>\n    </tr>\n  </table>\n</div>\n\n\n\n<div *ngIf="enableClosedOrderDetails">\n  <button class="btn btn-danger waves-effect waves-light btn-rounded btn-secondary" style="margin-bottom: 25px;"\n    type="button" data-toggle="modal" data-target="#openClosedOrderHistory">\n    <i class="far fa-eye"></i> View Closed Order History</button>\n\n  <div id="openClosedOrderHistory" class="modal fade" role="dialog">\n    <div class="modal-dialog" style="max-width: 1200px;">\n\n      \x3c!-- Modal content--\x3e\n      <div class="modal-content">\n        \x3c!-- <div class="modal-header">\n              <h4 class="modal-title">Update PAN No</h4>\n            </div> --\x3e\n        <div class="modal-body">\n          <fieldset class="scheduler-border">\n            <legend class="scheduler-border"> Closed Receipts Details History</legend>\n            <div class="table-responsive">\n              <table class="table table-bordered">\n                <thead class="topbar">\n                  <tr>\n                    <th>Payment Mode</th>\n                    <th>Card No/Ref.No</th>\n                    <th>Chq/DD No</th>\n                    <th>Amount</th>\n                    <th>Details</th>\n                    <th>Scheme</th>\n                    <th>Card Swiped By</th>\n                    <th>Receipt Close Date</th>\n                    <th>Status</th>\n                  </tr>\n                </thead>\n                <tbody *ngFor="let _arrayListClosed of ArrayListClosed; let i = index">\n                  <td>{{_arrayListClosed.PayMode | payment:_arrayListClosed.PayMode}}</td>\n                  <td>{{_arrayListClosed.RefBillNo}}</td>\n                  <td>{{_arrayListClosed.ChequeNo}}</td>\n                  <td>{{_arrayListClosed.PayAmount | number : \'1.2-2\'}}</td>\n                  <td>{{_arrayListClosed.PayDetails | uppercase}}</td>\n                  <td>{{_arrayListClosed.SchemeCode}}</td>\n                  <td>{{_arrayListClosed.CardSwipedBy}}</td>\n                  <td>{{_arrayListClosed.PayDate | date}}</td>\n                  <th>\n                    <h3 style="color:red">Closed</h3>\n                  </th>\n                </tbody>\n                <tr>\n                  <td class="border-none"></td>\n                  <td class="border-none"></td>\n                  <td class="border-none"><b>Total:</b></td>\n                  <td class="border-none">{{AmountClosed(ArrayListClosed) | number : \'1.2-2\'}}</td>\n                  <td class="border-none"></td>\n                  <td class="border-none"></td>\n                  <td class="border-none"></td>\n                  <td class="border-none"></td>\n                </tr>\n              </table>\n            </div>\n          </fieldset>\n\n        </div>\n        <div class="modal-footer">\n          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n\n</div>\n\n\n\x3c!-- <pre>{{ParentJSON | json}}</pre> --\x3e\n\x3c!-- <ng-container *ngIf="!EnableSubmitButton && EnableDisPayControls">\n<button class="btn btn-success btn-rounded" type="button" (click)="Submit()"><i\n  class="fal fa-save"></i>Submit</button>\n</ng-container> --\x3e\n\x3c!-- <pre>{{PaymentHeaders | json}}</pre>  --\x3e\n\x3c!-- <pre>{{ArrayList | json}}</pre>  --\x3e\n\x3c!-- <pre>{{OrderDetails | json}}</pre> --\x3e\n\n\x3c!-- Scheme Details--\x3e\n\n\x3c!-- The Modal --\x3e\n<form [formGroup]="SchemeAdjustmentForm">\n  <div class="modal fade" id="ChitAdjustment">\n    <div class="modal-dialog" style="max-width: 750px;">\n      <div class="modal-content">\n\n        \x3c!-- Modal Header --\x3e\n        <div class="modal-header">\n          <h3 class="modal-title">Scheme Adjustment <div class="tooltipdesign"> <i class="fal fa-question-circle"></i>\n              <span class="tooltiptext ">Captures information like Saving scheme members, scheme amount, closed\n                amount with Bonus information like Ref.no as Membership number , Scheme Code, Group code etc.</span>\n            </div>\n          </h3>\n          <button type="button" class="close" data-dismiss="modal">&times;</button>\n        </div>\n\n        \x3c!-- Modal body --\x3e\n        <div class="modal-body">\n          <div class="container">\n            <div class="row">\n              <div class="col-md-12 my-6">\n                <div class="card ">\n                  <div class="card-body">\n                    <div class="form-group row">\n                      <label class="col-md-3 col-form-label form-control-label pull-right">Branch Code <div\n                          class="tooltipdesign"> <i class="fal fa-question-circle"></i>\n                          <span class="tooltiptext ">Enrolled Branch of the customer</span>\n                        </div></label>\n                      <div class="col-md-9">\n                        <select class="form-control" (change)="getScheme($event.target.value)"\n                          formControlName="BranchCode" [(ngModel)]="SchemeAdjusment.BranchCode">\n                          <option [value]="null">Select Branch Code</option>\n                          <option *ngFor="let Branch of BranchList" [value]="Branch.BranchCode">\n                            {{Branch.BranchCode}}\n                          </option>\n                        </select>\n\n                      </div>\n                    </div>\n                    <div class="form-group row">\n                      <label class="col-lg-3 col-form-label form-control-label">Scheme Code <div class="tooltipdesign">\n                          <i class="fal fa-question-circle"></i>\n                          <span class="tooltiptext ">Enrolled Scheme of the customer</span>\n                        </div></label>\n                      <div class="col-lg-9">\n                        <select class="form-control" (change)="getGroup($event.target.value)"\n                          formControlName="SchemeCode" [(ngModel)]="SchemeAdjusment.SchemeCode">\n                          <option [value]="null">Select Scheme Code</option>\n                          <option *ngFor="let Scheme of SchemeList" [value]="Scheme.SchemeCode">\n                            {{Scheme.SchemeCode}}\n                          </option>\n                        </select>\n                      </div>\n                    </div>\n                    <div class="form-group row">\n                      <label class="col-lg-3 col-form-label form-control-label">Group Code <div class="tooltipdesign">\n                          <i class="fal fa-question-circle"></i>\n                          <span class="tooltiptext ">Group joined by the customer</span>\n                        </div></label>\n                      <div class="col-lg-9">\n                        <select class="form-control" (change)="getMSNNo($event.target.value)"\n                          formControlName="GroupCode" [(ngModel)]="SchemeAdjusment.GroupCode">\n                          <option [value]="null">Select Group Code</option>\n                          <option *ngFor="let Group of GroupList" [value]="Group.GroupCode">\n                            {{Group.GroupCode}}\n                          </option>\n                        </select>\n                      </div>\n                    </div>\n                    <div class="form-group row">\n                      <label class="col-lg-3 col-form-label form-control-label">Start MSNo <div class="tooltipdesign">\n                          <i class="fal fa-question-circle"></i>\n                          <span class="tooltiptext ">Starting Membership Number of the Customer</span>\n                        </div></label>\n                      <div class="col-lg-9">\n                        <select class="form-control" (change)="getStartMSNo($event.target.value)"\n                          formControlName="StartMSNNo" [(ngModel)]="SchemeAdjusment.StartMSNNo">\n                          <option [value]="null">Select Start MSNo</option>\n                          <option *ngFor="let MSNNo of MSNNoList" [value]="MSNNo.ChitMembShipNo">\n                            {{MSNNo.ChitMembShipNo}}\n                          </option>\n                        </select>\n                      </div>\n                    </div>\n                    <div class="form-group row">\n                      <label class="col-lg-3 col-form-label form-control-label">End MSNo <div class="tooltipdesign"> <i\n                            class="fal fa-question-circle"></i>\n                          <span class="tooltiptext ">Ending Membership Number of the Customer</span>\n                        </div></label>\n                      <div class="col-lg-9">\n                        <select class="form-control" (change)="getchitAmount($event.target.value)"\n                          formControlName="EndMSNNo" [(ngModel)]="SchemeAdjusment.EndMSNNo">\n                          <option [value]="null">Select End MSNo</option>\n                          <option *ngFor="let MSNNo of MSNNoList" [value]="MSNNo.ChitMembShipNo">\n                            {{MSNNo.ChitMembShipNo}}\n                          </option>\n                        </select>\n                      </div>\n                    </div>\n                    <div class="form-group row">\n                      <label class="col-lg-3 col-form-label form-control-label">Scheme Amount</label>\n                      <div class="col-lg-9">\n                        <input formControlName="ChitAmount" [(ngModel)]="SchemeAdjusment.ChitAmount"\n                          class="form-control" min="0" type="number" readonly />\n                      </div>\n                    </div>\n                    <div class="form-group row">\n                      <label class="col-lg-3 col-form-label form-control-label">Total Amount</label>\n                      <div class="col-lg-9">\n                        <input formControlName="TotalAmount" [(ngModel)]="SchemeAdjusment.TotalAmount"\n                          class="form-control" type="text" readonly />\n                      </div>\n                    </div>\n                    <div class="form-group row">\n                      <label class="col-lg-3 col-form-label form-control-label">Bonus Amount <div class="tooltipdesign">\n                          <i class="fal fa-question-circle"></i>\n                          <span class="tooltiptext ">Amount given on paying all the installments</span>\n                        </div></label>\n                      <div class="col-lg-9">\n                        <input formControlName="BonusAmount" [(ngModel)]="SchemeAdjusment.BonusAmount"\n                          class="form-control" type="text" readonly />\n                      </div>\n                    </div>\n                    <div class="form-group row">\n                      <label class="col-lg-3 col-form-label form-control-label">Winner Amount <div\n                          class="tooltipdesign"> <i class="fal fa-question-circle"></i>\n                          <span class="tooltiptext ">Amount given for winning in lucky draw</span>\n                        </div></label>\n                      <div class="col-lg-9">\n                        <input formControlName="WinnerAmount" [(ngModel)]="SchemeAdjusment.WinnerAmount"\n                          class="form-control" type="text" readonly />\n                      </div>\n                    </div>\n                    <div class="form-group row">\n                      <label class="col-lg-3 col-form-label form-control-label"></label>\n                      <div class="col-lg-9">\n                        <input type="button" class="btn btn-success waves-effect waves-light btn-rounded btn-secondary"\n                          value="Save Changes" (click)="saveSchemeAdjustment()">\n                        <input type="reset" class="btn btn-danger waves-effect waves-light btn-rounded btn-secondary"\n                          value="Cancel" (click)="CancelSchemeAdjustment()">\n                      </div>\n                    </div>\n                    \x3c!-- {{SchemeAdjusment | json}} --\x3e\n                  </div>\x3c!-- card body --\x3e\n                </div> \x3c!-- card-outline --\x3e\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n\n\x3c!--Order Adjustment screen--\x3e\n\n<form [formGroup]="AttachOrderForm">\n  <div class="modal fade" id="OrderAdjustment">\n    <div class="modal-dialog " style="max-width: 750px;">\n      <div class="modal-content">\n\n        <div class="modal-header">\n          <h4 class="modal-title">Attach Customer Orders</h4>\n          <button type="button" class="close" data-dismiss="modal">&times;</button>\n        </div>\n\n        <div class="modal-body">\n          <div class="">\n            <div class="row">\n              <div class="col-md-4">\n                <div class="form-group">\n                  <div class="form-group">\n                    <label for="salesPerson">Search By</label>\n                    <select class="form-control mr-auto mt-2 mt-lg-0" formControlName="searchby">\n                      <option [ngValue]="null">Select</option>\n                      <option value="OrderNo">OrderNo</option>\n                      <option value="Customer">Customer</option>\n                      <option value="Date">Date</option>\n                      <option value="Amount">Amount</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="searchText">Search Text</label>\n                  <div class="input-group">\n                    <input class="form-control" id="searchText" formControlName="searchText" placeholder="Search Text"\n                      type="text">\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="Search"></label>\n                  <div class="input-group">\n                    <button class="btn waves-effect waves-light btn-rounded btn-outline-secondary"\n                      (click)="getSearchParamsForOrderAdj(AttachOrderForm)"><i class="fal fa-search"></i>\n                      Search</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="row">\n              <div class="col-md-12">\n                <div class="table-responsive">\n                  <table class="table table-bordered">\n                    <thead class="topbar">\n                      <tr>\n                        <th>S.No</th>\n                        <th>Order No</th>\n                        <th>Ref No</th>\n                        <th>Customer</th>\n                        <th>Date</th>\n                        <th>Amount</th>\n                      </tr>\n                    </thead>\n\n                    <tbody\n                      *ngFor="let _OrderList of AttachOrderList | paginate: { itemsPerPage:top, totalItems:totalItems, currentPage: pagenumber }; let i = index;">\n                      <tr (click)="OrdAdjselectRecord(_OrderList)" class="pointer">\n                        <td>{{i + 1 }}</td>\n                        <td>{{_OrderList.OrderNo}}</td>\n                        <td>{{_OrderList.RefNo}}</td>\n                        <td>{{_OrderList.Customer}}</td>\n                        <td>{{_OrderList.Date | date:\'dd-MMM-yyyy\'}}</td>\n                        <td>{{_OrderList.Amount | number : \'1.2-2\'}}</td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n                <div>\n                  <pagination-controls (pageChange)="onOrdAdjPageChange($event)"></pagination-controls>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \x3c!-- Modal footer --\x3e\n        <div class="modal-footer">\n          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n\n\n\x3c!--Pur.Est Adjustment screen--\x3e\n\n<form [formGroup]="AttachOldGoldForm">\n  <div class="modal fade" id="PurEstAdj">\n    <div class="modal-dialog " style="max-width: 750px;">\n      <div class="modal-content">\n\n        \x3c!-- Modal Header --\x3e\n        <div class="modal-header">\n          <h4 class="modal-title">Attach Old Gold Estimate</h4>\n          <button type="button" class="close" data-dismiss="modal">&times;</button>\n        </div>\n\n        \x3c!-- Modal body --\x3e\n        <div class="modal-body">\n          <div class="">\n            <div class="row">\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="salesPerson">Search By</label>\n                  <div class="form-group">\n                    <select class="form-control mr-auto mt-2 mt-lg-0" formControlName="searchby">\n                      <option [ngValue]="null">Select</option>\n                      <option *ngFor="let _searchParamsList of SearchParamsList" [value]="_searchParamsList.Key">\n                        {{_searchParamsList.Value}}\n                      </option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="searchText">Search Text</label>\n                  <div class="input-group">\n                    <input class="form-control" id="searchText" formControlName="searchText" placeholder="Search Text"\n                      type="text">\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="Search"></label>\n                  <div class="input-group">\n                    <button class="btn waves-effect waves-light btn-rounded btn-outline-secondary"\n                      (click)="getSearchParamsforPurEstAdj(AttachOldGoldForm)"><i class="fal fa-search"></i>\n                      Search</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="row">\n              <div class="col-md-12">\n                <div class="table-responsive">\n                  <table class="table table-bordered">\n                    <thead class="topbar">\n                      <tr>\n                        <th>S.No</th>\n                        <th>EstNo</th>\n                        <th>Customer</th>\n                        <th>Date</th>\n                        <th>Amount</th>\n                        <th>Gross Wt</th>\n                        <th>Quantity</th>\n                      </tr>\n                    </thead>\n\n                    <tbody\n                      *ngFor="let _OldGoldList of AttachOldGoldList | paginate: { itemsPerPage:top, totalItems:totalItems, currentPage: pagenumber }; let i = index;">\n                      <tr (click)="PurEstAdjselectRecord(_OldGoldList)" class="pointer">\n                        <td>{{i + 1 }}</td>\n                        <td>{{_OldGoldList.EstNo}}</td>\n                        <td>{{_OldGoldList.Customer}}</td>\n                        <td>{{_OldGoldList.Date | date:\'MM/dd/yyyy\'}}</td>\n                        <td>{{_OldGoldList.Amount | number : \'1.2-2\'}}</td>\n                        <td>{{_OldGoldList.GrossWt | number : \'1.3-3\'}}</td>\n                        <td>{{_OldGoldList.Qty}}</td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n                <div>\n                  <pagination-controls (pageChange)="PurEstAdjonPageChange($event)"></pagination-controls>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \x3c!-- Modal footer --\x3e\n        <div class="modal-footer">\n          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n\n\n\n\x3c!--Pur.Bill Adjustment screen--\x3e\n\n<form [formGroup]="AttachPurBillForm">\n  <div class="modal fade" id="PurBillAdj">\n    <div class="modal-dialog " style="max-width: 750px;">\n      <div class="modal-content">\n\n        \x3c!-- Modal Header --\x3e\n        <div class="modal-header">\n          <h4 class="modal-title">Attach Purchase Bill</h4>\n          <button type="button" class="close" data-dismiss="modal">&times;</button>\n        </div>\n\n        \x3c!-- Modal body --\x3e\n        <div class="modal-body">\n          <div class="">\n            <div class="row">\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="salesPerson">Search By</label>\n                  <div class="form-group">\n                    <select class="form-control mr-auto mt-2 mt-lg-0" formControlName="searchby">\n                      <option [ngValue]="null">Select</option>\n                      <option *ngFor="let _searchParamsPurBill of SearchParamsPurBill"\n                        [value]="_searchParamsPurBill.Key">\n                        {{_searchParamsPurBill.Value}}\n                      </option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="searchText">Search Text</label>\n                  <div class="input-group">\n                    <input class="form-control" id="searchText" formControlName="searchText" placeholder="Search Text"\n                      type="text">\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="Search"></label>\n                  <div class="input-group">\n                    <button class="btn waves-effect waves-light btn-rounded btn-outline-secondary"\n                      (click)="getSearchParamsforPurBillAdj(AttachPurBillForm)"><i class="fal fa-search"></i>\n                      Search</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="row">\n              <div class="col-md-12">\n                <div class="table-responsive">\n                  <table class="table table-bordered">\n                    <thead class="topbar">\n                      <tr>\n                        <th>S.No</th>\n                        <th>BillNo</th>\n                        <th>Customer</th>\n                        <th>Date</th>\n                        <th>Amount</th>\n                        <th>Gross Wt</th>\n                        <th>Quantity</th>\n                      </tr>\n                    </thead>\n\n                    <tbody\n                      *ngFor="let _PurBillList of AttachPurBillList | paginate: { itemsPerPage:top, totalItems:totalItems, currentPage: pagenumber }; let i = index;">\n                      <tr (click)="PurBillAdjselectRecord(_PurBillList)" class="pointer">\n                        <td>{{i + 1 }}</td>\n                        <td>{{_PurBillList.BillNo}}</td>\n                        <td>{{_PurBillList.Customer}}</td>\n                        <td>{{_PurBillList.Date | date:\'MM/dd/yyyy\'}}</td>\n                        <td>{{_PurBillList.Amount | number : \'1.2-2\'}}</td>\n                        <td>{{_PurBillList.GrossWt | number : \'1.3-3\'}}</td>\n                        <td>{{_PurBillList.Quantity}}</td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n                <div>\n                  <pagination-controls (pageChange)="PurBillAdjonPageChange($event)"></pagination-controls>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \x3c!-- Modal footer --\x3e\n        <div class="modal-footer">\n          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n\n\n\x3c!--SR Est Adjustment screen--\x3e\n\n<form [formGroup]="AttachSREstForm">\n  <div class="modal fade" id="SREstModal">\n    <div class="modal-dialog " style="max-width: 900px;">\n      <div class="modal-content">\n\n        \x3c!-- Modal Header --\x3e\n        <div class="modal-header">\n          <h4 class="modal-title">Attach SR Estimate</h4>\n          <button type="button" class="close" data-dismiss="modal">&times;</button>\n        </div>\n\n        \x3c!-- Modal body --\x3e\n        <div class="modal-body">\n          <div class="">\n            <div class="row">\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="salesPerson">Search By</label>\n                  <div class="form-group">\n                    <select class="form-control mr-auto mt-2 mt-lg-0" formControlName="searchby">\n                      <option [ngValue]="null">Select</option>\n                      <option *ngFor="let _searchSEParamsList of SearchSEParamsList" [value]="_searchSEParamsList.Key">\n                        {{_searchSEParamsList.Value}}\n                      </option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="searchText">Search Text</label>\n                  <div class="input-group">\n                    <input class="form-control" id="searchText" formControlName="searchText" placeholder="Search Text"\n                      type="text">\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="Search"></label>\n                  <div class="input-group">\n                    <button class="btn waves-effect waves-light btn-rounded btn-outline-secondary"><i\n                        class="fal fa-search"></i> Search</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="row">\n              <div class="col-md-12">\n                <div class="table-responsive">\n                  <table class="table table-bordered">\n                    <thead class="topbar">\n                      <tr>\n                        <th>S.No</th>\n                        <th>SR EstNo</th>\n                        <th>Date</th>\n                        <th>Amount</th>\n                      </tr>\n                    </thead>\n                    <tbody\n                      *ngFor="let _SalesReturnList of AttachSalesReturnList | paginate: { itemsPerPage:top, totalItems:totalItems, currentPage: pagenumber }; let i = index;">\n                      <tr (click)="SREstselectRecord(_SalesReturnList)" class="pointer">\n                        <td>{{i + 1 }}</td>\n                        <td>{{_SalesReturnList.SrEstNo}}</td>\n                        <td>{{_SalesReturnList.Date}}</td>\n                        <td>{{_SalesReturnList.Amount | number : \'1.2-2\'}}</td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n                <div>\n                  <pagination-controls (pageChange)="SREstonPageChange($event)"></pagination-controls>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \x3c!-- Modal footer --\x3e\n        <div class="modal-footer">\n          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n\n\n\n\n\x3c!--SR Bill Adjustment screen--\x3e\n\n<form [formGroup]="AttachSRBillForm">\n  <div class="modal fade" id="SRBillAdj">\n    <div class="modal-dialog " style="max-width: 900px;">\n      <div class="modal-content">\n\n        \x3c!-- Modal Header --\x3e\n        <div class="modal-header">\n          <h4 class="modal-title">Attach SR Bill</h4>\n          <button type="button" class="close" data-dismiss="modal">&times;</button>\n        </div>\n\n        \x3c!-- Modal body --\x3e\n        <div class="modal-body">\n          <div class="">\n            <div class="row">\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="salesPerson">Search By</label>\n                  <div class="form-group">\n                    <select class="form-control mr-auto mt-2 mt-lg-0" formControlName="searchby">\n                      <option [ngValue]="null">Select</option>\n                      <option *ngFor="let _searchSRBillParamsList of SearchSRBillParamsList"\n                        [value]="_searchSRBillParamsList.Key">\n                        {{_searchSRBillParamsList.Value}}\n                      </option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="searchText">Search Text</label>\n                  <div class="input-group">\n                    <input class="form-control" id="searchText" formControlName="searchText" placeholder="Search Text"\n                      type="text">\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="Search"></label>\n                  <div class="input-group">\n                    <button class="btn waves-effect waves-light btn-rounded btn-outline-secondary"\n                      (click)="getSearchParamsforSRBillAdj(AttachSRBillForm)"><i class="fal fa-search"></i>\n                      Search</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="row">\n              <div class="col-md-12">\n                <div class="table-responsive">\n                  <table class="table table-bordered">\n                    <thead class="topbar">\n                      <tr>\n                        <th>S.No</th>\n                        <th>SR No</th>\n                        <th>Date</th>\n                        <th>Amount</th>\n                      </tr>\n                    </thead>\n                    <tbody\n                      *ngFor="let _SRBillList of AttachSRBillList | paginate: { itemsPerPage:top, totalItems:totalItems, currentPage: pagenumber }; let i = index;">\n                      <tr (click)="SRBillAdjselectRecord(_SRBillList)" class="pointer">\n                        <td>{{i + 1 }}</td>\n                        <td>{{_SRBillList.SRNo}}</td>\n                        <td>{{_SRBillList.Date}}</td>\n                        <td>{{_SRBillList.Amount | number : \'1.2-2\'}}</td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n                <div>\n                  <pagination-controls (pageChange)="SRBillAdjonPageChange($event)"></pagination-controls>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \x3c!-- Modal footer --\x3e\n        <div class="modal-footer">\n          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n\x3c!-- <pre>{{arrayLines | json}}</pre> --\x3e'},NSaA:function(e,t,n){"use strict";var a=n("mrSG"),s=n("GFhY"),o=n("fXoL"),i=n("ofXK"),l=n("tyNb"),r=function e(){_classCallCheck(this,e)};r=a.a([Object(o.NgModule)({imports:[l.d.forChild([])],exports:[l.d]})],r);var d=n("3Pt+"),c=n("3TGi"),h=n("/i8d"),u=n("giQ8"),m=n("db5x"),p=n("+OR5"),g=n("eya4"),y=n("GUC0"),v=n.n(y),f=n("NFKh"),b=n("qLqq"),S=n("5eHb"),C=function(){function e(t,n,a,s,i,l,r,d,c){_classCallCheck(this,e),this._paymentService=t,this.formBuilder=n,this._orderservice=a,this._salesBillingService=s,this.Toastr=i,this._purchaseService=l,this._salesreturnService=r,this._masterService=d,this._router=c,this.orderNo=null,this.modifyOrderNo=null,this.SearchParamsList=[],this.SearchSRBillParamsList=[],this.SearcList=[],this.EnableSubmitButton=!0,this.EnableDisPayControls=!0,this.EnableReadOnlyControls=!1,this.OrderAmount=0,this.RepairBalanceAmount=0,this.repairAmt=0,this.PaidAmountChange=new o.EventEmitter,this.autoFillAmount=0,this.placeholder="",this.password=b.a.Pwd,this.enableClosedOrderDetails=!1,this.ParentJSON=[],this.SchemeData=[],this.ccode="",this.bcode="",this.PaymentSummaryData={Amount:null},this.PaymentHeaders={ObjID:null,CompanyCode:null,BranchCode:null,SeriesNo:null,ReceiptNo:null,SNo:null,TransType:null,PayMode:null,PayDetails:null,PayDate:null,PayAmount:null,RefBillNo:null,PartyCode:null,BillCounter:null,IsPaid:null,Bank:null,BankName:null,ChequeDate:null,CardType:null,ExpiryDate:null,CFlag:null,CardAppNo:null,SchemeCode:null,SalBillType:null,OperatorCode:null,SessionNo:null,UpdateOn:null,GroupCode:null,AmtReceived:null,BonusAmt:null,WinAmt:null,CTBranch:null,FinYear:null,CardCharges:null,ChequeNo:null,NewBillNo:null,AddDisc:null,IsOrderManual:null,CurrencyValue:null,ExchangeRate:null,CurrencyType:null,TaxPercentage:null,CancelledBy:null,CancelledRemarks:null,CancelledDate:null,IsExchange:null,ExchangeNo:null,NewReceiptNo:null,GiftAmount:null,CardSwipedBy:null,Version:null,GSTGroupCode:null,SGSTPercent:null,CGSTPercent:null,IGSTPercent:null,HSN:null,SGSTAmount:null,CGSTAmount:null,IGSTAmount:null,PayAmountBeforeTax:null,PayTaxAmount:null,IsCashMarking:null,ReceivedCash:null,AdditionalDiscount:null},this.SchemeAdjusment={BranchCode:null,SchemeCode:null,GroupCode:null,StartMSNNo:null,EndMSNNo:null,ChitAmount:null,TotalAmount:null,BonusAmount:null,WinnerAmount:null,PayMode:"CT"},this.BranchList=[],this.SchemeList=[],this.BranchCode="",this.GroupList=[],this.SchemeCode="",this.MSNNoList=[],this.GroupCode="",this.StartMSNo="",this.ChitAmount=0,this.TotalAmount=0,this.BonusAmount=0,this.WinnerAmount=0,this.chitAmountList=[],this.EndMSNo="",this.toggle="Invalid",this.DuplicateSchemeAdj=!1,this.ArrayList=[],this.ArrayListClosed=[],this.PaymentList=[],this.ChequeName=[],this.ChequeNo=[],this.payAmount=0,this.PaidAmount=0,this.pagenumber=1,this.top=50,this.skip=(this.pagenumber-1)*this.top,this.SelectedOldGoldList=[],this.submitted=!1,this.SearchParamsPurBill=[],this.SearchSEParamsList=[];var h=new Date,u=h.getMonth(),m=h.getFullYear(),p=h.getDate(),g=new Date(h.setMonth(h.getMonth()+3)),y=g.getMonth(),v=g.getFullYear(),f=g.getDate(),S=new Date(m,u,p),C=new Date(v,y,f);this.datePickerConfig=Object.assign({},{containerClass:"theme-dark-blue",showWeekNumbers:!1,minDate:S,maxDate:C,dateInputFormat:"YYYY-MM-DD"}),this.ExpirydatePickerConfig=Object.assign({},{containerClass:"theme-dark-blue",showWeekNumbers:!1,minDate:S,dateInputFormat:"DD-MM-YYYY"}),this.getCB()}return _createClass(e,[{key:"getCB",value:function(){this.ccode=f.AES.decrypt(localStorage.getItem("ccode"),this.password.trim()).toString(f.enc.Utf8),this.bcode=f.AES.decrypt(localStorage.getItem("bcode"),this.password.trim()).toString(f.enc.Utf8)}},{key:"ngOnInit",value:function(){var e=this;this.AttachOrderForm=this.formBuilder.group({searchby:[null,d.Validators.required],searchText:[null,d.Validators.required]}),this.AttachOldGoldForm=this.formBuilder.group({searchby:[null,d.Validators.required],searchText:[null,d.Validators.required]}),this.AttachPurBillForm=this.formBuilder.group({searchby:[null,d.Validators.required],searchText:[null,d.Validators.required]}),this.AttachSREstForm=this.formBuilder.group({searchby:[null,d.Validators.required],searchText:[null,d.Validators.required]}),this.AttachSRBillForm=this.formBuilder.group({searchby:[null,d.Validators.required],searchText:[null,d.Validators.required]}),this._purchaseService.getSearchParams().subscribe((function(t){e.SearcList=t;for(var n=0;n<e.SearcList.length;n++)n<6&&e.SearchParamsList.push(e.SearcList[n])})),this._paymentService.getSearchParamsSRBill().subscribe((function(t){e.SearchSRBillParamsList=t})),this.getCardType(),this.getPaymentMode(),this.getBank(),this.getSalesMan(),this.getApplicationdate(),this._paymentService.Data.subscribe((function(t){if(e.ParentJSON=t,null!=e.ParentJSON){if("0"!=e.modifyOrderNo&&null!=e.modifyOrderNo||(e.ArrayList=e.ParentJSON.lstOfPayment,e.EnableDisPayControls=!0,e.EnableReadOnlyControls=!1,e._orderservice.castOrderNoFromViewOrderComp.subscribe((function(t){e.orderNo=t,null!=e.orderNo&&(e.EnableDisPayControls=!1,e.EnableReadOnlyControls=!0,"Y"==e.ParentJSON.ClosedFlag?e._paymentService.getClosedOrderReceiptDetails(e.orderNo).subscribe((function(t){var n=t;null!=n&&(e.enableClosedOrderDetails=!0,e.ArrayListClosed=n)})):e.enableClosedOrderDetails=!1)})),e._paymentService.SendPaymentSummaryData(e.PaymentSummaryData)),null!=e.ParentJSON.OrderNo)for(var n=0;n<e.ParentJSON.lstOfOrderItemDetailsVM.length;n++)e.ParentJSON.lstOfOrderItemDetailsVM[n].OrderNo=e.ParentJSON.OrderNo}else"/salesreturn/ConfirmSalesReturn"==e._router.url?e.EnableDisPayControls=!0:e.EnableDisPayControls=!1})),this.PaymentForm=this.formBuilder.group({ObjID:null,CompanyCode:null,BranchCode:null,SeriesNo:0,ReceiptNo:0,SNo:0,TransType:null,PayMode:null,PayDetails:null,PayDate:null,PayAmount:null,RefBillNo:null,PartyCode:null,BillCounter:null,IsPaid:null,Bank:null,BankName:null,ChequeDate:null,CardType:null,ExpiryDate:null,CFlag:null,CardAppNo:null,SchemeCode:null,SalBillType:null,OperatorCode:null,SessionNo:null,UpdateOn:null,GroupCode:null,AmtReceived:null,BonusAmt:null,WinAmt:null,CTBranch:null,FinYear:null,CardCharges:null,ChequeNo:null,NewBillNo:null,AddDisc:null,IsOrderManual:null,CurrencyValue:null,ExchangeRate:null,CurrencyType:null,TaxPercentage:null,CancelledBy:null,CancelledRemarks:null,CancelledDate:null,IsExchange:null,ExchangeNo:null,NewReceiptNo:null,GiftAmount:null,CardSwipedBy:null,Version:null,GSTGroupCode:null,SGSTPercent:null,CGSTPercent:null,IGSTPercent:null,HSN:null,SGSTAmount:null,CGSTAmount:null,IGSTAmount:null,PayAmountBeforeTax:null,PayTaxAmount:null,IsCashMarking:null,ReceivedCash:null,AdditionalDiscount:null}),this.SchemeAdjustmentForm=this.formBuilder.group({BranchCode:null,SchemeCode:null,GroupCode:null,StartMSNNo:null,EndMSNNo:null,ChitAmount:null,TotalAmount:null,BonusAmount:null,WinnerAmount:null,PayMode:null}),this._orderservice.castModifyOrderDetsToOrderComp.subscribe((function(t){e.modifyOrderNo=t,null!=e.modifyOrderNo&&(e.EnableDisPayControls=!1)}))}},{key:"getBankdetailsonchange",value:function(e){this.PaymentHeaders.Bank=e}},{key:"getPaymentMode",value:function(){var e=this;this._paymentService.getPaymentMode(this.argPageName).subscribe((function(t){e.PaymentModes=t}))}},{key:"getCardType",value:function(){var e=this;this._masterService.getCardType().subscribe((function(t){e.CardType=t}))}},{key:"getBank",value:function(){var e=this;this._paymentService.getBank().subscribe((function(t){e.BankList=t}))}},{key:"ngOnDestroy",value:function(){this._paymentService.inputData(null)}},{key:"openChitAdjustment",value:function(){"SR"==this.toggle?this.Toastr.warning("Reference No not found for SR Bill.","Alert!"):($("#ChitAdjustment").modal("show"),this.SchemeAdjustmentForm.reset(),this.getBranchList(),this.SchemeList=null,this.GroupList=null,this.MSNNoList=null,this.MSNNoList=null,this.chitAmountList=null)}},{key:"getBranchList",value:function(){var e=this;this._paymentService.getBranch().subscribe((function(t){e.BranchList=t}))}},{key:"getScheme",value:function(e){var t=this;this.BranchCode=e,this._paymentService.getScheme(this.BranchCode).subscribe((function(e){t.SchemeList=e}))}},{key:"getGroup",value:function(e){var t=this;this.SchemeCode=e,this._paymentService.getGroup(this.BranchCode,this.SchemeCode).subscribe((function(e){t.GroupList=e}))}},{key:"getMSNNo",value:function(e){var t=this;this.GroupCode=e,this._paymentService.getMSNNo(this.BranchCode,this.SchemeCode,this.GroupCode).subscribe((function(e){t.MSNNoList=e}))}},{key:"getStartMSNo",value:function(e){this.StartMSNo=e}},{key:"getchitAmount",value:function(e){var t=this;this.EndMSNo=e,this._paymentService.getchitAmount(this.BranchCode,this.SchemeCode,this.GroupCode,this.StartMSNo,e).subscribe((function(e){t.chitAmountList=e,t.SchemeAdjusment.ChitAmount=t.chitAmountList.ChitAmount,t.SchemeAdjusment.TotalAmount=t.chitAmountList.TotalAmount,t.SchemeAdjusment.BonusAmount=t.chitAmountList.BonusAmount,t.SchemeAdjusment.WinnerAmount=t.chitAmountList.WinnerAount}))}},{key:"onchangePaymode",value:function(e){switch(this.PaymentHeaders.PayDetails=null,this.PaymentHeaders.PayAmount=null,this.PaymentHeaders.BankName=null,this.PaymentHeaders.RefBillNo=null,this.readonly=!1,this.placeholder="Enter Amount Received",this.ngOnChanges(),e){case"Q":this.toggle="Cheque","OC"==this.argPageName&&this.getChequeName();break;case"D":this.toggle="DD";break;case"C":this.toggle="Cash";break;case"R":this.toggle="Card";break;case"CT":this.toggle="Scheme",this.readonly=!0,this.placeholder="";break;case"BC":this.toggle="BC";break;case"GV":this.toggle="GV";break;case"SR":this.toggle="SRBill";break;case"EP":this.toggle="EP";break;case"OP":this.toggle="OrdAdj";break;case"PE":this.toggle="PurEst";break;case"PB":this.toggle="PurBill";break;case"SE":this.toggle="SREst";break;case"SR":this.toggle="SRBill";break;case"SP":this.toggle="SalesPromotion";break;case"UPI":this.toggle="UPI Payment";break;case"CN":this.toggle="CREDIT NOTE";break;default:this.toggle="Invalid"}}},{key:"getApplicationdate",value:function(){var e=this;this._orderservice.getApplicationDate().subscribe((function(t){var n=t;e.ApplicationDate=n.applcationDate,e.PaymentHeaders.ChequeDate=e.ApplicationDate}))}},{key:"addRow",value:function(e){var t=this;"DD"==this.toggle||"Cash"==this.toggle||"BC"==this.toggle||"EP"==this.toggle||"GV"==this.toggle||"SR"==this.toggle||"OrdAdj"==this.toggle||"PurEst"==this.toggle||"PurBill"==this.toggle||"SREst"==this.toggle||"SRBill"==this.toggle||"SalesPromotion"==this.toggle||"UPI Payment"==this.toggle||"CREDIT NOTE"==this.toggle?"BC"!=this.toggle||null!=this.PaymentHeaders.PayDetails&&""!=this.PaymentHeaders.PayDetails?null==this.PaymentHeaders.PayAmount||""==this.PaymentHeaders.PayAmount?this.Toastr.warning("Please enter the amount.","Alert!"):this.SaveAddrow(e,this.toggle):this.Toastr.warning("Please Enter Details.","Alert!"):"Card"==this.toggle?null==this.PaymentHeaders.RefBillNo?this.Toastr.warning("Please enter the card number","Alert!"):this.PaymentHeaders.RefBillNo.length<4?this.Toastr.warning("Please enter valid card no","Alert!"):null==this.PaymentHeaders.BankName?this.Toastr.warning("Please select the bank name","Alert!"):null==this.PaymentHeaders.PayAmount?this.Toastr.warning("Please enter the amount","Alert!"):this.SaveAddrow(e,this.toggle):"Cheque"==this.toggle?null==this.PaymentHeaders.ChequeNo?this.Toastr.warning("Please enter the cheque number","Alert!"):this.PaymentHeaders.ChequeNo.length<6?this.Toastr.warning("Please enter the valid cheque no","Alert!"):null==this.PaymentHeaders.PayAmount?this.Toastr.warning("Please enter the amount","Alert!"):this.SaveAddrow(e,this.toggle):"Scheme"==this.toggle&&(null==this.PaymentHeaders.PayAmount||""==this.PaymentHeaders.PayAmount?this.Toastr.warning("Please enter the amount","Alert!"):this._paymentService.getchitDetails(this.SchemeAdjustmentForm.value.BranchCode,this.SchemeAdjustmentForm.value.SchemeCode,this.SchemeAdjustmentForm.value.GroupCode,this.SchemeAdjustmentForm.value.StartMSNNo,this.SchemeAdjustmentForm.value.EndMSNNo).subscribe((function(e){if(t.SchemeData=e,null!=t.SchemeData)if(t.DuplicateSchemeAdj=!1,t.ParentJSON.lstOfPayment.length>0){for(var n=0;n<t.SchemeData.length;n++)null!=t.ParentJSON.lstOfPayment.find((function(e){return e.RefBillNo==t.SchemeData[n].RefBillNo}))&&(v()("error","Reference bill is already added","error"),t.DuplicateSchemeAdj=!0);0==t.DuplicateSchemeAdj&&t.saveSchemeAdjustData()}else 0==t.DuplicateSchemeAdj&&t.saveSchemeAdjustData()})))}},{key:"getChequeName",value:function(){var e=this;this._paymentService.getChequeName().subscribe((function(t){e.ChequeName=t}))}},{key:"getChequeNumber",value:function(e){var t=this;this._paymentService.getChequeList(e).subscribe((function(e){t.ChequeNo=e}))}},{key:"saveSchemeAdjustData",value:function(){for(var e=0;e<this.SchemeData.length;e++)this.PaymentHeaders.PayMode=this.SchemeData[e].PayMode,this.PaymentHeaders.RefBillNo=this.SchemeData[e].RefBillNo,this.PaymentHeaders.CTBranch=this.bcode,this.PaymentHeaders.PartyCode=this.SchemeData[e].CTBranch,this.PaymentHeaders.PayAmount=this.SchemeData[e].PayAmount,this.PaymentHeaders.PayDetails=this.SchemeData[e].SchemeCode+"/"+this.SchemeData[e].GroupCode+"/"+this.SchemeData[e].RefBillNo,this.PaymentHeaders.GroupCode=this.SchemeData[e].GroupCode,this.PaymentHeaders.SchemeCode=this.SchemeData[e].SchemeCode,this.PaymentHeaders.PayAmountBeforeTax=this.SchemeData[e].PayAmount,this.PaymentHeaders.CompanyCode=this.ccode,this.PaymentHeaders.BranchCode=this.bcode,this.PaymentHeaders.OperatorCode=localStorage.getItem("Login"),this.PaymentHeaders.AmtReceived=this.SchemeData[e].PayAmount,this.PaymentHeaders.CardSwipedBy="",this.ParentJSON.lstOfPayment.push(this.PaymentHeaders),this._paymentService.outputData(this.PaymentHeaders),this.PaymentHeaders={ObjID:null,CompanyCode:null,BranchCode:null,SeriesNo:null,ReceiptNo:null,SNo:null,TransType:null,PayMode:null,PayDetails:null,PayDate:null,PayAmount:null,RefBillNo:null,PartyCode:null,BillCounter:null,IsPaid:null,Bank:null,BankName:null,ChequeDate:null,CardType:null,ExpiryDate:null,CFlag:null,CardAppNo:null,SchemeCode:null,SalBillType:null,OperatorCode:null,SessionNo:null,UpdateOn:null,GroupCode:null,AmtReceived:null,BonusAmt:null,WinAmt:null,CTBranch:null,FinYear:null,CardCharges:null,ChequeNo:null,NewBillNo:null,AddDisc:null,IsOrderManual:null,CurrencyValue:null,ExchangeRate:null,CurrencyType:null,TaxPercentage:null,CancelledBy:null,CancelledRemarks:null,CancelledDate:null,IsExchange:null,ExchangeNo:null,NewReceiptNo:null,GiftAmount:null,CardSwipedBy:null,Version:null,GSTGroupCode:null,SGSTPercent:null,CGSTPercent:null,IGSTPercent:null,HSN:null,SGSTAmount:null,CGSTAmount:null,IGSTAmount:null,PayAmountBeforeTax:null,PayTaxAmount:null,IsCashMarking:null,ReceivedCash:null,AdditionalDiscount:null};this.EnableSubmitButton=!1,this._paymentService.SendPaymentSummaryData(this.PaymentSummaryData),this.EnableSubmitButton=!1,this.toggle="Invalid",this.PaymentForm.reset(),this._paymentService.OutputParentJSONFunction(this.ParentJSON),this.payAmount=0}},{key:"SaveAddrow",value:function(e,t){this.ParentJSON.lstOfPayment.length>0?null!=this.ParentJSON.lstOfPayment.find((function(t){return t.PayMode==e.value.PayMode}))&&"Scheme"!=t&&"OrdAdj"!=t&&"PurEst"!=t&&"PurBill"!=t&&"SREst"!=t&&"SRBill"!=t&&"Card"!=t&&"EP"!=t&&"UPI Payment"!=t&&"Cheque"!=t?v()("error",t+" mode is already added. Please select other mode of payment","error"):"Scheme"==t?null!=this.ParentJSON.lstOfPayment.find((function(t){return t.RefBillNo==e.value.RefBillNo}))?v()("error","Reference bill is already added","error"):this.SavePaymentData(e,t):("OrdAdj"==t||"PurEst"==t||"PurBill"==t||"SREst"==t||"SRBill"==t)&&null!=this.ParentJSON.lstOfPayment.find((function(t){return t.RefBillNo==e.value.RefBillNo}))?v()("error","Reference bill is already added","error"):this.SavePaymentData(e,t):this.SavePaymentData(e,t)}},{key:"SavePaymentData",value:function(e,t){if(0==this.OrderAmount&&0==this.RepairBalanceAmount)this.PaymentData(e,t);else{if(0!=this.OrderAmount){for(var n=0;n<this.ParentJSON.lstOfPayment.length;n++)this.payAmount+=parseInt(this.ParentJSON.lstOfPayment[n].PayAmount);this.payAmount+=parseInt(e.value.PayAmount),this.payAmount>this.OrderAmount?(v()("warning","Amount is greater than Balance","warning"),this.payAmount=0):this.PaymentData(e,t)}if(0!=this.RepairBalanceAmount){for(n=0;n<this.ParentJSON.lstOfPayment.length;n++)this.payAmount+=parseInt(this.ParentJSON.lstOfPayment[n].PayAmount);this.payAmount+=parseInt(e.value.PayAmount),this.payAmount>this.RepairBalanceAmount?(v()("warning","Payment Amount is greater than Bill Amount","warning"),this.payAmount=0):this.PaymentData(e,t)}}}},{key:"PaymentData",value:function(e,t){"Card"==t?e.value.RefBillNo=e.value.RefBillNo:"OrdAdj"!=t&&"PurEst"!=t&&"PurBill"!=t&&"SREst"!=t&&"SRBill"!=t||(e.value.TransType="S"),e.value.CompanyCode=this.ccode,e.value.BranchCode=this.bcode,e.value.OperatorCode=localStorage.getItem("Login"),this.ParentJSON.lstOfPayment.push(e.value),this.EnableSubmitButton=!1,this._paymentService.outputData(e.value),this._paymentService.SendPaymentSummaryData(this.PaymentSummaryData),this.EnableSubmitButton=!1,this.toggle="Invalid",this.PaymentForm.reset(),this._paymentService.OutputParentJSONFunction(this.ParentJSON),this.payAmount=0}},{key:"saveSchemeAdjustment",value:function(){null==this.SchemeAdjusment.BranchCode?this.Toastr.warning("Please select the branch code","Alert!"):null==this.SchemeAdjusment.SchemeCode?this.Toastr.warning("Please select the scheme code","Alert!"):null==this.SchemeAdjusment.GroupCode?this.Toastr.warning("Please select the group code","Alert!"):null==this.SchemeAdjusment.StartMSNNo?this.Toastr.warning("Please select the start membership no","Alert!"):null==this.SchemeAdjusment.EndMSNNo?this.Toastr.warning("Please select the end membership no","Alert!"):(this.PaymentHeaders.RefBillNo=this.SchemeAdjusment.EndMSNNo,this.PaymentHeaders.PayDetails=this.SchemeAdjusment.GroupCode,this.PaymentHeaders.PayAmount=this.SchemeAdjusment.TotalAmount,this.PaymentHeaders.SchemeCode=this.SchemeAdjusment.SchemeCode,this.PaymentHeaders.GroupCode=this.SchemeAdjusment.GroupCode,this.PaymentHeaders.CTBranch=this.SchemeAdjusment.BranchCode,this.PaymentHeaders.CompanyCode=this.ccode,this.PaymentHeaders.BranchCode=this.bcode,this.PaymentHeaders.OperatorCode=localStorage.getItem("Login"),$("#ChitAdjustment").modal("hide"))}},{key:"CancelSchemeAdjustment",value:function(){$("#ChitAdjustment").modal("hide")}},{key:"getSalesMan",value:function(){var e=this;this._orderservice.getSalesManData().subscribe((function(t){e.SalesManList=t,e.PaymentHeaders.CardSwipedBy="A"}))}},{key:"DeleteRow",value:function(e,t){confirm("Do you want to delete")&&(this.ParentJSON.lstOfPayment.splice(e,1),this.EnableDisableSubmit(),this._paymentService.outputData(t.value),"/credit-receipt/credit-receipt"==this._router.url&&this._paymentService.OutputParentJSONFunction(this.ParentJSON))}},{key:"EnableDisableSubmit",value:function(){this.ArrayList.length<=0&&this._paymentService.SendPaymentSummaryData(null)}},{key:"Amount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;return e.forEach((function(e){t+=Number(e.PayAmount)})),this.PaymentSummaryData.Amount=t,this.PaymentAmountChanged(t),t}},{key:"AmountClosed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;return e.forEach((function(e){t+=Number(e.PayAmount)})),this.PaymentSummaryData.Amount=t,t}},{key:"PaymentAmountChanged",value:function(e){this.PaidAmount=e,this.PaidAmountChange.emit(this.PaidAmount)}},{key:"openOrderAdjustment",value:function(){$("#OrderAdjustment").modal("show"),this.getOrderList(this.top,this.skip)}},{key:"getOrderList",value:function(e,t){var n=this;this.top=50,this.skip=0,this.AttachOrderForm.reset(),this._orderservice.getAllOrdersCount().subscribe((function(a){n.AllRecordCount=a,n.totalItems=n.AllRecordCount.RecordCount,n.totalItems>0&&n._orderservice.getOrderList(e,t).subscribe((function(e){n.AttachOrderList=e}))}))}},{key:"onSubmit",value:function(){this.submitted=!0,this.AttachOrderForm.invalid}},{key:"getSearchParamsForOrderAdj",value:function(e){var t=this;null!=e.value.searchby&&""!=e.value.searchby&&null!=e.value.searchText&&""!=e.value.searchText?this._orderservice.getAttachOrderList(e.value.searchby,e.value.searchText).subscribe((function(e){t.AttachOrderList=e,t.top=50,t.skip=0,t.totalItems=50}),(function(e){400===e.status&&(t.AttachOrderList=[])})):this.Toastr.warning("Please select required fields.","Alert!")}},{key:"onOrdAdjPageChange",value:function(e){this.pagenumber=e;var t=(this.pagenumber-1)*this.top;this.getOrderList(this.top,t)}},{key:"OrdAdjselectRecord",value:function(e){this.PaymentHeaders.RefBillNo=e.RefNo,this.PaymentHeaders.PayAmount=e.Amount,this.PaymentHeaders.CompanyCode=this.ccode,this.PaymentHeaders.BranchCode=this.bcode,this.PaymentHeaders.OperatorCode=localStorage.getItem("Login"),this.PaymentHeaders.PayMode="OP",$("#OrderAdjustment").modal("hide")}},{key:"openPurEstAdjustment",value:function(){$("#PurEstAdj").modal("show"),this.getOGList(this.top,this.skip)}},{key:"getOGList",value:function(e,t){var n=this;this._purchaseService.getOldGoldList(e,t).subscribe((function(e){n.AttachOldGoldList=e}))}},{key:"PurEstAdjselectRecord",value:function(e){this.PaymentHeaders.RefBillNo=e.EstNo,this.PaymentHeaders.PayAmount=e.Amount,this.PaymentHeaders.CompanyCode=this.ccode,this.PaymentHeaders.BranchCode=this.bcode,this.PaymentHeaders.OperatorCode=localStorage.getItem("Login"),this.PaymentHeaders.PayMode="PE",$("#PurEstAdj").modal("hide")}},{key:"getSearchParamsforPurEstAdj",value:function(e){var t=this;null!=e.value.searchby&&null!=e.value.searchText&&this._purchaseService.getAttachOldGoldList(e.value.searchby,e.value.searchText).subscribe((function(e){t.AttachOldGoldList=e}))}},{key:"PurEstAdjonPageChange",value:function(e){this.pagenumber=e;var t=(this.pagenumber-1)*this.top;this.getOGList(this.top,t)}},{key:"openPurBillAdjustment",value:function(){var e=this;$("#PurBillAdj").modal("show"),this.AttachPurBillForm.reset(),this._paymentService.getSearchParamsPurBill().subscribe((function(t){e.SearchParamsPurBill=t,e._paymentService.getPurBillList().subscribe((function(t){e.AttachPurBillList=t}))}))}},{key:"getSearchParamsforPurBillAdj",value:function(e){var t=this;null!=e.value.searchby&&""!=e.value.searchby&&null!=e.value.searchText&&""!=e.value.searchText?this._paymentService.getPurBillSearch(e.value.searchby,e.value.searchText,this.ApplicationDate).subscribe((function(e){t.AttachPurBillList=e,t.top=50,t.skip=0,t.totalItems=50}),(function(e){400===e.status&&(t.AttachPurBillList=[])})):this.Toastr.warning("Please select required fields.","Alert!")}},{key:"getSearchParamsforSRBillAdj",value:function(e){var t=this;null!=e.value.searchby&&""!=e.value.searchby&&null!=e.value.searchText&&""!=e.value.searchText?this._paymentService.getSRBillSearch(e.value.searchby,e.value.searchText).subscribe((function(e){t.AttachSRBillList=e,t.top=50,t.skip=0,t.totalItems=50}),(function(e){400===e.status&&(t.AttachSRBillList=[])})):this.Toastr.warning("Please select required fields.","Alert!")}},{key:"PurBillAdjonPageChange",value:function(e){this.pagenumber=e,this.pagenumber,this.top}},{key:"PurBillAdjselectRecord",value:function(e){this.PaymentHeaders.RefBillNo=e.BillNo,this.PaymentHeaders.PayAmount=e.Amount,this.PaymentHeaders.CompanyCode=this.ccode,this.PaymentHeaders.BranchCode=this.bcode,this.PaymentHeaders.OperatorCode=localStorage.getItem("Login"),this.PaymentHeaders.PayMode="PB",$("#PurBillAdj").modal("hide")}},{key:"openSREstAdjustment",value:function(){var e=this;$("#SREstModal").modal("show"),this.SearchSEParamsList=[],this._purchaseService.getSearchParams().subscribe((function(t){e.SearcList=t;for(var n=0;n<e.SearcList.length;n++)n<4&&1!=n&&e.SearchSEParamsList.push(e.SearcList[n]);e.getSalesReturnList(e.top,e.skip)}))}},{key:"getSalesReturnList",value:function(e,t){var n=this;this._salesreturnService.getSRList(e,t).subscribe((function(e){n.AttachSalesReturnList=e}))}},{key:"SREstonPageChange",value:function(e){this.pagenumber=e;var t=(this.pagenumber-1)*this.top;this.getSalesReturnList(this.top,t)}},{key:"SREstselectRecord",value:function(e){this.PaymentHeaders.RefBillNo=e.SrEstNo,this.PaymentHeaders.PayAmount=e.Amount,this.PaymentHeaders.CompanyCode=this.ccode,this.PaymentHeaders.BranchCode=this.bcode,this.PaymentHeaders.OperatorCode=localStorage.getItem("Login"),this.PaymentHeaders.PayMode="SE",$("#SREstModal").modal("hide")}},{key:"openSRBillAdjustment",value:function(){var e=this;$("#SRBillAdj").modal("show"),this.AttachSRBillForm.reset(),this._paymentService.getSRBillList().subscribe((function(t){e.AttachSRBillList=t}))}},{key:"SRBillAdjonPageChange",value:function(e){this.pagenumber=e,this.pagenumber,this.top}},{key:"SRBillAdjselectRecord",value:function(e){this.PaymentHeaders.RefBillNo=e.SRNo,this.PaymentHeaders.PayAmount=e.Amount,this.PaymentHeaders.CompanyCode=this.ccode,this.PaymentHeaders.BranchCode=this.bcode,this.PaymentHeaders.OperatorCode=localStorage.getItem("Login"),this.PaymentHeaders.PayMode="SR",$("#SRBillAdj").modal("hide")}},{key:"ngOnChanges",value:function(){this.getPaymentMode(),this.PaymentHeaders.PayAmount=this.autoFillAmount}}]),e}();C.ctorParameters=function(){return[{type:c.a},{type:d.FormBuilder},{type:u.a},{type:h.a},{type:S.b},{type:m.a},{type:p.a},{type:g.a},{type:l.c}]},a.a([Object(o.Input)(),a.c("design:type",Number)],C.prototype,"OrderAmount",void 0),a.a([Object(o.Input)(),a.c("design:type",Number)],C.prototype,"RepairBalanceAmount",void 0),a.a([Object(o.Input)(),a.c("design:type",Number)],C.prototype,"repairAmt",void 0),a.a([Object(o.Output)(),a.c("design:type",Object)],C.prototype,"PaidAmountChange",void 0),a.a([Object(o.Input)(),a.c("design:type",Number)],C.prototype,"autoFillAmount",void 0),a.a([Object(o.Input)(),a.c("design:type",Object)],C.prototype,"argPageName",void 0),C=a.a([Object(o.Component)({selector:"app-payment",template:a.b(n("Fm4u")).default,styles:[a.b(n("5JmU")).default]}),a.c("design:paramtypes",[c.a,d.FormBuilder,u.a,h.a,S.b,m.a,p.a,g.a,l.c])],C);var P=n("hzby"),A=n("CaAu"),B=n("oOf3");n.d(t,"a",(function(){return N}));var N=function e(){_classCallCheck(this,e)};N=a.a([Object(o.NgModule)({declarations:[C],imports:[i.CommonModule,r,d.ReactiveFormsModule,d.FormsModule,P.b.forRoot(),s.a,A.a,B.a],exports:[C],schemas:[o.CUSTOM_ELEMENTS_SCHEMA]})],N)},db5x:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("mrSG"),s=n("2Vo4"),o=n("fXoL"),i=n("tk/3"),l=n("NFKh"),r=n("qlSq"),d=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this.appConfigService=n,this.ccode="",this.bcode="",this.purchaseSummaryData=new s.a({}),this.cast=this.purchaseSummaryData.asObservable(),this.CustDtls=new s.a({}),this.castCustNo=this.CustDtls.asObservable(),this.DiamondAmount=new s.a({}),this.castDiamondAmt=this.CustDtls.asObservable(),this.DiamondDetails=new s.a({}),this.castDiamondDetails=this.DiamondDetails.asObservable(),this.StoneDetails=new s.a({}),this.castStoneDetails=this.StoneDetails.asObservable(),this.ReprintPurchaseData=new s.a({}),this.castReprintPurchaseData=this.ReprintPurchaseData.asObservable(),this.apiBaseUrl=this.appConfigService.apiBaseUrl,this.password=this.appConfigService.Pwd,this.getCB()}return _createClass(e,[{key:"getCB",value:function(){this.ccode=l.AES.decrypt(localStorage.getItem("ccode"),this.password.trim()).toString(l.enc.Utf8),this.bcode=l.AES.decrypt(localStorage.getItem("bcode"),this.password.trim()).toString(l.enc.Utf8)}},{key:"getPurchaseDetailsfromAPI",value:function(e){return this._http.get(this.apiBaseUrl+"api/purchase/Get?companyCode="+this.ccode+"&branchCode="+this.bcode+"&estNo="+e)}},{key:"post",value:function(e){var t=JSON.stringify(e);return this._http.post(this.apiBaseUrl+"api/purchase/Post",t)}},{key:"getSearchParams",value:function(){return this._http.get(this.apiBaseUrl+"api/purchase/searchParams")}},{key:"getOldStone",value:function(){return this._http.get(this.apiBaseUrl+"api/purchase/OldStone/"+this.ccode+"/"+this.bcode)}},{key:"getOldDiamond",value:function(){return this._http.get(this.apiBaseUrl+"api/purchase/OldDiamond/"+this.ccode+"/"+this.bcode)}},{key:"PostAttachementOldGold",value:function(e){var t=JSON.stringify(e);return this._http.post(this.apiBaseUrl+"api/purchase/PostAttachment",t)}},{key:"getAttachOldGoldList",value:function(e,t){return this._http.get(this.apiBaseUrl+"api/purchase/Search?companyCode="+this.ccode+"&branchCode="+this.bcode+"&searchType="+e+"&searchValue="+t)}},{key:"getOldGoldttachedList",value:function(e){return this._http.get(this.apiBaseUrl+"api/purchase/GetAttachedOGEst?companyCode="+this.ccode+"&branchCode="+this.bcode+"&estNo="+e)}},{key:"deleteOldGoldAttachment",value:function(e){return this._http.get(this.apiBaseUrl+"api/purchase/RemoveAttachment?companyCode="+this.ccode+"&branchCode="+this.bcode+"&estNo="+e)}},{key:"getOldGoldList",value:function(e,t){return this._http.get(this.apiBaseUrl+"api/purchase/AllPurchaseEst?companyCode="+this.ccode+"&branchCode="+this.bcode+"&$top="+e+"&$skip="+t)}},{key:"postPurchaseBilling",value:function(e){var t=JSON.stringify(e);return this._http.post(this.apiBaseUrl+"api/Purchase/Billing/Post",t)}},{key:"getPurchaseBill",value:function(e){return this._http.get(this.apiBaseUrl+"api/Purchase/Billing/Get?companyCode="+this.ccode+"&branchCode="+this.bcode+"&billNo="+e)}},{key:"CancelPurchaseBill",value:function(e){var t=JSON.stringify(e);return this._http.post(this.apiBaseUrl+"api/Purchase/Billing/CancelPurchaseBill",t)}},{key:"AllPurchaseBill",value:function(e,t){return this._http.get(this.apiBaseUrl+"api/Purchase/Billing/AllPurchaseBill?companyCode="+this.ccode+"&branchCode="+this.bcode+"&date="+e+"&isCancelled="+t)}},{key:"PrintPurchaseBill",value:function(e){return this._http.get(this.apiBaseUrl+"api/Purchase/Billing/Print?companyCode="+this.ccode+"&branchCode="+this.bcode+"&billNo="+e)}},{key:"PrintPurEstDotMatrix",value:function(e){return this._http.get(this.apiBaseUrl+"api/purchase/DotMatrixPrint/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"PrintPurBillDotMatrix",value:function(e){return this._http.get(this.apiBaseUrl+"api/Purchase/Billing/DotMatrixPrint/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getOldDmdName",value:function(){return this._http.get(this.apiBaseUrl+"api/purchase/StoneDiamondName/"+this.ccode+"/"+this.bcode+"/OD")}},{key:"getStnDmdRate",value:function(e,t){return this._http.get(this.apiBaseUrl+"api/purchase/StoneDiamondRate/"+this.ccode+"/"+this.bcode+"/"+e+"/"+t)}},{key:"sendPurchaseDatatoEstComp",value:function(e){this.purchaseSummaryData.next(e),e=""}},{key:"SendSalesDataToEstComp",value:function(e){this.CustDtls.next(e),e=""}},{key:"SendDiamondAmtFromDiamondComp",value:function(e){this.DiamondAmount.next(e),e=""}},{key:"SendDiamondDetailsFromPurchaseComp",value:function(e){this.DiamondDetails.next(e),e=""}},{key:"SendStoneDetailsFromPurchaseComp",value:function(e){this.StoneDetails.next(e),e=""}},{key:"SendReprintPurchaseData",value:function(e){this.ReprintPurchaseData.next(e),e=""}}]),e}();d.ctorParameters=function(){return[{type:i.b},{type:r.a}]},d=a.a([Object(o.Injectable)({providedIn:"root"}),a.c("design:paramtypes",[i.b,r.a])],d)},giQ8:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("mrSG"),s=n("fXoL"),o=n("tk/3"),i=n("2Vo4"),l=n("NFKh"),r=n("qlSq"),d=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this.appConfigService=n,this.ccode="",this.bcode="",this.existingOrderDetails=new i.a({}),this.castexistingOrderDetails=this.existingOrderDetails.asObservable(),this.OrderNo=new i.a(null),this.castOrderNoFromViewOrderComp=this.OrderNo.asObservable(),this.OrderNoToReprintComp=new i.a({}),this.castOrderNoToReprintComp=this.OrderNoToReprintComp.asObservable(),this.ReceiptNoToReprintComp=new i.a({}),this.castReceiptNoToReprintComp=this.ReceiptNoToReprintComp.asObservable(),this.OrderDetsToOrderComp=new i.a({}),this.castOrderDetsToOrderComp=this.OrderDetsToOrderComp.asObservable(),this.ModifyOrderDetsToOrderComp=new i.a(null),this.castModifyOrderDetsToOrderComp=this.ModifyOrderDetsToOrderComp.asObservable(),this.ReservedOrderDetsToSalesComp=new i.a({}),this.castReservedOrderDetsToSalesComp=this.ReservedOrderDetsToSalesComp.asObservable(),this.apiBaseUrl=this.appConfigService.apiBaseUrl,this.password=this.appConfigService.Pwd,this.permissionCode=this.appConfigService.permissionCode,this.getCB()}return _createClass(e,[{key:"getCB",value:function(){this.ccode=l.AES.decrypt(localStorage.getItem("ccode"),this.password.trim()).toString(l.enc.Utf8),this.bcode=l.AES.decrypt(localStorage.getItem("bcode"),this.password.trim()).toString(l.enc.Utf8)}},{key:"getSalesManData",value:function(){return this._http.get(this.apiBaseUrl+"api/Masters/Salesman/"+this.ccode+"/"+this.bcode)}},{key:"getKarat",value:function(){return this._http.get(this.apiBaseUrl+"api/Masters/Karat/"+this.ccode+"/"+this.bcode)}},{key:"getGS",value:function(){return this._http.get(this.apiBaseUrl+"api/order/OrderGSType/"+this.ccode+"/"+this.bcode)}},{key:"getRateperGram",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/Rate?companyCode="+this.ccode+"&branchCode="+this.bcode+"&gsCode="+e.GS+"&karat="+e.Karat)}},{key:"getPaymentMode",value:function(){return this._http.get(this.apiBaseUrl+"api/order/PayMode/"+this.ccode+"/"+this.bcode)}},{key:"getBank",value:function(){return this._http.get(this.apiBaseUrl+"api/order/Bank/"+this.ccode+"/"+this.bcode)}},{key:"getBarcodefromAPI",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/ReservedOrder/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getCounter",value:function(){return this._http.get(this.apiBaseUrl+"api/order/Counter/"+this.ccode+"/"+this.bcode)}},{key:"getMCTypes",value:function(){return this._http.get(this.apiBaseUrl+"api/masters/MCTypes/"+this.ccode+"/"+this.bcode)}},{key:"getItemName",value:function(e,t){return this._http.get(this.apiBaseUrl+"api/order/Items/"+this.ccode+"/"+this.bcode+"/"+t+"/"+e)}},{key:"get",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/Get/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getOrderReceipt",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/CancelReceiptGet/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getSearchParams",value:function(){return this._http.get(this.apiBaseUrl+"api/order/SearchParams/"+this.ccode+"/"+this.bcode)}},{key:"getAttachOrderList",value:function(e,t){return"Customer"==e?(t=(t="'"+t+"'").toString().replace(/"/g,""),this._http.get(this.apiBaseUrl+"api/order/AllOrders/"+this.ccode+"/"+this.bcode+"?$top=100&$skip=0&$orderby=OrderNo%20desc&$filter=startswith("+e+","+t+")")):this._http.get(this.apiBaseUrl+"api/order/AllOrders/"+this.ccode+"/"+this.bcode+"?$top=100&$skip=0&$filter="+e+" eq "+t)}},{key:"getAllOrdersCount",value:function(){return this._http.get(this.apiBaseUrl+"api/order/AllOrdersCount/"+this.ccode+"/"+this.bcode)}},{key:"getOrderAttachedList",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/GetAttachedOrder/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getAttachedList",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/GetAttachment/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"PostAttachementOrder",value:function(e){var t=JSON.stringify(e);return this._http.post(this.apiBaseUrl+"api/order/PostAttachment",t)}},{key:"getShowroom",value:function(){return this._http.get(this.apiBaseUrl+"api/Master/CompanyMaster/get/"+this.ccode+"/"+this.bcode)}},{key:"getReceipt",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/ReceiptDet/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"postOrder",value:function(e){var t=JSON.stringify(e);return this._http.post(this.apiBaseUrl+"api/order/Post",t)}},{key:"putOrder",value:function(e,t){var n=JSON.stringify(e);return this._http.put(this.apiBaseUrl+"api/order/Put?orderNo="+t,n)}},{key:"getOrderReceiptDetails",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/OrderReceiptGet/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"deleteOrderAttachment",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/RemoveAttachment?companyCode="+this.ccode+"&branchCode="+this.bcode+"&estNo="+e)}},{key:"postorderReceipt",value:function(e){var t=JSON.stringify(e);return this._http.post(this.apiBaseUrl+"api/order/OrderReceipt",t)}},{key:"getCancelOrderView",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/GetCancelOrderView/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"cancelOrder",value:function(e){var t=JSON.stringify(e);return this._http.post(this.apiBaseUrl+"api/order/CancelOrder",t)}},{key:"cancelReceipt",value:function(e){var t=JSON.stringify(e);return this._http.post(this.apiBaseUrl+"api/order/cancelReceipt",t)}},{key:"viewOrder",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/GetViewOrder/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getPrintOrder",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/GetOrderPrint/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getPrintReceipt",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/ReceiptDetPrint/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getApplicationDate",value:function(){return this._http.get(this.apiBaseUrl+"api/Masters/GetApplicationDate/"+this.ccode+"/"+this.bcode)}},{key:"getOrderNo",value:function(e,t){return this._http.get(this.apiBaseUrl+"api/order/OrderPrintOrders/"+this.ccode+"/"+this.bcode+"/"+e+"/"+t)}},{key:"getReceiptNo",value:function(e,t){return this._http.get(this.apiBaseUrl+"api/order/OrderPrintReceiptDetails/"+this.ccode+"/"+this.bcode+"/"+e+"/"+t)}},{key:"getClosedOrder",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/OrderPrintClosedOrders/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getTotal",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/GetOrderReceiptTotalPrint/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getClosedTotal",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/GetClosedOrderReceiptTotalPrint/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getWeightTotal",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/GetOrderFormTotalPrint/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getReceiptTotal",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/GetReceiptDetTotalPrint/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"closeOrder",value:function(e){var t=JSON.stringify(e);return this._http.post(this.apiBaseUrl+"api/order/CloseOrder",t)}},{key:"getOrderList",value:function(e,t){return this._http.get(this.apiBaseUrl+"api/order/AllOrders/"+this.ccode+"/"+this.bcode+"?$top="+e+"&$skip="+t+"&$orderby=OrderNo desc")}},{key:"getGlobalOrderAmount",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/GlobalOrderAmount/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getOrderItemType",value:function(){return this._http.get(this.apiBaseUrl+"api/order/OrderItemType/"+this.ccode+"/"+this.bcode)}},{key:"getPermission",value:function(){return this._http.get(this.apiBaseUrl+"api/elevatedpermission/get?permissionCode="+this.permissionCode)}},{key:"uploadCustOrderImg",value:function(e,t,n){return this._http.put(this.apiBaseUrl+"api/order/UploadOrderImage/"+this.ccode+"/"+this.bcode+"/"+e+"/"+t,n)}},{key:"downloadCustOrderImg",value:function(e,t){return this._http.get(this.apiBaseUrl+"api/order/DownloadOrderImage/"+this.ccode+"/"+this.bcode+"/"+e+"/"+t)}},{key:"getOrderPrintHTML",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/GetOrderPrintDotMatrix/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getOrderReceiptPrintHTML",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/ReceiptDetPrintDotMatrix/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getClosedOrderPrintHTML",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/ClosedOrderPrintDotMatrix/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getModifyOrder",value:function(){return this._http.get(this.apiBaseUrl+"api/order/GetAllOrders/"+this.ccode+"/"+this.bcode)}},{key:"getTopModifyOrder",value:function(e,t){return this._http.get(this.apiBaseUrl+"api/order/GetAllOrders/"+this.ccode+"/"+this.bcode+"?$top="+e+"&$skip="+t)}},{key:"ValidateAttachOrder",value:function(e,t){return this._http.get(this.apiBaseUrl+"api/order/ValAttachOrderVal/"+this.ccode+"/"+this.bcode+"/"+e+"/"+t)}},{key:"getorderRateType",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/PurchasePlan/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"getAdvancePercentDetail",value:function(e){return this._http.get(this.apiBaseUrl+"api/order/PurchasePlanDetail/"+this.ccode+"/"+this.bcode+"/"+e)}},{key:"SendExistingOrderDetailsToSubComp",value:function(e){this.existingOrderDetails.next(e),e=""}},{key:"SendOrderNoToComp",value:function(e){this.OrderNo.next(e),e=""}},{key:"SendOrderNoToReprintComp",value:function(e){this.OrderNoToReprintComp.next(e),e=""}},{key:"SendReceiptNoToReprintComp",value:function(e){this.ReceiptNoToReprintComp.next(e),e=""}},{key:"SendOrderDetsToOrderComp",value:function(e){this.OrderDetsToOrderComp.next(e),e=""}},{key:"SendModifyOrderNoToItemComp",value:function(e){this.ModifyOrderDetsToOrderComp.next(e),e=""}},{key:"SendReservedOrderDetsToSalesComp",value:function(e){this.ReservedOrderDetsToSalesComp.next(e),e=""}}]),e}();d.ctorParameters=function(){return[{type:o.b},{type:r.a}]},d=a.a([Object(s.Injectable)({providedIn:"root"}),a.c("design:paramtypes",[o.b,r.a])],d)}}]);