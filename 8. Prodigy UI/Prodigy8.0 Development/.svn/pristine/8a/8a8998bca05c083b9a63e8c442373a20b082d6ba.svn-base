(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{ODkD:function(e,t,a){"use strict";a.r(t);var o=a("mrSG"),d=a("3Pt+"),c=a("fXoL"),s=a("ofXK"),n=a("5nbR"),i=a("tk/3"),r=a("qlSq");let l=class{constructor(e,t){this._http=e,this.appConfigService=t,this.apiBaseUrl=this.appConfigService.apiBaseUrl,this.password=this.appConfigService.Pwd}getAllCompanybranchCode(e){return this._http.get(this.apiBaseUrl+"api/OperatorBranchMappings/Get?operatorCode="+e)}getBranchCompany(e){return this._http.get(this.apiBaseUrl+"api/Masters/Operator/DefaultBranch/"+e)}};l.ctorParameters=()=>[{type:i.b},{type:r.a}],l=o.a([Object(c.Injectable)({providedIn:"root"}),o.c("design:paramtypes",[i.b,r.a])],l);var h=a("tyNb"),p=a("NFKh"),b=a("qLqq"),g=a("s2oQ");let m=class{constructor(e,t,a,o){this._cbwidgetService=e,this.fb=t,this._router=a,this.service=o,this.ccode="",this.bcode="",this.isDisabled=!1,this.ValueChange=!1,this.password=b.a.Pwd,this.cbWidgetHeader={ccode:null,bcode:null},this.cbWidgetData=[]}ngOnInit(){$("#addBarcode").modal("show"),this.getAllCompanybranchCode(),this.ValueChange=!1,this.cbWidgetForm=this.fb.group({ccode:null,bcode:null})}getAllCompanybranchCode(){let e=localStorage.getItem("OperatorCode");this._cbwidgetService.getAllCompanybranchCode(e).subscribe(e=>{this.cbWidgetData=e,1===this.cbWidgetData.length?(this.isDisabled=!0,this.getDefaultBranch()):this.getDefaultBranch()})}encryptMode(e){this.ccode=p.AES.encrypt(e.value.ccode,this.password.trim()).toString(),this.bcode=p.AES.encrypt(e.value.bcode,this.password.trim()).toString(),localStorage.setItem("ccode",this.ccode),localStorage.setItem("bcode",this.bcode),this.service.SendBranchCode(this.bcode)}ChngCompanyCode(){this.ValueChange=!0}ChngBranchCode(){this.ValueChange=!0}storedata(e){if(localStorage.removeItem("ccode"),localStorage.removeItem("bcode"),1==this.ValueChange){if(!confirm("Do you want to proceed with "+e.value.ccode+" Company and "+e.value.bcode+" Branch??"))return!1;setTimeout(()=>{this.encryptMode(e),this._router.navigate(["/dashboard"]),$("#addBarcode").modal("hide")},300)}else setTimeout(()=>{this.encryptMode(e),this._router.navigate(["/dashboard"]),$("#addBarcode").modal("hide")},300)}getDefaultBranch(){let e=localStorage.getItem("OperatorCode");this._cbwidgetService.getBranchCompany(e).subscribe(e=>{this.defaultBranch=e,this.cbWidgetHeader.ccode=this.defaultBranch.CompanyCode,this.cbWidgetHeader.bcode=this.defaultBranch.BranchCode})}};m.ctorParameters=()=>[{type:l},{type:d.FormBuilder},{type:h.c},{type:g.a}],m=o.a([Object(c.Component)({selector:"app-cbwidget",template:o.b(a("gqaU")).default,styles:[o.b(a("Wc6t")).default]}),o.c("design:paramtypes",[l,d.FormBuilder,h.c,g.a])],m);const u=[{path:"",canActivate:[n.a],canActivateChild:[n.a],component:m}];let v=class{};v=o.a([Object(c.NgModule)({imports:[h.d.forChild(u)],exports:[h.d]})],v),a.d(t,"CbwidgetModule",(function(){return C}));let C=class{};C=o.a([Object(c.NgModule)({declarations:[m],imports:[s.CommonModule,v,d.FormsModule,d.ReactiveFormsModule],exports:[m],schemas:[c.CUSTOM_ELEMENTS_SCHEMA]})],C)},Wc6t:function(e,t,a){"use strict";a.r(t),t.default=""},gqaU:function(e,t,a){"use strict";a.r(t),t.default='<div class="modal fade" id="addBarcode"  data-backdrop="static" data-keyboard="false">\n  <div class="modal-dialog" style="max-width: 1360px;">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h3 class="modal-title">Select Company Code and Branch Code <div class="tooltipdesign"> <i class="fal fa-question-circle"></i>\n            <span class="tooltiptext ">Select Company Code and Branch Code</span>\n          </div>\n        </h3>\n      </div>\n      <div class="modal-body">\n        <div class="container-fluid">\n          <div class="row">\n            <div class="col-md-12">\n              <div class="card">\n                <div class="card-body">\n                  <form class="form-horizontal" [formGroup]="cbWidgetForm">\n                    <div class="row">\n                      <div class="col-md-4 ">\n                        <div class="form-group">\n                          <label class="control-label">Select Company Code</label>\n                          <select class="form-control mr-auto mt-2 mt-lg-0" formControlName="ccode"\n                            [disabled]="isDisabled" [(ngModel)]="cbWidgetHeader.ccode" (change)="ChngCompanyCode()">\n                            <option *ngFor="let _cbWidgetData of cbWidgetData" [value]="_cbWidgetData.CompanyCode">\n                              {{_cbWidgetData.CompanyCode}}\n                            </option>\n                          </select>\n                        </div>\n                      </div>\n                      <div class="col-md-4 ">\n                        <div class="form-group">\n                          <label for="OrderNo">Select Branch Code</label>\n                          <select class="form-control mr-auto mt-2 mt-lg-0" formControlName="bcode"\n                            [disabled]="isDisabled" [(ngModel)]="cbWidgetHeader.bcode" (change)="ChngBranchCode()">\n                            <option *ngFor="let _cbWidgetData of cbWidgetData" [value]="_cbWidgetData.BranchCode">\n                              {{_cbWidgetData.BranchCode}}\n                            </option>\n                          </select>\n                        </div>\n                      </div>\n                      <div class="col-md-4" style="text-align: right">\n                        <div>\n                          <i class="fal fa-calendar-alt"></i>&nbsp; <span class="text-muted">Current Branch</span>\n                          <h1 class="font-light">{{cbWidgetHeader.bcode}}</h1>\n                        </div>\n                      </div>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n            <div class="row" style="padding-bottom: 15px;">\n              <div class="col-md-6">\n                <button class="btn btn-success btn-rounded mt-20" style="margin-bottom: 20px;" type="button"\n                  (click)="storedata(cbWidgetForm)">\n                  Proceed</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'},qLqq:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));class o{}o.API_ENDPOINT="http://192.168.10.202/Magnawebpos/",o.Pwd="#SDAQ@$%^&*BNHJK"}}]);