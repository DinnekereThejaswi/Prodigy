(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{Vzpn:function(e,t,l){"use strict";l.r(t),t.default=""},"gk/z":function(e,t,l){"use strict";l.r(t);var a=l("mrSG"),s=l("fXoL"),r=l("ofXK"),n=l("3Pt+"),i=l("tyNb"),o=l("5nbR"),m=l("tk/3"),c=l("qLqq"),d=l("NFKh");let g=class{constructor(e){this._http=e,this.ccode="",this.bcode="",this.password=c.a.Pwd,this.getCB()}getCB(){this.ccode=d.AES.decrypt(localStorage.getItem("ccode"),this.password.trim()).toString(d.enc.Utf8),this.bcode=d.AES.decrypt(localStorage.getItem("bcode"),this.password.trim()).toString(d.enc.Utf8)}GSList(){return this._http.get(c.a.API_ENDPOINT+"api/Master/SellingMCMaster/GSNames/"+this.ccode+"/"+this.bcode)}Supplier(){return this._http.get(c.a.API_ENDPOINT+"api/Master/SellingMCMaster/SupplierNames/"+this.ccode+"/"+this.bcode)}GetItem(e){return this._http.get(c.a.API_ENDPOINT+"api/Master/SellingMCMaster/itemnames/"+this.ccode+"/"+this.bcode+"/"+e)}DesignName(){return this._http.get(c.a.API_ENDPOINT+"api/Master/SellingMCMaster/DesignNames/"+this.ccode+"/"+this.bcode)}getMCTypes(){return this._http.get(c.a.API_ENDPOINT+"api/Master/SellingMCMaster/MCTypes/"+this.ccode+"/"+this.bcode)}getFromWT(e,t,l,a){return this._http.get(c.a.API_ENDPOINT+"api/Master/SellingMCMaster/Fromwt/"+this.ccode+"/"+this.bcode+"/"+e+"/"+t+"/"+l+"/"+a)}getTable(e,t,l,a){return this._http.get(c.a.API_ENDPOINT+"api/Master/SellingMCMaster/SellingMCMasterDetails/"+this.ccode+"/"+this.bcode+"/"+e+"/"+t+"/"+l+"/"+a)}VAMasterPost(e){let t=JSON.stringify(e);return this._http.post(c.a.API_ENDPOINT+"api/Master/SellingMCMaster/Post",t)}};g.ctorParameters=()=>[{type:m.b}],g=a.a([Object(s.Injectable)({providedIn:"root"}),a.c("design:paramtypes",[m.b])],g);var u=l("5eHb");let h=class{constructor(e,t,l){this.vaservice=e,this.fb=t,this.toastr=l,this.ccode="",this.bcode="",this.password=c.a.Pwd,this.SellingVASummaryHeader={ItemName:null,DesignCode:null,FromWt:0,ToWt:0,McPerPiece:0,McPerGram:0,McPercent:0,McAmount:0,WastageGrms:0,WastPercentage:0,TypeID:null,PartyCode:null,CompanyCode:this.ccode,BranchCode:this.bcode,GSCode:null},this.SupplierList=[],this.GSList=[],this.ItemList=[],this.DesignList=[],this.MCList=[],this.toggle="Invalid",this.VAmasterTab=[],this.getCB()}getCB(){this.ccode=d.AES.decrypt(localStorage.getItem("ccode"),this.password.trim()).toString(d.enc.Utf8),this.bcode=d.AES.decrypt(localStorage.getItem("bcode"),this.password.trim()).toString(d.enc.Utf8)}ngOnInit(){this.getSupplier(),this.getGs(),this.getDesign(),this.getMc(),this.SellingVASummaryHeader.CompanyCode=this.ccode,this.SellingVASummaryHeader.BranchCode=this.bcode,this.VAMasterForm=this.fb.group({Supplier:null,GS:null,ItemName:null,DesignName:null,McType:"MC%",McPerGram:null,McPerPiece:null,McPercent:null,WastPercent:null,McAmount:null,WastageGrms:null,fromWt:null,ToWt:null,CompanyCode:this.ccode,BranchCode:this.bcode})}getSupplier(){this.vaservice.Supplier().subscribe(e=>{this.SupplierList=e})}getGs(){this.vaservice.GSList().subscribe(e=>{this.GSList=e})}getItem(e){this.vaservice.GetItem(e.value.GS).subscribe(e=>{this.ItemList=e})}getDesign(){this.vaservice.DesignName().subscribe(e=>{this.DesignList=e})}getMc(){this.vaservice.getMCTypes().subscribe(e=>{this.MCList=e})}onchangeOption(e){"5"==e?(this.toggle="MC%",this.SellingVASummaryHeader.McPerGram=0,this.SellingVASummaryHeader.McPerPiece=0,this.SellingVASummaryHeader.WastPercent=0,this.SellingVASummaryHeader.McAmount=0,this.SellingVASummaryHeader.WastageGrms=0):"1"==e?(this.toggle="MC PER GRAM",this.SellingVASummaryHeader.McPerPiece=0,this.SellingVASummaryHeader.McPercent=0,this.SellingVASummaryHeader.McAmount=0,this.SellingVASummaryHeader.WastageGrms=0):"4"==e?(this.toggle="MC Amount - Wastg",this.SellingVASummaryHeader.McPerGram=0,this.SellingVASummaryHeader.McPerPiece=0,this.SellingVASummaryHeader.McPercent=0,this.SellingVASummaryHeader.WastPercent=0):"6"==e?(this.toggle="MC PER PIECE",this.SellingVASummaryHeader.McPerGram=0,this.SellingVASummaryHeader.McPercent=0,this.SellingVASummaryHeader.WastPercent=0,this.SellingVASummaryHeader.McAmount=0,this.SellingVASummaryHeader.WastageGrms=0):(this.toggle="NA",this.SellingVASummaryHeader.McPerGram=0,this.SellingVASummaryHeader.McPerPiece=0,this.SellingVASummaryHeader.McPercent=0,this.SellingVASummaryHeader.WastPercent=0,this.SellingVASummaryHeader.McAmount=0,this.SellingVASummaryHeader.WastageGrms=0)}getTable(e){this.vaservice.getTable(e.value.Supplier,e.value.GS,e.value.ItemName,e.value.DesignName).subscribe(t=>{this.VAmasterTab=t,this.getFromWt(e)})}getFromWt(e){this.vaservice.getFromWT(e.value.Supplier,e.value.GS,e.value.ItemName,e.value.DesignName).subscribe(e=>{this.FromWT=e,this.SellingVASummaryHeader.FromWt=this.FromWT.FromWt})}VAPost(){null==this.VAMasterForm.value.Supplier?alert("Please select Supplier"):null==this.VAMasterForm.value.GS?alert("Please select GS"):null==this.VAMasterForm.value.ItemName?alert("Please select Item Name"):null==this.VAMasterForm.value.DesignName?alert("Please select Design Name"):this.VAMasterForm.value.fromWt>this.VAMasterForm.value.ToWt?alert("Please enter valid weight"):this.vaservice.VAMasterPost(this.SellingVASummaryHeader).subscribe(e=>{this.PostRes=e,alert("Saved Succeccfully"),this.getTable(this.VAMasterForm),this.SellingVASummaryHeader.ToWt=0,this.SellingVASummaryHeader.FromWt=this.FromWT.FromWt,this.SellingVASummaryHeader.McPerPiece=0,this.SellingVASummaryHeader.McPercent=0,this.SellingVASummaryHeader.WastPercent=0,this.SellingVASummaryHeader.McAmount=0,this.SellingVASummaryHeader.WastageGrms=0})}VAClear(){this.SellingVASummaryHeader.ToWt=0,this.SellingVASummaryHeader.McPerPiece=0,this.SellingVASummaryHeader.McPercent=0,this.SellingVASummaryHeader.WastPercent=0,this.SellingVASummaryHeader.McAmount=0,this.SellingVASummaryHeader.WastageGrms=0,this.SellingVASummaryHeader.McPerGram=0}};h.ctorParameters=()=>[{type:g},{type:n.FormBuilder},{type:u.b}],h=a.a([Object(s.Component)({selector:"app-selling-va-master",template:a.b(l("oaV1")).default,styles:[a.b(l("Vzpn")).default]}),a.c("design:paramtypes",[g,n.FormBuilder,u.b])],h);const S=[{path:"",canActivate:[o.a],canActivateChild:[o.a],component:h,data:{title:"Selling VA Master",urls:[{title:"Dashboard",url:"/dashboard"},{title:"Selling VA Master"}]}}];let p=class{};p=a.a([Object(s.NgModule)({imports:[i.d.forChild(S)],exports:[i.d]})],p),l.d(t,"SellingVaMasterModule",(function(){return M}));let M=class{};M=a.a([Object(s.NgModule)({declarations:[h],imports:[r.CommonModule,p,n.FormsModule,n.ReactiveFormsModule]})],M)},oaV1:function(e,t,l){"use strict";l.r(t),t.default='<div class="card">\n  <div class="card-body">\n    <form [formGroup]="VAMasterForm">\n      <div class="row">\n        <div class="col-sm-3">\n          <div class="form-group">\n            <label class="control-label" for="Supplier">Supplier</label>\n            <select class="form-control" formControlName="Supplier" [(ngModel)]="SellingVASummaryHeader.PartyCode">\n              <option [ngValue]="null">Select</option>\n              <option *ngFor="let _supplier of SupplierList" [value]="_supplier.SupplierCode" >\n                {{_supplier.SupplierName}} </option>\n            </select>\n          </div>\n        </div>\n        <div class="col-sm-3">\n          <div class="form-group">\n            <label class="control-label" for="GS">GS</label>\n            <select class="form-control" formControlName="GS" (change)="getItem(VAMasterForm)" [(ngModel)]="SellingVASummaryHeader.GSCode">\n              <option [ngValue]="null">Select</option>\n              <option *ngFor="let _GSList of GSList" [value]="_GSList.GSCode">\n                {{_GSList.GSName}} </option>\n            </select>\n          </div>\n        </div>\n        <div class="col-sm-3">\n          <div class="form-group">\n            <label class="control-label">Item Name</label>\n            <select class="form-control" formControlName="ItemName" [(ngModel)]="SellingVASummaryHeader.ItemName">\n              <option [ngValue]="null">Select</option>\n              <option *ngFor="let Item of ItemList" [ngValue]="Item.ItemCode">\n                {{Item.ItemName}}\n              </option>\n            </select>\n          </div>\n        </div>\n        <div class="col-sm-3">\n          <div class="form-group">\n            <label class="control-label">Design Name</label>\n            <select class="form-control" formControlName="DesignName" (change)="getTable(VAMasterForm)" [(ngModel)]="SellingVASummaryHeader.DesignCode">\n              <option [ngValue]="null">Select</option>\n              <option *ngFor="let Design of DesignList" [ngValue]="Design.DesignCode">\n                {{Design.DesignName}}\n              </option>\n            </select>\n          </div>\n        </div>\n\n\n      </div>\n      <div class="row">\n        <div class="col-sm-12">\n          <div class="table-responsive">\n            <table class="table table-bordered">\n              <thead class="topbar">\n                <tr>\n                  <th style="width: 180px;">MC Type</th>\n                  <th>MC/Gram</th>\n                  <th>MC/Piece</th>\n                  <th>MC%</th>\n                  <th>Wast.%</th>\n                  <th>MC Amt</th>\n                  <th>Wastage Grams</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr>\n                  <td>\n                    <select class="form-control mr-auto mt-2 mt-lg-0" formControlName="McType" #OptionMode\n                      (change)="onchangeOption(OptionMode.value)" [(ngModel)]="SellingVASummaryHeader.TypeID">\n                      <option [ngValue]="null">Select</option>\n                      <option value="select" *ngFor="let MC of MCList" [value]="MC.MCTypeName">\n                        {{MC.MCTypeID}}\n                      </option>\n                    </select>\n                  </td>\n                  <td>\n                    <input type="text" class="form-control" formControlName="McPerGram" [(ngModel)]="SellingVASummaryHeader.McPerGram"\n                      [readonly]="toggle == \'MC%\' || toggle == \'NA\' || toggle == \'MC PER PIECE\' || toggle == \'MC Amount - Wastg\' ">\n                  </td>\n                  <td>\n                    <input type="text" class="form-control" formControlName="McPerPiece" [(ngModel)]="SellingVASummaryHeader.McPerPiece"\n                      [readonly]="toggle === \'MC%\' || toggle ===\'MC PER GRAM\' || toggle ===\'NA\' || toggle == \'MC Amount - Wastg\'">\n                  </td>\n                  <td>\n                    <input type="text" class="form-control" formControlName="McPercent" [(ngModel)]="SellingVASummaryHeader.McPercent"\n                      [readonly]="toggle === \'MC PER GRAM\' || toggle ===\'NA\' || toggle ===\'NA\' || toggle == \'MC PER PIECE\' || toggle == \'MC Amount - Wastg\' ">\n                  </td>\n                  <td>\n                    <input type="text" class="form-control" formControlName="WastPercent" [(ngModel)]="SellingVASummaryHeader.WastPercentage"\n                      [readonly]="toggle === \'MC%\' || toggle ===\'NA\' || toggle == \'MC PER PIECE\' || toggle == \'MC Amount - Wastg\'">\n                  </td>\n                  <td>\n                    <input type="text" class="form-control" formControlName="McAmount" [(ngModel)]="SellingVASummaryHeader.McAmount"\n                      [readonly]="toggle === \'MC%\' || toggle ===\'MC PER GRAM\' || toggle ===\'NA\' || toggle == \'MC PER PIECE\'">\n                  </td>\n                  <td>\n                    <input type="text" class="form-control" formControlName="WastageGrms" [(ngModel)]="SellingVASummaryHeader.WastageGrms"\n                      [readonly]="toggle === \'MC%\' || toggle ===\'MC PER GRAM\' || toggle ===\'NA\' || toggle == \'MC PER PIECE\'">\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n      </div>\n      <div class="row">\n        <div class="col-sm-3">\n          <div class="form-group">\n            <label class="control-label">From Weight</label>\n            <input type="text" class="form-control" formControlName="fromWt" [(ngModel)]="SellingVASummaryHeader.FromWt">\n          </div>\n        </div>\n        <div class="col-sm-3">\n          <div class="form-group">\n            <label class="control-label">To Weight</label>\n            <input type="text" class="form-control" formControlName="ToWt"  [(ngModel)]="SellingVASummaryHeader.ToWt">\n          </div>\n        </div>\n        <div class="col-sm-1" style="padding-top:28px;">\n          <a class="btn btn-success waves-effect waves-light btn-rounded btn-secondary MT-2" href="javascript:void(0)" (click)="VAPost()">\n            Save\n          </a>\n        </div>\n        <div class="col-sm-2" style="padding-top:28px;">\n          <a class="btn btn-success waves-effect waves-light btn-rounded btn-secondary MT-2" href="javascript:void(0)" (click)="VAClear()">\n            Clear\n          </a>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-sm-12">\n          <div class="table-responsive">\n            <table class="table table-bordered">\n              <thead class="topbar">\n                <tr>\n                  <th>Item Name</th>\n                  <th>Design Name</th>\n                  <th>From Weight</th>\n                  <th>To Weight</th>\n                  <th>MC/Piece</th>\n                  <th>MC/Gram</th>\n                  <th>MC%</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr *ngFor="let VAmaster of VAmasterTab">\n                  <td>{{VAmaster.ItemName}}</td>\n                  <td>{{VAmaster.DesignName}}</td>\n                  <td>{{VAmaster.FromWt}}</td>\n                  <td>{{VAmaster.ToWt}}</td>\n                  <td>{{VAmaster.McPerPiece}}</td>\n                  <td>{{VAmaster.McPerGram}}</td>\n                  <td>{{VAmaster.McPercentage}}</td>\n                  \n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n\n\n    </form>\n  </div>\n</div>\n\x3c!-- <pre>{{SellingVASummaryHeader | json}}</pre> --\x3e'},qLqq:function(e,t,l){"use strict";l.d(t,"a",(function(){return a}));class a{}a.API_ENDPOINT="http://192.168.10.202/Magnawebpos/",a.Pwd="#SDAQ@$%^&*BNHJK"}}]);