(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"769H":function(t,e,n){"use strict";n.r(e),e.default='<div class="row" style="display:block;margin: auto;width: 30%;">\n  <form class="form-horizontal">\n    <div class="col-md-12">\n      <div class="card">\n        <div class="card-body">\n          <div class="row">\n            <div class="col-md-12">\n              <div class="form-group">\n                <label for="exampleAccount">SR Estimation Delete</label>\n                <div class="input-group">\n                  <div class="input-group">\n                    <select class="form-control mr-auto mt-2 mt-lg-0" (change)="DeactivateGuard()" #SREstNo>\n                      <option [value]="0">Select</option>\n                      <option *ngFor="let _SREstList of SREstList" [value]="_SREstList.EstNo">\n                        {{_SREstList.EstNo}} ({{_SREstList.VotureBillNo}} - {{_SREstList.CustomerName}})\n                      </option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n              <div class="form-group">\n                <button class="printMe btn btn-success waves-effect waves-light btn-rounded btn-secondary"\n                  (click)="onPreview(SREstNo.value)"><i class="fas fa-eye"></i>\n                  Preview </button>\n                <button class="btn btn-danger waves-effect waves-light btn-rounded btn-secondary"\n                  (click)="deleteSR(SREstNo.value)" type="button"><i class="far fa-window-close"></i>\n                  Cancel SR Est </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n\n\n<ng-container *ngIf="EnableReprintSR">\n  <app-reprint-salesreturn></app-reprint-salesreturn>\n</ng-container>'},"7Rfv":function(t,e,n){"use strict";n.r(e),e.default="\r\n.profile-card {\r\n    position: relative;\r\n    box-shadow: 0px 3px 6px rgba(0,0,0,.05);\r\n\r\n}\r\n\r\n.profile-card .btn-edit {\r\n    position: absolute;\r\n    top: 1rem;\r\n    right: 1.2rem;\r\n    font-size: 1.4rem;\r\n}\r\n\r\n.profile-card .profile-picture {\r\n    width: 7.4rem;\r\n}\r\n\r\n.profile-card .quote-text {\r\n    font-size: .85rem;\r\n    line-height: 1.55rem;\r\n}\r\n\r\n.profile-card .social-section {\r\n    margin-top: 1rem;\r\n}\r\n\r\n.profile-card .social-section a {\r\n    font-size: 1rem;\r\n    line-height: 2.15rem;\r\n    width: 2.2rem;\r\n    height: 2.2rem;\r\n    border: 1px solid #d6d6d6;\r\n    color: #d6d6d6;\r\n    border-radius: 50%;\r\n    margin: 0 .5rem;\r\n}\r\n\r\n.profile-card .social-section a:hover {\r\n    background-color: #007bff;\r\n    border-color: #007bff;\r\n    color: #fff;\r\n}\r\n\r\n.card-header{\r\n    border-radius: 15px !important;\r\n  }\r\n\r\n.card{\r\n    border-radius: 15px !important;\r\n  \r\n  }\r\n\r\n.card-body{ \r\n    padding: 10px 30px 0px 30px !important; \r\n    border-bottom: 2px solid black;\r\n    border-radius: 15px;\r\n  }"},"7Wt6":function(t,e,n){"use strict";n.r(e),e.default='<div class="card">\n  <div class="card-body">\n    <form [formGroup]="SRCancelForm" class="form-horizontal">\n      <div class="row">\n        <div class="col-md-2 ">\n          <div class="form-group">\n            <label for="OrderNo">SR No</label>\n            <input type="number" formControlName="BillNo" class="form-control" #BillNo name="BillNo"\n              placeholder="Enter Bill Number">\n          </div>\n        </div>\n        <div class="col-md-2">\n          <div class="form-group">\n            <div class="input-group">\n              <button class="btn waves-effect waves-light btn-rounded btn-outline-secondary mt-4"\n                (click)="getSRDetails(BillNo.value)"><i class="fal fa-search"></i> Search</button>\n              \x3c!-- <button class="btn btn-clear waves-effect waves-light btn-rounded btn-outline-secondary mt-4"\n                (click)="Clear()"><i class="fal fa-ban"></i> Clear</button> --\x3e\n            </div>\n          </div>\n        </div>\n        <div class="col-md-4 float-right" *ngIf="hasSRDetails">\n          <div class="">\n            <div class="text-right"><i class="fal fa-rupee-sign"></i>&nbsp; <span class="text-muted">\n                SR Amount</span>\n              <h1 class="font-light">{{SRBillData.TotalSRAmount | number : \'1.2-2\'}}</h1>\n            </div>\n          </div>\n        </div>\n        <div class="col-md-4 float-right" *ngIf="hasSRDetails">\n          <div class="">\n            <div class="text-right"><i class="fal fa-calendar-alt"></i>&nbsp; <span class="text-muted">SR Date</span>\n              <h1 class="font-light">{{SRBillData.SalesReturnDate | date:\'dd/MM/yyyy\'}}</h1>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="row" *ngIf="hasSRDetails">\n        <div class="col-md-4">\n          <div class="form-group">\n            <label for="CustomerID">Cust ID</label>\n            <div class="input-group">\n              <input class="form-control" formControlName="CustID" [(ngModel)]="SRBillData.CustomerID" type="text"\n                readonly>\n            </div>\n          </div>\n        </div>\n        <div class="col-md-4">\n          <div class="form-group">\n            <label for="Name">Est No</label>\n            <div class="input-group">\n              <input class="form-control" formControlName="EstNo" [(ngModel)]="SRBillData.EstNo" type="text" readonly>\n            </div>\n          </div>\n        </div>\n        <div class="col-md-4">\n          <div class="form-group">\n            <label for="Name">Bill No</label>\n            <div class="input-group">\n              <input class="form-control" formControlName="VotureBillNo" [(ngModel)]="SRBillData.VotureBillNo"\n                type="text" readonly>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="row" *ngIf="hasSRDetails">\n        <div class="col-md-4">\n          <div class="form-group">\n            <div class="form-group">\n              <label for="Advance">Name</label>\n              <div class="input-group">\n                <input class="form-control" formControlName="CustName" [(ngModel)]="SRBillData.CustomerName" type="text"\n                  readonly>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="col-md-4">\n          <div class="form-group">\n            <div class="form-group">\n              <label for="Advance">Mobile</label>\n              <div class="input-group">\n                <input class="form-control" formControlName="Mobile" [(ngModel)]="SRBillData.MobileNo" type="text"\n                  readonly>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="col-md-4">\n          <div class="form-group">\n            <div class="form-group">\n              <label for="Advance">Remarks</label>\n              <div class="input-group">\n                <input class="form-control" formControlName="Remarks" [(ngModel)]="SRCancelObj.CancelRemarks"\n                  type="text">\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="row" *ngIf="hasSRDetails">\n        <div class="col-md-6">\n          <div class="form-group">\n            <div class="input-group">\n              <button class="btn btn-danger waves-effect waves-light btn-rounded btn-secondary" (click)="submitPost()"\n                type="button"><i class="far fa-window-close"></i>\n                Cancel SR</button>\n              <button class="btn waves-effect waves-light btn-rounded btn-secondary" (click)="clear()">\n                <i class="far fa-eraser"></i>&nbsp;Clear</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n\n\x3c!-- <pre>{{SRCancelObj | json}}</pre> --\x3e'},EgNT:function(t,e,n){"use strict";n.r(e),e.default='<ng-container *ngIf="EnableDisablectrls">\n<button type="button"\n  class="btn btn-outline-default waves-effect waves-light btn-rounded btn-outline-secondary pull-right"\n  data-toggle="modal" data-target="#mySalesReturnModal" (click)="openModal()">\n  Attach SR Estimate\n</button>\n</ng-container>\n\n<br>\n<br>\n<div class="table-responsive">\n  <table class="table table-bordered">\n    <thead class="topbar">\n      <tr>\n        <th *ngIf="EnableDisablectrls">Action</th>\n        <th>S.No</th>\n        <th>Est No</th>\n        <th>Qty</th>\n        <th>Gr.Wt</th>\n        <th>Tax Amt</th>\n        <th>Total Amt</th>\n      </tr>\n    </thead>\n\n    <tbody *ngFor="let _SelectSalesReturnList of SelectedSalesReturnList; let i = index;">\n      <tr>\n        <td *ngIf="EnableDisablectrls"><i class="far fa-trash-alt fa-1-5x pointer" style=\'color: red; font-size: 1.5em !important;\'\n            (click)="DeleteRow(i)"></i>\n        </td>\n        <td>{{i + 1 }}</td>\n        <td>{{_SelectSalesReturnList.SrEstNo}}</td>\n        <td>{{_SelectSalesReturnList.Quantity}}</td>\n        <td>{{_SelectSalesReturnList.GrossWt | number : \'1.3-3\'}}</td>\n        <td>{{_SelectSalesReturnList.TaxAmount | number : \'1.2-2\'}}</td>\n        <td>{{_SelectSalesReturnList.Amount | number : \'1.2-2\'}}</td>\n      </tr>\n    </tbody>\n    <tr>\n      <td *ngIf="EnableDisablectrls" class="border-none"></td>\n      <td class="border-none"></td>\n      <td class="border-none">No. of items:</td>\n      <td class="border-none">{{Quantity(SelectedSalesReturnList)}}</td>\n      <td class="border-none"></td>\n      <td class="border-none"><b>Total:</b></td>\n      <td class="border-none">{{Amount(SelectedSalesReturnList) | number : \'1.2-2\'}}</td>\n    </tr>\n  </table>\n</div>\n<ng-container *ngIf="EnableDisablectrls">\n<button class="btn btn-outline-default waves-effect waves-light btn-rounded btn-outline-secondary pb-10p"\nstyle="margin-bottom: 25px;" type="button" (click)="Submit()" [disabled]="EnableSubmitButton"><i class="fal fa-save"></i> Submit</button>\n</ng-container>\n<form [formGroup]="AttachSalesReturnForm" class="form-horizontal" (ngSubmit)="onSubmit()">\n  <div class="modal fade" id="mySalesReturnModal">\n    <div class="modal-dialog " style="max-width: 900px;">\n      <div class="modal-content">\n\n        \x3c!-- Modal Header --\x3e\n        <div class="modal-header">\n          <h4 class="modal-title">Attach SR Estimate</h4>\n          <button type="button" class="close" data-dismiss="modal">&times;</button>\n        </div>\n\n        \x3c!-- Modal body --\x3e\n        <div class="modal-body">\n          <div class="">\n            <div class="row">\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="salesPerson">Search By</label>\n                  <div class="form-group">\n                    <select class="form-control mr-auto mt-2 mt-lg-0" formControlName="searchby">\n                      <option [ngValue]="null">Select</option>\n                      <option *ngFor="let _searchParamsList of SearchParamsList" [value]="_searchParamsList.Key">\n                        {{_searchParamsList.Value}}\n                      </option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="searchText">Search Text</label>\n                  <div class="input-group">\n                    <input class="form-control" id="searchText" formControlName="searchText" placeholder="Search Text"\n                      type="text">\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="Search"></label>\n                  <div class="input-group">\n                    <button class="btn waves-effect waves-light btn-rounded btn-outline-secondary"\n                      (click)="getSearchParams(AttachSalesReturnForm)"><i class="fal fa-search"></i> Search</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="row">\n              <div class="col-md-12">\n                <div class="table-responsive">\n                  <table class="table table-bordered">\n                    <thead class="topbar">\n                      <tr>\n                        <th>S.No</th>\n                        <th>SR EstNo</th>\n                        <th>Date</th>\n                        <th>Amount</th>\n                        <th>GrossWt</th>\n                        <th>Quantity</th>\n                        <th>TaxAmount</th>\n                        <th>CustId</th>\n                      </tr>\n                    </thead>\n                    <tbody *ngFor="let _SalesReturnList of AttachSalesReturnList | paginate: { itemsPerPage:top, totalItems:totalItems, currentPage: pagenumber }; let i = index;">\n                      <tr (click)="selectRecord(_SalesReturnList)" class="pointer">\n                        <td>{{i + 1 }}</td>\n                        <td>{{_SalesReturnList.SrEstNo}}</td>\n                        <td>{{_SalesReturnList.Date}}</td>\n                        <td>{{_SalesReturnList.Amount | number : \'1.2-2\'}}</td>\n                        <td>{{_SalesReturnList.GrossWt | number : \'1.3-3\'}}</td>\n                        <td>{{_SalesReturnList.Quantity}}</td>\n                        <td>{{_SalesReturnList.TaxAmount | number : \'1.2-2\'}}</td>\n                        <td>{{_SalesReturnList.CustID}}</td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n                <div >\n                  <pagination-controls (pageChange)="onPageChange($event)"></pagination-controls>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \x3c!-- Modal footer --\x3e\n        <div class="modal-footer">\n          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n\x3c!-- <pre>{{PostSalesReturnAttchJson|json}}</pre> --\x3e'},FTLU:function(t,e,n){"use strict";n.r(e),e.default='<div id="header" class="show">\n  <form [formGroup]="SRHeaderForm" class="form-horizontal">\n    <div class="row">\n      <div class="col-lg-12">\n        <div class="form-body">\n          <div class="row">\n            <div class="col-md-3">\n              <div class="form-group">\n                <label class="control-label"></label>\n                <div class="m-b-10">\n                  <label *ngFor="let radiobutton of radioItems" class="custom-control custom-radio align-middle"\n                    style="display: inline-block;padding-right: 1.5rem;">\n                    <input type="radio" class="custom-control-input" [value]="radiobutton" formControlName="BranchType"\n                      [(ngModel)]="ItemDetails.BranchType" (click)="OnRadioBtnChnge(radiobutton)"\n                      [checked]="radiobutton === model.option">\n                    <span class="custom-control-label">{{radiobutton}}</span>\n                  </label>\n                </div>\n              </div>\n            </div>\n            \x3c!--/span--\x3e\n            <div class="col-md-3">\n              <div class="form-group">\n                <label class="control-label">Billed Branch</label>\n                <select class="form-control mr-auto mt-2 mt-lg-0" formControlName="BilledBranch"\n                  [(ngModel)]="SalesReturnHeaderDetails.BilledBranch">\n                  <option [ngValue]="null">Select</option>\n                  <option *ngFor="let _BilledBranch of BilledBranch" [value]="_BilledBranch.PartyCode">\n                    {{_BilledBranch.PartyName}}\n                  </option>\n                </select>\n              </div>\n            </div>\n            <div class="col-md-3">\n              <div class="form-group">\n                <label class="control-label">Select Sales Person</label>\n                <select class="form-control mr-auto mt-2 mt-lg-0" formControlName="SalCode"\n                  [(ngModel)]="SalesReturnHeaderDetails.SalCode">\n                  <option [ngValue]="null">Select</option>\n                  <option *ngFor="let _salesman of SalesManList" [value]="_salesman.sal_code">\n                    {{_salesman.CodeName}}\n                  </option>\n                </select>\n              </div>\n            </div>\n            \x3c!-- <div class="col-md-3">\n              <div class="text-left"><i class="fal fa-calendar-alt"></i>&nbsp; <span class="text-muted">Sales\n                  Date</span>\n                <h1 class="font-light" formControlName="SalesDate" ngDefaultControl\n                  [(ngModel)]="SalesReturnHeaderDetails.SalesDate">{{salesDate}}</h1>\n              </div>\n            </div> --\x3e\n            <div class="col-md-3">\n              <div class="form-group">\n                <label class="control-label">Remarks</label>\n                <div class="m-b-10">\n                  <input type="text" class="form-control" formControlName="Remarks"\n                    [(ngModel)]="SalesReturnHeaderDetails.Remarks">\n                </div>\n              </div>\n            </div>\n          </div>\n          \x3c!--/span--\x3e\n        </div>\n      </div>\n    </div>\n    \x3c!-- <pre>{{ SRHeaderForm | json }}</pre> --\x3e\n\n    <div class="table-responsive">\n      <table class="table table-bordered" id=\'panels\'>\n        <thead class="topbar">\n          <tr>\n            <th>Action</th>\n            <th></th>\n            <th>SL No</th>\n            <th>S.Code</th>\n            <th>Item</th>\n            <th>Qty</th>\n            <th>Gr. Wt</th>\n            <th>Nt.Wt</th>\n            <th>AddWt</th>\n            <th>Deduct Wt</th>\n            <th>Item Amount</th>\n            <th>Final Item</th>\n          </tr>\n        </thead>\n        <tbody *ngFor="let field of fieldArray; let i = index">\n          <tr>\n            <td>\n              <input type="checkbox" name="fieldCheckbox" [id]="fieldCheckbox + i"\n                (change)="AppendItemDataRow(field,i,$event)">\n            </td>\n            <td>\n              <button data-toggle="collapse" [attr.data-target]="\'#item\'+ i" aria-hidden="true"\n                (click)="getStoneDiamDetails(field.lstOfStoneDetails,i)">Fitted Diamond/Stone</button>\n            </td>\n            \x3c!-- (click)="sendDataToDiamondComp(field,i)" --\x3e\n            <td>{{field.SlNo}}</td>\n            <td>{{field.SalCode}}</td>\n            <td>{{field.ItemName}}</td>\n            <td>{{field.Quantity}}</td>\n            <td>{{field.GrossWt}}</td>\n            <td>{{field.NetWt}}</td>\n            <td>{{field.AddWt}}</td>\n            <td>{{field.DeductWt}}</td>\n            <td>{{field.ItemTotalAfterDiscount}}</td>\n            <td>{{field.ItemFinalAmount}}</td>\n          </tr>\n          <tr>\n            <td colspan="14" class="hiddenRow">\n              <div class="collapse wrapper" id="item{{i}}" data-parent="#panels">\n                <fieldset class="scheduler-border">\n                  <legend class="scheduler-border"><i class="fas fa-gem align-middle"></i> Fitted Diamond/Stone</legend>\n                  <div class="table-responsive">\n                    <table class="table">\n                      <thead class="topbar">\n                        <tr>\n                          <th>SL No</th>\n                          <th>Name</th>\n                          <th>Quantity</th>\n                          <th>Carat</th>\n                          <th>Rate/Carat</th>\n                          <th>Amount</th>\n                        </tr>\n                      </thead>\n                      <tbody *ngFor="let _stoneDiamond of stoneDiamondDetails; let i = index">\n                        <tr>\n                          <td>{{_stoneDiamond.Sno}}</td>\n                          <td>{{_stoneDiamond.Name}}</td>\n                          <td>{{_stoneDiamond.Qty}}</td>\n                          <td>{{_stoneDiamond.Carrat}}</td>\n                          <td>{{_stoneDiamond.Rate}}</td>\n                          <td>{{_stoneDiamond.Amount}}</td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </fieldset>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n        <tr style=" border: none;">\n          <td class="border-none"></td>\n          <td class="border-none"></td>\n          <td class="border-none"></td>\n          <td class="border-none"></td>\n          <td class="border-none"><span class="Heading">Grand Total</span>:</td>\n          <td class="border-none">{{Qty(fieldArray)}}</td>\n          <td class="border-none">{{GrossWtTotal(fieldArray) | number : \'1.3-3\'}}</td>\n          <td class="border-none">{{NetWt(fieldArray) | number : \'1.3-3\'}}</td>\n          <td class="border-none">{{AddWt(fieldArray) | number : \'1.3-3\'}}</td>\n          <td class="border-none">{{DedWt(fieldArray) | number : \'1.3-3\'}}</td>\n          <td class="border-none"></td>\n          <td class="border-none">{{Amount(fieldArray) | number : \'1.2-2\'}}</td>\n        </tr>\n      </table>\n    </div>\n    <div class="row pt-2 pb-3">\n      <div class="col-md-4">\n        <button class="btn btn-outline-success waves-effect waves-light btn-rounded btn-outline-secondary "\n          (click)="submitPost(SRHeaderForm)">Submit</button>\n      </div>\n    </div>\n  </form>\n</div>\n\n\n\x3c!-- <pre>{{SalesReturnHeaderDetails | json}}</pre> --\x3e\n\n\x3c!-- <pre>{{SelectedItemLines | json}}</pre> --\x3e\n\x3c!-- <pre>{{SalesReturnHeaderDetails | json}}</pre> --\x3e\n<div class="row">\n  <div class="col-lg-5 col-md-5">\n    <div class="card">\n      <div class="row">\n        <div class="col-12">\n          <div class="social-widget">\n            <div class="soc-header box-facebook">\n              <h3 class="text-white">Payable Amount</h3>\n            </div>\n            <div class="soc-content">\n              <div class="col-4 b-r">\n                <h4 class="font-medium">{{totalFinalAmt || "0.00" | number : \'1.2-2\'}}</h4>\n                <h5 class="text-black">Total SR Amt.\n                  <h1 class="float-right">-</h1>\n                </h5>\n              </div>\n              <div class="col-4 b-r">\n                <h4 class="font-medium">{{vpAmt || "0.00" | number : \'1.2-2\'}}</h4>\n                <h5 class="text-black">VP Amt\n                  <h1 class="float-right">=</h1>\n                </h5>\n              </div>\n              <div class="col-4 b-r">\n                <h4 class="font-medium">{{payableAmt || "0.00" | number : \'1.2-2\'}}</h4>\n                <h5 class="text-black">Payable Amt</h5>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- Column --\x3e\n\n  \x3c!-- Column --\x3e\n  <div class="col-lg-7 col-md-7">\n    <div class="card">\n      <div class="row">\n        <div class="col-12">\n          <div class="social-widget">\n            <div class="soc-header box-facebook">\n              <h3 class="text-white">Amount Details</h3>\n            </div>\n            <div class="soc-content">\n              <div class="col-3 b-r">\n                <h4 class="font-medium">{{totalAmtafterDiscount || "0.00" | number : \'1.2-2\'}}</h4>\n                <h5 class="text-black">Total Amt<h1 class="float-right">+</h1>\n                </h5>\n              </div>\n              <div class="col-2 b-r">\n                <h4 class="font-medium">{{GST || "0.00" | number : \'1.2-2\'}}</h4>\n                <h5 class="text-black">Sales GST<h1 class="float-right">+</h1>\n                </h5>\n              </div>\n              <div class="col-2 b-r">\n                <h4 class="font-medium">{{"0.00" | number : \'1.2-2\'}}</h4>\n                <h5 class="text-black">Cess Amt\n                  <ng-conatiner *ngIf="roundOff >= 0 || roundOff >= 0.00">\n                    <h1 class="float-right">+</h1>\n                  </ng-conatiner>\n                  <ng-conatiner *ngIf="roundOff < 0">\n                    <h1 class="float-right">-</h1>\n                  </ng-conatiner>\n                </h5>\n              </div>\n              <div class="col-2 b-r">\n                <h4 class="font-medium">{{roundOffValue || "0.00" | number : \'1.2-2\'}}</h4>\n                <h5 class="text-black">Round Off<h1 class="float-right">=</h1>\n                </h5>\n              </div>\n              <div class="col-3 b-r">\n                <h4 class="font-medium">{{totalFinalAmt || "0.00" | number : \'1.2-2\'}}</h4>\n                <h5 class="text-black">Total SR Amt</h5>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<br>\n<span style="color: red;">Note : All weights are in Grams</span>'},HNdK:function(t,e,n){"use strict";n.r(e),e.default='<div style="color: brown; text-align: right; font-style: italic;">\n  <app-lastdocno></app-lastdocno>\n</div>\n\n<div id="accordian" class="accordion">\n  <div class="card mb-0">\n    <div id="header" class="card-body show">\n      <form [formGroup]="SRHeaderForm" class="form-horizontal">\n        <div class="row">\n          <div class="col-lg-12">\n            <div class="form-body">\n              <div class="row">\n                <div class="col-md-2">\n                  <div class="form-group">\n                    <label class="control-label">Sales Bill No</label>\n                    <div class="m-b-10">\n                      <input type="text"\n                        oninput="this.value = this.value.replace(/[^0-9.]/g, \'\').replace(/(\\..*)\\./g, \'$1\');"\n                        onKeyPress="if(this.value.length==7) return false;" class="form-control" #salesBillNo\n                        formControlName="SalesBillNo" [(ngModel)]="SalesReturnHeaderDetails.SalesBillNo">\n                    </div>\n                  </div>\n                </div>\n                <div class="col-md-3">\n                  <div class="form-group" style="display: inline-block;padding-top: 1.5rem;">\n                    <button class="btn waves-effect waves-light btn-rounded btn-outline-secondary" type="submit"\n                      (click)="GetsalesBillNo(salesBillNo.value)"><i class="fal fa-search"></i> Search</button>\n                  </div>\n                </div>\n                <div class="col-md-6 ">\n                  <div class="text-left float-right"><i class="fal fa-calendar-alt"></i>&nbsp; <span\n                      class="text-muted">Sales\n                      Date</span>\n                    <h1 class="font-light" formControlName="SalesDate" ngDefaultControl\n                      [(ngModel)]="SalesReturnHeaderDetails.SalesDate">{{applicationDate | date:\'dd/MM/yyyy\'}}</h1>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \x3c!-- <pre>{{ SRHeaderForm | json }}</pre> --\x3e\n      </form>\n\n    </div>\n  </div>\n</div>\n<br>\n<ng-container *ngIf="EnableItemDetails">\n  <div id="accordian" class="accordion">\n    <div class="card mb-0">\n      <div class="card-header Pointer" href="#Customer" (click)="ToggleCustomerData()"\n        [ngClass]="CollapseCustomerDetailsTab ? \'collapsed\' : \'\'"\n        [attr.data-toggle]="CollapseCustomerDetailsTab ? \'\':\'collapse\'"\n        style="background-color: #fdfdfd; box-shadow: -1px 0px 2px 0px rgba(0, 0, 0, 0.36);color:black">\n        <div class="row">\n          <div class="col-md-2 ">\n            <a class="card-title align-middle Pointer" style="color:#0096FF">\n              <i class="fas fa-2x fa-users mr-2 align-middle"></i>\n              <span class="align-middle Pointer"><ins>Customer Details</ins></span>\n            </a>\n          </div>\n          <ng-container *ngIf="CollapseCustomerTab">\n            <div class="col-md-1 pull-right">\n            </div>\n            <div class="col-md-2 pull-right" style="color:#0096FF">\n              <h4><span class="align-middle"></span></h4>\n            </div>\n            <div class="col-md-2 pull-right">\n              <h4><span class="align-middle"> ID: {{CustomerName.ID}}</span></h4>\n            </div>\n            <div class="col-md-3 pull-right">\n              <h4><span class="align-middle"> Customer: {{CustomerName.CustName}}</span></h4>\n            </div>\n          </ng-container>\n        </div>\n      </div>\n      <div id="Customer" class="card-body collapse" [collapse]="CollapseCustomerDetailsTab">\n        <app-customer [filterRadioBtns]="filterRadioBtns">\n        </app-customer>\n      </div>\n    </div>\n    <br>\n    <div class="card mb-0">\n      <div class="card-header Pointer" href="#Item" (click)="ToggleItemData()"\n        [ngClass]="EnableItemsTab ? \'collapsed\' : \'\'" [attr.data-toggle]="EnableItemsTab ? \'\':\'collapse\'"\n        style="background-color: #fdfdfd; box-shadow: -1px 0px 2px 0px rgba(0, 0, 0, 0.36);color:black">\n        <div class="row">\n          <div class="col-md-2 ">\n            <a class="card-title align-middle" style="color:#FF00C5">\n              <i class="far fa-shopping-cart fa-2x mr-2 align-middle"></i>\n              <span class="align-middle"><ins>Item Details</ins></span>\n            </a>\n          </div>\n          \x3c!-- <ng-container *ngIf="CollapseCustomerTab">\n          <div class="col-md-2 pull-right">\n            <h4><span class="align-middle">Qty: {{Quantity | number : \'1.3-3\'}}</span>\n            </h4>\n          </div>\n          <div class="col-md-2 pull-right">\n            <h4><span class="align-middle"> Nt. Wt: {{Ntwt | number : \'1.3-3\'}}\n              </span>\n            </h4>\n          </div>\n          <div class="col-md-2 pull-right">\n            <h4><span class="align-middle"> Gr. Wt: {{Grosswt | number : \'1.3-3\'}}\n              </span>\n            </h4>\n          </div>\n          <div class="col-md-2 pull-right">\n            <h4><span class="align-middle">Amount: {{TotAmount | currencyFormat : TotAmount}}</span>\n            </h4>\n          </div>\n        </ng-container> --\x3e\n        </div>\n      </div>\n      <div id="Item" class="card-body collapse" [collapse]="EnableItemsTab" style="padding:10px;">\n        <app-itemdetails></app-itemdetails>\n      </div>\n    </div>\n  </div>\n</ng-container>\n\n\n<ng-container *ngIf="EnableReprintSR">\n  <app-reprint-salesreturn></app-reprint-salesreturn>\n</ng-container>\n\n<div id="PermissonModal" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">\n  <div class="modal-dialog">\n\n    \x3c!-- Modal content--\x3e\n    <div class="modal-content">\n      <div class="modal-header">\n        <h4 class="modal-title">Prodigy</h4>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span></button>\n      </div>\n      <div class="modal-body">\n        <div class="form-group">\n          <label for="OrderNo">3. Password</label>\n          <input type="password" min="0" class="form-control" name="pwd" placeholder="Password"\n            (keyup.enter)="passWord(PwdSalesRet.value)" #PwdSalesRet>\n        </div>\n        <div class="form-group">\n          <button class="btn btn-success waves-effect waves-light btn-rounded btn-secondary"\n            (click)="passWord(PwdSalesRet.value)">Submit</button>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</div>'},JmCs:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n("mrSG"),s=n("fXoL"),r=n("tk/3"),i=n("NFKh"),o=n("2Vo4"),l=n("qlSq");let d=class{constructor(t,e){this._http=t,this.appConfigService=e,this.ccode="",this.bcode="",this.ReceiptNo=new o.a({}),this.castReceiptNo=this.ReceiptNo.asObservable(),this.apiBaseUrl=this.appConfigService.apiBaseUrl,this.password=this.appConfigService.Pwd,this.getCB()}getCB(){this.ccode=i.AES.decrypt(localStorage.getItem("ccode"),this.password.trim()).toString(i.enc.Utf8),this.bcode=i.AES.decrypt(localStorage.getItem("bcode"),this.password.trim()).toString(i.enc.Utf8)}getValues(t,e){return this._http.get(this.apiBaseUrl+"api/Credit/CreditReceipt/CreditBillDetails/"+this.ccode+"/"+this.bcode+"/"+e+"/"+t)}getReceiptValues(t){return this._http.get(this.apiBaseUrl+"api/Credit/CreditReceipt/CreditReceiptDetails/"+this.ccode+"/"+this.bcode+"/"+t)}getReceiptValuesForPrint(t){return this._http.get(this.apiBaseUrl+"api/Credit/CreditReceipt/CreditReceiptDetailsForPrint/"+this.ccode+"/"+this.bcode+"/"+t)}getShowroom(){return this._http.get(this.apiBaseUrl+"api/master/companymaster/get/"+this.ccode+"/"+this.bcode)}postCancelReceipt(t){let e=JSON.stringify(t);return this._http.post(this.apiBaseUrl+"api/Credit/CreditReceipt/CancelCreditReceipt",e)}postCreditReceipt(t,e,n){let a=JSON.stringify(n);return this._http.post(this.apiBaseUrl+"api/Credit/CreditReceipt/Post/"+t+"/"+e,a)}SendReceiptNoToComp(t){this.ReceiptNo.next(t),t=""}};d.ctorParameters=()=>[{type:r.b},{type:l.a}],d=a.a([Object(s.Injectable)({providedIn:"root"}),a.c("design:paramtypes",[r.b,l.a])],d)},Njd3:function(t,e,n){"use strict";n.r(e);var a=n("mrSG"),s=n("NSaA"),r=n("fXoL"),i=n("ofXK"),o=n("3Pt+"),l=n("oOf3"),d=n("GFhY"),c=n("3TGi"),m=n("E2Nj"),h=n("+OR5"),b=n("eya4"),p=n("GUC0"),u=n.n(p),g=n("tyNb"),v=n("5eHb"),S=n("giQ8"),f=n("JmCs");let y=class{constructor(t,e,n,a,s,r,o,l,d){this._SalesreturnService=t,this.fb=e,this._CustomerService=n,this._paymentservice=a,this._router=s,this._masterService=r,this.toastr=o,this._OrdersService=l,this.Service=d,this.salesReturnDate="",this.today=new Date,this.leavePage=!1,this.fieldArray=[],this.CollapseCustomerDetailsTab=!0,this.EnableSRSummary=!1,this.pageName="SR",this.EnableConfirmSR=!1,this.width=1,this.height=25,this.model={option:"Adjust"},this.confirmSRHeader={EstNo:null,TotalSRAmount:null,Remarks:null,BillNo:null,lstOfSalesReturnDetails:[],lstOfPayment:[]},this.ItemAmount=0,this.enablePayment=!1,this.SrEstNo=0,this.EnableCustomerTab=!0,this.ToggleCustomer=!1,this.EnableItemsTab=!0,this.NoRecordsItems=!0,this.ToggleItem=!1,this.TogglePayments=!1,this.EnablePaymentsTab=!1,this.CollapseCustomerTab=!0,this.NoRecordsCustomer=!1,this.filterRadioBtns=!1,this.EnableReprintSR=!1,this.ConfirmSRData={SalesBillNo:0,OrderNo:0,ReceiptNo:0,CreditReceiptNo:0},this.EnableReprintOrder=!1,this.OrderNo="",this.OrderReceiptheading="Order Receipt",this.ReprintType="",this.Orderheading="Order Form",this.orderNo=[],this.orderDetails=[],this.Linesarray=[],this.Paymentarray=[],this.ShowroomList=[],this.ReceiptList=[],this.ReceiptListdisplay=[],this.WeightTotalList=[],this.TotalList=[],this.ReceiptTotal=[],this.PaidAmount=0,this.BalAmount=0,this.TotSRAmt=0,this.Grosswt=0,this.AddedWt=0,this.Ntwt=0,this.TotAmount=0,this.Quantity=0,this.DeductedWt=0,this.PayableAmount=0,this.orderPlainTextDetails=[],this.orderReceiptPlainTextDetails=[],this.ReceiptDetails=[],this.PrintDetails=[],this.SummaryHeader={ReceiptNo:null,BillNo:null,BalanceAmount:null,BilledDate:null},this.salesReturnDate=Object(i.formatDate)(this.today,"yyyy-MM-dd","en-US","+0530"),this.radioItems=["Cash","Adjust","Order"]}ngOnInit(){this._paymentservice.castData.subscribe(t=>{if(this.paymentDetails=t,0==this.isEmptyObject(this.paymentDetails)&&null!=this.isEmptyObject(this.paymentDetails))return this.paymentPaidAmt=0,this.getSalesReturnData.lstOfPayment.forEach(t=>{this.paymentPaidAmt+=parseInt(t.PayAmount)}),this.getSalesReturnData.TotalSRAmount=this.TotalSRAmount-this.paymentPaidAmt,this.PayableAmount=Math.round(this.grandTotal+this.TaxAmount)-this.VPAmount-this.paymentPaidAmt,this.paymentPaidAmt}),this.ConfirmSRHeaderForm=this.fb.group({salesReturnDate:null,BilledBranch:null,SalCode:null,VotureBillNo:null,Remarks:null,BillDate:null,BillNo:null}),this.getSalesMan(),this.getBilledBranch(),this.GetCustomerDetsFromCustComp()}confirmBeforeLeave(){return 1!=this.leavePage||!!confirm("You have unsaved changes! If you leave, your changes will be lost.")&&(this.leavePage=!1,!0)}OnRadioBtnChnge(t){"Cash"==t?(this.enablePayment=!0,this.getSalesReturnData.IsOrder=!1,this._SalesreturnService.getSalesReturnDetails(this.SrEstNo).subscribe(t=>{if(this.getSalesReturnData=t,null!=this.getSalesReturnData){this.EnableConfirmSR=!0,this.EnableSRSummary=!0,this.confirmSRHeader.EstNo=this.getSalesReturnData.EstNo,this.confirmSRHeader.TotalSRAmount=Math.round(this.getSalesReturnData.TotalSRAmount),this.confirmSRHeader.BilledBranch=this.getSalesReturnData.BilledBranch,this.confirmSRHeader.SalCode=this.getSalesReturnData.SalCode,this.confirmSRHeader.BillDate=this.getSalesReturnData.BillDate,this.confirmSRHeader.BillNo=this.getSalesReturnData.VotureBillNo,this.Billdate=this.confirmSRHeader.BillDate,this.BillNo=this.getSalesReturnData.VotureBillNo,this.TotalSRAmount=Math.round(this.getSalesReturnData.TotalSRAmount),this.VPAmount=this.getSalesReturnData.VPAmount,this.TaxAmount=this.getSalesReturnData.TaxAmount,this.DiscountAmount=this.getSalesReturnData.DiscountAmount;const t=this.TotalSRAmount-this.TaxAmount;this.ItemAmount=this.TotalSRAmount-this.TaxAmount,this.grandTotal=t-this.DiscountAmount,this.TotSRAmt=Math.round(this.grandTotal+this.TaxAmount),this.BalanceAmount(),1==this.getSalesReturnData.IsCreditBill&&(this.model.option="Cash",this.enablePayment=!0),this.fieldArray=this.getSalesReturnData.lstOfSalesReturnDetails,null!=this.getSalesReturnData&&this._CustomerService.getCustomerDtls(this.getSalesReturnData.CustomerID).subscribe(t=>{const e=t;this._CustomerService.sendCustomerDtls_To_Customer_Component(e),this._SalesreturnService.sendItemDatatoItemComp(this.getSalesReturnData),this._paymentservice.inputData(this.getSalesReturnData)})}})):"Adjust"==t?(this.enablePayment=!1,this.getSalesReturnData.IsOrder=!1):(this.enablePayment=!1,this.getSalesReturnData.IsOrder=!0),this.model.option=t}getSalesMan(){this._masterService.getSalesMan().subscribe(t=>{this.SalesManList=t})}getBilledBranch(){this._SalesreturnService.getBilledBranch().subscribe(t=>{this.BilledBranch=t})}GetsalesRetEstNo(t){""==t?this.toastr.warning("Please enter sales est number","Alert!"):(this.SrEstNo=t,this.ClearValues(),this._SalesreturnService.getSalesReturnDetails(t).subscribe(t=>{if(this.getSalesReturnData=t,null!=this.getSalesReturnData){this.leavePage=!0,this.EnableConfirmSR=!0,this.EnableSRSummary=!0,this.confirmSRHeader.EstNo=this.getSalesReturnData.EstNo,this.confirmSRHeader.TotalSRAmount=Math.round(this.getSalesReturnData.TotalSRAmount),this.confirmSRHeader.BilledBranch=this.getSalesReturnData.BilledBranch,this.confirmSRHeader.SalCode=this.getSalesReturnData.SalCode,this.confirmSRHeader.BillDate=this.getSalesReturnData.BillDate,this.confirmSRHeader.BillNo=this.getSalesReturnData.VotureBillNo,this.Billdate=this.confirmSRHeader.BillDate,this.BillNo=this.getSalesReturnData.VotureBillNo,this.TotalSRAmount=Math.round(this.getSalesReturnData.TotalSRAmount),this.VPAmount=this.getSalesReturnData.VPAmount,this.TaxAmount=this.getSalesReturnData.TaxAmount,this.DiscountAmount=this.getSalesReturnData.DiscountAmount;const t=this.TotalSRAmount-this.TaxAmount;this.ItemAmount=this.TotalSRAmount-this.TaxAmount,this.grandTotal=t-this.DiscountAmount,this.TotSRAmt=Math.round(this.grandTotal+this.TaxAmount),this.BalanceAmount(),this.PayableAmount=Math.round(this.grandTotal+this.TaxAmount)-this.VPAmount,1==this.getSalesReturnData.IsCreditBill&&this.PayableAmount<0&&(this.model.option="Adjust",this.enablePayment=!1,this.getSalesReturnData.IsPayable=!0,this.getSalesReturnData.IsAdjust=!0),1==this.getSalesReturnData.IsCreditBill&&this.PayableAmount>0&&(this.model.option="Cash",this.enablePayment=!0),this.fieldArray=this.getSalesReturnData.lstOfSalesReturnDetails,null!=this.getSalesReturnData&&this._CustomerService.getCustomerDtls(this.getSalesReturnData.CustomerID).subscribe(t=>{const e=t;this._CustomerService.sendCustomerDtls_To_Customer_Component(e),this._SalesreturnService.sendItemDatatoItemComp(this.getSalesReturnData),this._paymentservice.inputData(this.getSalesReturnData)})}}))}isEmptyObject(t){return t&&0===Object.keys(t).length}ToggleCustomerData(){1==this.NoRecordsCustomer&&(this.filterRadioBtns=!0,this.CollapseCustomerTab=!this.CollapseCustomerTab,this.CollapseCustomerDetailsTab=!this.CollapseCustomerDetailsTab)}GetCustomerDetsFromCustComp(){this._CustomerService.cast.subscribe(t=>{this.CustomerName=t,0==this.isEmptyObject(this.CustomerName)&&null!=this.isEmptyObject(this.CustomerName)?(this.CollapseCustomerTab=!0,this.NoRecordsCustomer=!0,this.CollapseCustomerDetailsTab=!0):(this.CollapseCustomerTab=!1,this.NoRecordsCustomer=!1)})}ToggleItemData(){this.EnableItemsTab=!this.EnableItemsTab}TogglePaymentData(){1==this.ToggleItem&&(this.EnablePaymentsTab=!this.EnablePaymentsTab)}ngOnDestroy(){this._CustomerService.SendCustDataToEstComp(null),this._CustomerService.sendCustomerDtls_To_Customer_Component(null),this._paymentservice.outputData(null),this._paymentservice.inputData(null),this._paymentservice.OutputParentJSONFunction(null),this._paymentservice.SendPaymentSummaryData(null),this._SalesreturnService.SendSRBillNoToReprintComp(null),this._SalesreturnService.SendSRNoToReprintComp(null),this.ClearValues()}ClearValues(){this.PaidAmount=0,this.BalAmount=0,this.TotSRAmt=0,this.Grosswt=0,this.AddedWt=0,this.Ntwt=0,this.TotAmount=0,this.Quantity=0,this.DeductedWt=0,this.TotalSRAmount=0,this.VPAmount=0,this.TaxAmount=0,this.DiscountAmount=0,this.grandTotal=0,this.fieldArray=[]}submitPost(){let t;if("Cash"==this.model.option&&this.PayableAmount>0)this.toastr.warning("Please enter full amount","Alert!");else if("Cash"==this.model.option&&this.PayableAmount<0)this.toastr.warning("Amount is greater than balance","Alert!");else{confirm("Do you want to save??")&&("Order"==this.model.option?this._SalesreturnService.ConfirmSR(this.getSalesReturnData).subscribe(t=>{this.orderNo=t,0!=this.orderNo.ReceiptNo?u()("Saved!","New Order No: "+this.orderNo.OrderNo+" and Receipt No: "+this.orderNo.ReceiptNo+" generated successfully!","success"):u()("Saved!","New Order No: "+this.orderNo.OrderNo+" generated successfully!","success"),confirm("Do You want to take order Print Out??")?(this.EnableReprintOrder=!0,this.EnableConfirmSR=!1,this.EnableReprintSR=!1,this.OrderNo=this.orderNo.OrderNo,this.orderPrint(this.orderNo)):this._router.navigateByUrl("/redirect",{skipLocationChange:!0}).then(()=>this._router.navigate(["/salesreturn/ConfirmSalesReturn"]))}):(this.confirmSRHeader.Remarks=this.getSalesReturnData.Remarks,this._SalesreturnService.ConfirmSR(this.getSalesReturnData).subscribe(e=>{t=e,u()("Saved!","New Sales Return number "+t.SalesBillNo+" Confirmed Successfully","success"),confirm("Do you want to take Sales Return Bill No Print Out??")?(this.EnableReprintSR=!0,this.ConfirmSRData={SalesBillNo:t.SalesBillNo,OrderNo:0,ReceiptNo:0,CreditReceiptNo:t.CreditReceiptNo},this._SalesreturnService.SendSRBillNoToReprintComp(this.ConfirmSRData),this.EnableConfirmSR=!1,this.EnableReprintOrder=!1):this._router.navigateByUrl("/redirect",{skipLocationChange:!0}).then(()=>this._router.navigate(["/salesreturn/ConfirmSalesReturn"]))})),this.leavePage=!1)}}clearComponents(){this._CustomerService.SendCustDataToEstComp(null),this._CustomerService.sendCustomerDtls_To_Customer_Component(null),this._paymentservice.outputData(null),this._paymentservice.inputData(null),this._paymentservice.OutputParentJSONFunction(null),this._paymentservice.SendPaymentSummaryData(null),this.ClearValues(),this.fieldArray=[]}orderPrint(t){this.model.option,this.getOrderDetails(t.OrderNo),0!=t.ReceiptNo&&null!=t.ReceiptNo&&(this.model.option,this.getReceiptDetails(t.ReceiptNo))}getOrderDetails(t){this._OrdersService.getPrintOrder(t).subscribe(e=>{this.orderDetails=e,this.OrderNum=t,this.Linesarray=this.orderDetails.lstOfOrderItemDetailsVM,this.Paymentarray=this.orderDetails.lstOfPayment,this.getShowroomDetails(),this.getWeightTotal(this.orderDetails.OrderNo),this.getTotal(this.orderDetails.OrderNo),$("#ReprintTypeModal").modal("hide"),$("#OrderTab").modal("show")})}getReceiptDetails(t){t||(alert("Please select Receipt number"),$("#ReceiptTab").modal("hide")),this._OrdersService.getPrintReceipt(t).subscribe(e=>{this.ReceiptList=e,this.ReceiptListdisplay=this.ReceiptList[0],this.CustomerID=this.ReceiptList[0].SeriesNo,this.ReceiptNum=t,this._OrdersService.getPrintOrder(this.CustomerID).subscribe(t=>{this.orderDetails=t,this.Linesarray=this.orderDetails.lstOfOrderItemDetailsVM,this.Paymentarray=this.orderDetails.lstOfPayment,this.getShowroomDetails(),this.getWeightTotal(this.orderDetails.OrderNo),this.getTotal(this.orderDetails.OrderNo)}),this.getReceiptTotal(t),$("#ReceiptTab").modal("show")})}getShowroomDetails(){this._OrdersService.getShowroom().subscribe(t=>{this.ShowroomList=t})}getWeightTotal(t){this._OrdersService.getWeightTotal(t).subscribe(t=>{this.WeightTotalList=t})}getTotal(t){this._OrdersService.getTotal(t).subscribe(t=>{this.TotalList=t},t=>{404===t.status&&(this.TotalList=null)})}getReceiptTotal(t){this._OrdersService.getReceiptTotal(t).subscribe(t=>{this.ReceiptTotal=t})}PaidTotalAmountCalculation(t){this.PaidAmount=t,this.TotSRAmt=Math.round(Number(this.grandTotal)+Number(this.TaxAmount)),this.BalanceAmount()}BalanceAmount(){return this.BalAmount=Math.round(Number(this.grandTotal)+Number(this.TaxAmount))-Number(this.PaidAmount),this.BalAmount}GrossWtTotal(t){let e=0;return t.forEach(t=>{e+=parseFloat(t.GrossWt)}),this.Grosswt=e,e}AddWt(t){let e=0;return t.forEach(t=>{e+=parseFloat(t.AddWt)}),this.AddedWt=e,e}DedWt(t){let e=0;return t.forEach(t=>{e+=parseFloat(t.DeductWt)}),this.DeductedWt=e,e}NetWt(t){let e=0;return t.forEach(t=>{e+=parseFloat(t.NetWt)}),this.Ntwt=e,e}Qty(t){let e=0;return t.forEach(t=>{e+=parseFloat(t.Quantity)}),this.Quantity=e,e}Amount(t){let e=0;return t.forEach(t=>{e+=parseFloat(t.ItemFinalAmount)}),this.TotAmount=e,e}printOrder(){let t,e;t=document.getElementById("print-order-section").innerHTML,e=window.open("","_blank","top=0,left=0,height=100%,width=auto"),e.document.open(),e.document.write(`\n      <html>\n        <head>\n          <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">\n          <title>Print tab</title>\n          <style>\n         .htmlPrint{display:none;}\n\n          @media print {\n            .table-bordered\n        {\n            border-style: solid;\n            border: 3px solid rgb(0, 0, 0);\n        }\n        .margin{\n          margin-top:-24px;\n        }\n        .mb{\n          vertical-align:middle;position:absolute;\n        }\n        tr.spaceUnder>td {\n          padding-bottom: 40px !important;\n        }\n        .top {\n          margin-top:10px;\n          border-bottom: 3px solid rgb(0, 0, 0) !important;\n          line-height: 1.6;\n        }\n        .modal-content{\n          font-family: "Times New Roman", Times, serif;\n\n        }\n       .padding-top {\n         padding-top:20px;\n       }\n        .watermark{\n          -webkit-transform: rotate(331deg);\n          -moz-transform: rotate(331deg);\n          -o-transform: rotate(331deg);\n          transform: rotate(331deg);\n          font-size: 15em;\n          color: rgba(255, 5, 5, 0.37);\n          position: absolute;\n          text-transform:uppercase;\n          padding-left: 10%;\n          margin-top:-10px;\n        }\n        .right{\n          text-align:left;\n        }\n        .px-2 {\n          padding-left: 10px !important;\n        }\n        thead > tr\n        {\n            border-style: solid;\n            border: 3px solid rgb(0, 0, 0);\n        }\n        table tr td.classname{\n          border-right: 3px solid rgb(0, 0, 0) !important;\n        }\n        table tr td.bottom{\n          border-bottom: 3px solid rgb(0, 0, 0) !important;\n        }\n        table tr th.classname{\n          border-right: 3px solid rgb(0, 0, 0) !important;\n        }\n        .divborder {\n          border-right: 3px solid rgb(0, 0, 0) !important;\n          line-height: 1.6;\n        }\n        .lastdivborder{\n          line-height: 1.6;\n        }\n    .border{\n      border-right: 3px solid rgb(0, 0, 0) !important;\n      border-bottom: 3px solid rgb(0, 0, 0) !important;\n    }\n\n    .tdborder{\n      border-right: 3px solid rgb(0, 0, 0) !important;\n    }\n        .invoice {\n          margin-top: 250px;\n      }\n        .card{\n          border-style: solid;\n          border-width: 5px;\n          border: 3px solid rgb(0, 0, 0);\n      }\n        .printMe {\n          display: none !important;\n        }\n      }\n      body{\n            font-size: 15px;\n            line-height: 18px;\n      }\n </style>\n        </head>\n    <body onload="window.print();window.close()">\n    ${t}</body>\n      </html>`),e.document.close()}printOrderReceipt(){let t,e;t=document.getElementById("print-receipt-section").innerHTML,e=window.open("","_blank","top=0,left=0,height=100%,width=auto"),e.document.open(),e.document.write(`\n      <html>\n        <head>\n          <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">\n          <title>Print tab</title>\n          <style>\n         .htmlPrint{display:none;}\n\n          @media print {\n            .table-bordered\n        {\n            border-style: solid;\n            border: 3px solid rgb(0, 0, 0);\n        }\n        .margin{\n          margin-top:-24px;\n        }\n        .mb{\n          vertical-align:middle;position:absolute;\n        }\n        tr.spaceUnder>td {\n          padding-bottom: 40px !important;\n        }\n        .top {\n          margin-top:10px;\n          border-bottom: 3px solid rgb(0, 0, 0) !important;\n          line-height: 1.6;\n        }\n        .modal-content{\n          font-family: "Times New Roman", Times, serif;\n\n        }\n       .padding-top {\n         padding-top:20px;\n       }\n        .watermark{\n          -webkit-transform: rotate(331deg);\n          -moz-transform: rotate(331deg);\n          -o-transform: rotate(331deg);\n          transform: rotate(331deg);\n          font-size: 15em;\n          color: rgba(255, 5, 5, 0.37);\n          position: absolute;\n          text-transform:uppercase;\n          padding-left: 10%;\n          margin-top:-10px;\n        }\n        .right{\n          text-align:left;\n        }\n        .px-2 {\n          padding-left: 10px !important;\n        }\n        thead > tr\n        {\n            border-style: solid;\n            border: 3px solid rgb(0, 0, 0);\n        }\n        table tr td.classname{\n          border-right: 3px solid rgb(0, 0, 0) !important;\n        }\n        table tr td.bottom{\n          border-bottom: 3px solid rgb(0, 0, 0) !important;\n        }\n        table tr th.classname{\n          border-right: 3px solid rgb(0, 0, 0) !important;\n        }\n        .divborder {\n          border-right: 3px solid rgb(0, 0, 0) !important;\n          line-height: 1.6;\n        }\n        .lastdivborder{\n          line-height: 1.6;\n        }\n    .border{\n      border-right: 3px solid rgb(0, 0, 0) !important;\n      border-bottom: 3px solid rgb(0, 0, 0) !important;\n    }\n\n    .tdborder{\n      border-right: 3px solid rgb(0, 0, 0) !important;\n    }\n        .invoice {\n          margin-top: 250px;\n      }\n        .card{\n          border-style: solid;\n          border-width: 5px;\n          border: 3px solid rgb(0, 0, 0);\n      }\n        .printMe {\n          display: none !important;\n        }\n      }\n      body{\n            font-size: 15px;\n            line-height: 18px;\n      }\n </style>\n        </head>\n    <body onload="window.print();window.close()">\n    ${t}</body>\n      </html>`),e.document.close()}printClosedOrder(){let t,e;t=document.getElementById("print-closed-section").innerHTML,e=window.open("","_blank","top=0,left=0,height=100%,width=auto"),e.document.open(),e.document.write(`\n      <html>\n        <head>\n          <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">\n          <title>Print tab</title>\n          <style>\n         .htmlPrint{display:none;}\n\n          @media print {\n            .table-bordered\n        {\n            border-style: solid;\n            border: 3px solid rgb(0, 0, 0);\n        }\n        .margin{\n          margin-top:-24px;\n        }\n        .mb{\n          vertical-align:middle;position:absolute;\n        }\n        tr.spaceUnder>td {\n          padding-bottom: 40px !important;\n        }\n        .top {\n          margin-top:10px;\n          border-bottom: 3px solid rgb(0, 0, 0) !important;\n          line-height: 1.6;\n        }\n        .modal-content{\n          font-family: "Times New Roman", Times, serif;\n\n        }\n       .padding-top {\n         padding-top:20px;\n       }\n        .watermark{\n          -webkit-transform: rotate(331deg);\n          -moz-transform: rotate(331deg);\n          -o-transform: rotate(331deg);\n          transform: rotate(331deg);\n          font-size: 15em;\n          color: rgba(255, 5, 5, 0.37);\n          position: absolute;\n          text-transform:uppercase;\n          padding-left: 10%;\n          margin-top:-10px;\n        }\n        .right{\n          text-align:left;\n        }\n        .px-2 {\n          padding-left: 10px !important;\n        }\n        thead > tr\n        {\n            border-style: solid;\n            border: 3px solid rgb(0, 0, 0);\n        }\n        table tr td.classname{\n          border-right: 3px solid rgb(0, 0, 0) !important;\n        }\n        table tr td.bottom{\n          border-bottom: 3px solid rgb(0, 0, 0) !important;\n        }\n        table tr th.classname{\n          border-right: 3px solid rgb(0, 0, 0) !important;\n        }\n        .divborder {\n          border-right: 3px solid rgb(0, 0, 0) !important;\n          line-height: 1.6;\n        }\n        .lastdivborder{\n          line-height: 1.6;\n        }\n    .border{\n      border-right: 3px solid rgb(0, 0, 0) !important;\n      border-bottom: 3px solid rgb(0, 0, 0) !important;\n    }\n\n    .tdborder{\n      border-right: 3px solid rgb(0, 0, 0) !important;\n    }\n        .invoice {\n          margin-top: 250px;\n      }\n        .card{\n          border-style: solid;\n          border-width: 5px;\n          border: 3px solid rgb(0, 0, 0);\n      }\n        .printMe {\n          display: none !important;\n        }\n      }\n      body{\n            font-size: 15px;\n            line-height: 18px;\n      }\n </style>\n        </head>\n    <body onload="window.print();window.close()">\n    ${t}</body>\n      </html>`),e.document.close()}closeOrderTab(){this.getOrderPlainText(this.OrderNum)}getOrderPlainText(t){this._OrdersService.getOrderPrintHTML(t).subscribe(t=>{this.orderPlainTextDetails=t,$("#OrderPlainTextTab").modal("show")})}printOrderPlainText(){this._masterService.printPlainText(this.orderPlainTextDetails)}closeOrderReceiptTab(){this.getOrderReceiptPlainText(this.ReceiptNum)}getOrderReceiptPlainText(t){this._OrdersService.getOrderReceiptPrintHTML(t).subscribe(t=>{this.orderReceiptPlainTextDetails=t,$("#OrderReceiptPlainTextTab").modal("show")})}printOrderReceiptPlainText(){this._masterService.printPlainText(this.orderReceiptPlainTextDetails)}closeOrderPlainTextTab(){this._SalesreturnService.getSRPrintbyBillNo(this.orderNo.SalesBillNo).subscribe(t=>{this.PrintDetails=t,$("#ReprintSRBillModal").modal("show"),$("#DisplayData").html(this.PrintDetails),$("#ReprintSREstModal").modal("hide")})}print(){let t,e;t=document.getElementById("print-section").innerHTML,e=window.open("","_blank","top=0,left=0,height=100%,width=auto"),e.document.open(),e.document.write(`\n      <html>\n        <head>\n          <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">\n          <title>Print tab</title>\n          <style>\n         .htmlPrint{display:none;}\n\n          @media print {\n            .table-bordered\n        {\n            border-style: solid;\n            border: 3px solid rgb(0, 0, 0);\n        }\n        .margin{\n          margin-top:-24px;\n        }\n        .mb{\n          vertical-align:middle;position:absolute;\n        }\n        tr.spaceUnder>td {\n          padding-bottom: 40px !important;\n        }\n        .top {\n          margin-top:10px;\n          border-bottom: 3px solid rgb(0, 0, 0) !important;\n          line-height: 1.6;\n        }\n        .modal-content{\n          font-family: "Times New Roman", Times, serif;\n\n        }\n       .padding-top {\n         padding-top:20px;\n       }\n        .watermark{\n          -webkit-transform: rotate(331deg);\n          -moz-transform: rotate(331deg);\n          -o-transform: rotate(331deg);\n          transform: rotate(331deg);\n          font-size: 15em;\n          color: rgba(255, 5, 5, 0.37);\n          position: absolute;\n          text-transform:uppercase;\n          padding-left: 10%;\n          margin-top:-10px;\n        }\n        .right{\n          text-align:left;\n        }\n        .px-2 {\n          padding-left: 10px !important;\n        }\n        // thead > tr\n        // {\n        //     border-style: solid;\n        //     border: 3px solid rgb(0, 0, 0);\n        // }\n        table tr td.classname{\n          border-right: 3px solid rgb(0, 0, 0) !important;\n        }\n        table tr td.bottom{\n          border-bottom: 3px solid rgb(0, 0, 0) !important;\n        }\n        table tr td.left{\n          border-left: 3px solid rgb(0, 0, 0) !important;\n        }\n        table tr th.classname{\n          border-right: 3px solid rgb(0, 0, 0) !important;\n        }\n        .divborder {\n          border-right: 3px solid rgb(0, 0, 0) !important;\n          line-height: 1.6;\n        }\n        .lastdivborder{\n          line-height: 1.6;\n        }\n    .border{\n      border-right: 3px solid rgb(0, 0, 0) !important;\n      border-bottom: 3px solid rgb(0, 0, 0) !important;\n    }\n\n    .tdborder{\n      border-right: 3px solid rgb(0, 0, 0) !important;\n    }\n        .invoice {\n          margin-top: 250px;\n      }\n        .card{\n          border-style: solid;\n          border-width: 5px;\n          border: 3px solid rgb(0, 0, 0);\n      }\n        .printMe {\n          display: none !important;\n        }\n      }\n      body{\n            font-size: 15px;\n            line-height: 18px;\n      }\n </style>\n        </head>\n    <body onload="window.print();window.close()">\n    ${t}</body>\n      </html>`),e.document.close()}PrintCreditReceipt(){"/salesreturn/ConfirmSalesReturn"==this._router.url&&0!=this.orderNo.CreditReceiptNo&&null!=this.orderNo.CreditReceiptNo&&this.Service.getReceiptValuesForPrint(this.orderNo.CreditReceiptNo).subscribe(t=>{this.ReceiptDetails=t,this.Linesarray=this.ReceiptDetails.lstOfPayment,this.getShowroomDetails(),this.getbillDetails(this.ReceiptDetails.BillNo,this.ReceiptDetails.FinYear),$("#exampleModal").modal("show"),$("#ReprintSRBillModal").modal("hide"),$("#ReprintSREstModal").modal("hide")})}getbillDetails(t,e){this.Service.getValues(t,e).subscribe(t=>{this.BillDetails=t,this.SummaryHeader.BillNo=this.BillDetails.BillNo,this.SummaryHeader.BalanceAmount=this.BillDetails.BalanceAmount})}closeSRBill(){0!=this.orderNo.SalesBillNo&&null!=this.orderNo.SalesBillNo&&this._SalesreturnService.getSRPrintDotMatrixbyBillNo(this.orderNo.SalesBillNo).subscribe(t=>{this.PrintDetails=t,$("#ReprintSRBillModal").modal("hide"),$("#ReprintSREstModal").modal("show")})}printSREst(){this._masterService.printPlainText(this.PrintDetails)}printSRBill(){let t,e;t=document.getElementById("DisplayData").innerHTML,e=window.open("","_blank","top=0,left=0,height=100%,width=auto"),e.document.open(),e.document.write(`\n        <html>\n          <head>\n            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">\n            <title>Print tab</title>\n            <style>\n           .htmlPrint{display:none;}\n\n            @media print {\n              .table-bordered\n          {\n              border-style: solid;\n              border: 3px solid rgb(0, 0, 0);\n          }\n          .margin{\n            margin-top:-24px;\n          }\n          .mb{\n            vertical-align:middle;position:absolute;\n          }\n          tr.spaceUnder>td {\n            padding-bottom: 40px !important;\n          }\n          .top {\n            margin-top:10px;\n            border-bottom: 3px solid rgb(0, 0, 0) !important;\n            line-height: 1.6;\n          }\n          .modal-content{\n            font-family: "Times New Roman", Times, serif;\n\n          }\n         .padding-top {\n           padding-top:20px;\n         }\n          .watermark{\n            -webkit-transform: rotate(331deg);\n            -moz-transform: rotate(331deg);\n            -o-transform: rotate(331deg);\n            transform: rotate(331deg);\n            font-size: 15em;\n            color: rgba(255, 5, 5, 0.37);\n            position: absolute;\n            text-transform:uppercase;\n            padding-left: 10%;\n            margin-top:-10px;\n          }\n          .right{\n            text-align:left;\n          }\n          .px-2 {\n            padding-left: 10px !important;\n          }\n          thead > tr\n          {\n              border-style: solid;\n              border: 3px solid rgb(0, 0, 0);\n          }\n          table tr td.classname{\n            border-right: 3px solid rgb(0, 0, 0) !important;\n          }\n          table tr td.borderLeft{\n            border-left: 3px solid rgb(0, 0, 0) !important;\n          }\n          table tr td.bottom{\n            border-bottom: 3px solid rgb(0, 0, 0) !important;\n          }\n          table tr th.classname{\n            border-right: 3px solid rgb(0, 0, 0) !important;\n          }\n          .divborder {\n            border-right: 3px solid rgb(0, 0, 0) !important;\n            line-height: 1.6;\n          }\n          .lastdivborder{\n            line-height: 1.6;\n          }\n      .border{\n        border-right: 3px solid rgb(0, 0, 0) !important;\n        border-bottom: 3px solid rgb(0, 0, 0) !important;\n      }\n\n      .tdborder{\n        border-right: 3px solid rgb(0, 0, 0) !important;\n      }\n          .invoice {\n            margin-top: 250px;\n        }\n          .card{\n            border-style: solid;\n            border-width: 5px;\n            border: 3px solid rgb(0, 0, 0);\n        }\n          .printMe {\n            display: none !important;\n          }\n        }\n        body{\n              font-size: 15px;\n              line-height: 18px;\n        }\n   </style>\n          </head>\n      <body onload="window.print();window.close()">\n\n      ${t}</body>\n        </html>`),e.document.close()}};y.ctorParameters=()=>[{type:h.a},{type:o.FormBuilder},{type:m.a},{type:c.a},{type:g.c},{type:b.a},{type:v.b},{type:S.a},{type:f.a}],y=a.a([Object(r.Component)({selector:"app-confirm-salesreturn",template:a.b(n("QLm0")).default,styles:[a.b(n("tF8M")).default]}),a.c("design:paramtypes",[h.a,o.FormBuilder,m.a,c.a,g.c,b.a,v.b,S.a,f.a])],y);var R=n("5nbR"),x=n("NFKh"),D=n("qlSq");let C=class{constructor(t,e,n,a,s,r,o,l){this.fb=t,this.toastr=e,this._SalesreturnService=n,this._CustomerService=a,this._masterService=s,this.datepipe=r,this._orderservice=o,this._appConfigService=l,this.EnableItemDetails=!1,this.EnableReprintSR=!1,this.ccode="",this.bcode="",this.leavePage=!1,this.today=new Date,this.salesDate="",this.model={option:"Local"},this.BilledBranchRadio=!1,this.EnableSR=!1,this.permissonModel={CompanyCode:null,BranchCode:null,PermissionID:null,PermissionData:null},this.EnableCustomerTab=!0,this.EnableItemsTab=!1,this.NoRecordsItems=!0,this.EnablePaymentsTab=!1,this.ToggleCustomer=!1,this.ToggleItem=!1,this.CollapseCustomerTab=!0,this.CollapseCustomerDetailsTab=!0,this.NoRecordsCustomer=!1,this.filterRadioBtns=!1,this.SalesReturnHeaderDetails={CustomerID:null,BilledBranch:null,SalCode:null,Remarks:null,SalesReturnDate:null},this.radioItems=["Other Branch","Local"],this.salesDate=Object(i.formatDate)(this.today,"yyyy-MM-dd","en-US","+0530"),this.SRPermission=this._appConfigService.RateEditCode.SalesReturnPermission,this.password=this._appConfigService.Pwd,this.getCB()}ngOnInit(){this.SRHeaderForm=this.fb.group({BranchType:["Local",o.Validators.required],BilledBranch:["null",o.Validators.required],SalesBillNo:[null,o.Validators.required],Remarks:["",o.Validators.required],SalesDate:null,SalCode:["A",o.Validators.required],Rate:["null",o.Validators.required]}),this.getApplicationDate(),this.getSalesMan(),this.getBilledBranch(),this.SalesReturnHeaderDetails.BranchType="Local",this.SRHeaderForm.controls.BilledBranch.disable(),this.GetCustomerDetsFromCustComp(),this._SalesreturnService.castSRHide.subscribe(t=>{this.EnableItemDetails=t,0==this.EnableItemDetails&&(this.leavePage=!1)}),this._SalesreturnService.castSREnablePrint.subscribe(t=>{this.EnableReprintSR=t})}confirmBeforeLeave(){return 1!=this.leavePage||!!confirm("You have unsaved changes! If you leave, your changes will be lost.")&&(this.leavePage=!1,!0)}getCB(){this.ccode=x.AES.decrypt(localStorage.getItem("ccode"),this.password.trim()).toString(x.enc.Utf8),this.bcode=x.AES.decrypt(localStorage.getItem("bcode"),this.password.trim()).toString(x.enc.Utf8)}getApplicationDate(){this._masterService.getApplicationDate().subscribe(t=>{let e=t;this.applicationDate=e.applcationDate})}ngAfterContentChecked(){this.PwdSalesRet.nativeElement.focus()}OnRadioBtnChnge(t){"Local"==t?(this.model.option=t,this.SalesReturnHeaderDetails.BilledBranch=null,this.SRHeaderForm.controls.BilledBranch.disable()):(this.model.option=t,this.SRHeaderForm.controls.BilledBranch.enable())}getSalesMan(){this._masterService.getSalesMan().subscribe(t=>{this.SalesManList=t})}getBilledBranch(){this._SalesreturnService.getBilledBranch().subscribe(t=>{this.BilledBranch=t})}GetsalesBillNo(t){""==t?alert("Enter Bill Number"):this._SalesreturnService.GetsalesBillNo(t).subscribe(t=>{if(this.getSalesReturnData=t,null!=this.getSalesReturnData){this.leavePage=!0;var e=this.diffDays(this.getSalesReturnData.BillDate,this.applicationDate);if(this.Age=e-1,e>2)confirm("Age of this sales invoice is more than 2 days (Age:"+this.Age+"-DAYS).Do you want to continue?")&&$("#PermissonModal").modal("show");else this.EnableItemDetails=!0,this._CustomerService.getCustomerDtls(this.getSalesReturnData.CustomerID).subscribe(t=>{const e=t;this._CustomerService.sendCustomerDtls_To_Customer_Component(e),this._SalesreturnService.sendItemDatatoItemComp(this.getSalesReturnData)})}})}passWord(t){""==t?(this.toastr.warning("Please Enter the Password","Alert!"),$("#PermissonModal").modal("show"),this.EnableItemDetails=!1):(this.permissonModel.CompanyCode=this.ccode,this.permissonModel.BranchCode=this.bcode,this.permissonModel.PermissionID=this.SRPermission,this.permissonModel.PermissionData=btoa(t),this._masterService.postelevatedpermission(this.permissonModel).subscribe(t=>{this.EnableItemDetails=!0,this._CustomerService.getCustomerDtls(this.getSalesReturnData.CustomerID).subscribe(t=>{const e=t;this._CustomerService.sendCustomerDtls_To_Customer_Component(e),this._SalesreturnService.sendItemDatatoItemComp(this.getSalesReturnData)}),$("#PermissonModal").modal("hide")},t=>{401===t.status&&($("#PermissonModal").modal("show"),this.EnableItemDetails=!1)}))}diffDays(t,e){var n,a;return n=new Date(t),a=new Date(e),Math.floor((Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())-Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()))/864e5)}GetCustomerDetsFromCustComp(){this._CustomerService.cast.subscribe(t=>{this.CustomerName=t,0==this.isEmptyObject(this.CustomerName)&&null!=this.isEmptyObject(this.CustomerName)?(this.CollapseCustomerTab=!0,this.NoRecordsCustomer=!0,this.CollapseCustomerDetailsTab=!0):(this.CollapseCustomerTab=!1,this.NoRecordsCustomer=!1)})}isEmptyObject(t){return t&&0===Object.keys(t).length}ToggleCustomerData(){1==this.NoRecordsCustomer&&(this.filterRadioBtns=!0,this.CollapseCustomerTab=!this.CollapseCustomerTab,this.CollapseCustomerDetailsTab=!this.CollapseCustomerDetailsTab)}ToggleItemData(){this.EnableItemsTab=!this.EnableItemsTab}ngOnDestroy(){this._CustomerService.SendCustDataToEstComp(null),this._CustomerService.sendCustomerDtls_To_Customer_Component(null),this._SalesreturnService.SendSRBillNoToReprintComp(null),this._SalesreturnService.SendSRNoToReprintComp(null)}};C.ctorParameters=()=>[{type:o.FormBuilder},{type:v.b},{type:h.a},{type:m.a},{type:b.a},{type:i.DatePipe},{type:S.a},{type:D.a}],a.a([Object(r.ViewChild)("PwdSalesRet",{static:!0}),a.c("design:type",r.ElementRef)],C.prototype,"PwdSalesRet",void 0),C=a.a([Object(r.Component)({selector:"app-salesreturn",template:a.b(n("HNdK")).default,styles:[a.b(n("ngKS")).default]}),a.c("design:paramtypes",[o.FormBuilder,v.b,h.a,m.a,b.a,i.DatePipe,S.a,D.a])],C);var w=n("qLqq");let N=class{constructor(t,e,n,a){this.fb=t,this._SalesreturnService=e,this._CustomerService=n,this._router=a,this.leavePage=!1,this.hasSRDetails=!1,this.ccode="",this.bcode="",this.password=w.a.Pwd,this.SRCancelObj={CompanyCode:null,BranchCode:null,EstNo:null,OperatorCode:null,BillCounter:null,Type:null,BillNo:0,PaidAmount:null,CancelRemarks:null,lstOfPayment:[]},this.getCB()}ngOnInit(){this.SRCancelForm=this.fb.group({CustID:null,BillNo:null,BillAmount:null,GST:null,CustName:null,VotureBillNo:null,Phone:null,EstNo:null,Address1:null,Address2:null,Address3:null,Mobile:null,Remarks:null})}confirmBeforeLeave(){return 1!=this.leavePage||!!confirm("You have unsaved changes! If you leave, your changes will be lost.")&&(this.leavePage=!1,!0)}getSRDetails(t){""==t?alert("Please Enter Bill No"):this._SalesreturnService.getSRBill(t).subscribe(t=>{this.SRBillData=t,null!=this.SRBillData&&(this.leavePage=!0,this.hasSRDetails=!0,this.SRCancelObj.CompanyCode=this.ccode,this.SRCancelObj.BranchCode=this.bcode,this.SRCancelObj.EstNo=this.SRBillData.EstNo,this.SRCancelObj.BillNo=this.SRBillData.NewBillNo,this.SRCancelObj.OperatorCode=localStorage.getItem("Login"),this.SRCancelObj.CustName=this.SRBillData.CustName,this.SRCancelObj.PaidAmount=this.SRBillData.TotalPurchaseAmount)},t=>{if(404===t.status){const e=t.error;u()("Warning!",e.description,"warning"),this.hasSRDetails=!1}if(400===t.status){const e=t.error;u()("Warning!",e.description,"warning"),this.hasSRDetails=!1}})}getCB(){this.ccode=x.AES.decrypt(localStorage.getItem("ccode"),this.password.trim()).toString(x.enc.Utf8),this.bcode=x.AES.decrypt(localStorage.getItem("bcode"),this.password.trim()).toString(x.enc.Utf8)}ngOnDestroy(){this._CustomerService.sendCustomerDtls_To_Customer_Component(null)}clear(){this._router.navigateByUrl("/redirect",{skipLocationChange:!0}).then(()=>this._router.navigate(["/salesreturn/cancel-salesreturn"]))}submitPost(){""==this.SRCancelObj.CancelRemarks||null==this.SRCancelObj.CancelRemarks?alert("Please enter the remarks"):confirm("Do you want to cancel SR Bill No."+this.SRCancelObj.BillNo+"??")&&this._SalesreturnService.CancelSRBill(this.SRCancelObj).subscribe(t=>{u()("Cancelled!","SR Bill No. "+this.SRCancelObj.BillNo+" Cancelled Successfully","success"),this.SRCancelForm.reset(),this.hasSRDetails=!1,this.leavePage=!1})}Clear(){this.SRCancelForm.reset(),this.hasSRDetails=!1,this.SRBillData=null,this.SRCancelObj={CompanyCode:null,BranchCode:null,EstNo:null,OperatorCode:null,BillCounter:null,Type:null,BillNo:0,PaidAmount:null,CancelRemarks:null,lstOfPayment:[]}}};N.ctorParameters=()=>[{type:o.FormBuilder},{type:h.a},{type:m.a},{type:g.c}],N=a.a([Object(r.Component)({selector:"app-cancel-salesreturn",template:a.b(n("7Wt6")).default,styles:[a.b(n("7Rfv")).default]}),a.c("design:paramtypes",[o.FormBuilder,h.a,m.a,g.c])],N);var A=n("db5x");let T=class{constructor(t,e,n,a,s,r){this._SalesreturnService=t,this._purchaseService=e,this._router=n,this.toastr=a,this._masterService=s,this.Service=r,this.model={option:"SR Bill No"},this.EstimationType="",this.estSRDetails=[],this.EnableSRReprintHeaders=!1,this.ShowHide=!1,this.SalesEstPrintTotals=[],this.SRDetails=[],this.PrintDetails=[],this.isDisabled=!1,this.radioBtnValue="",this.checked=!0,this.ReceiptDetails=[],this.Linesarray=[],this.SummaryHeader={ReceiptNo:null,BillNo:null,BalanceAmount:null,BilledDate:null},this.ShowroomList=[],this.radioItems=["SR Bill No","SR Est No"]}ngOnInit(){"/salesreturn/reprint-salesreturn"===this._router.url&&(this.ShowHide=!0,this._SalesreturnService.SendSRNoToReprintComp(null),this._SalesreturnService.SendSRToHide(!1),this._SalesreturnService.SendSREnablePrint(!1)),this._SalesreturnService.castSRNoToReprintComp.subscribe(t=>{this.SrEstNo=t,null!=this.SrEstNo&&("/salesreturn"!=this._router.url&&"/salesreturn/delete-salesreturn"!=this._router.url||(this.model.option="SR Est No",this.getSREstimationDetails(this.SrEstNo)))}),this._SalesreturnService.castSRBillNoToReprintComp.subscribe(t=>{this.srBillNo=t,null!=this.srBillNo&&0!=this.srBillNo.SalesBillNo&&null!=this.srBillNo.SalesBillNo&&"/salesreturn/ConfirmSalesReturn"==this._router.url&&(this.model.option,this.getSREstimationDetails(this.srBillNo.SalesBillNo))})}handleSelected(t){t.target.checked?this.checked=!0:this.checked=!1}isEmptyObject(t){return t&&0===Object.keys(t).length}getSREstimationDetails(t){""==t?this.toastr.warning("Please Enter SR No","Alert!"):"SR Bill No"==this.model.option?(this.SRBillNo=t,1==this.checked?this._SalesreturnService.getSRPrintbyBillNo(t).subscribe(t=>{this.PrintDetails=t,$("#ReprintSRBillModal").modal("show"),$("#DisplayData").html(this.PrintDetails),$("#ReprintSREstModal").modal("hide")}):this._SalesreturnService.getSRPrintDotMatrixbyBillNo(t).subscribe(t=>{this.PrintDetails=t,$("#ReprintSRBillModal").modal("hide"),$("#ReprintSREstModal").modal("show")})):"SR Est No"==this.model.option&&"/salesreturn/ConfirmSalesReturn"!=this._router.url&&this._SalesreturnService.getSRPrintbyEstNo(t).subscribe(t=>{this.PrintDetails=t,$("#ReprintSREstModal").modal("show"),$("#ReprintSRBillModal").modal("hide")})}Changed(t){this.radioBtnValue=t,this.model.option=t,"SR Bill No"==this.model.option?(this.isDisabled=!1,this.checked=!0):(this.isDisabled=!0,this.checked=!1)}printSREst(){this._masterService.printPlainText(this.PrintDetails)}printSRBill(){let t,e;t=document.getElementById("DisplayData").innerHTML,e=window.open("","_blank","top=0,left=0,height=100%,width=auto"),e.document.open(),e.document.write(`\n        <html>\n          <head>\n            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">\n            <title>Print tab</title>\n            <style>\n           .htmlPrint{display:none;}\n\n            @media print {\n              .table-bordered\n          {\n              border-style: solid;\n              border: 3px solid rgb(0, 0, 0);\n          }\n          .margin{\n            margin-top:-24px;\n          }\n          .mb{\n            vertical-align:middle;position:absolute;\n          }\n          tr.spaceUnder>td {\n            padding-bottom: 40px !important;\n          }\n          .top {\n            margin-top:10px;\n            border-bottom: 3px solid rgb(0, 0, 0) !important;\n            line-height: 1.6;\n          }\n          .modal-content{\n            font-family: "Times New Roman", Times, serif;\n\n          }\n         .padding-top {\n           padding-top:20px;\n         }\n          .watermark{\n            -webkit-transform: rotate(331deg);\n            -moz-transform: rotate(331deg);\n            -o-transform: rotate(331deg);\n            transform: rotate(331deg);\n            font-size: 15em;\n            color: rgba(255, 5, 5, 0.37);\n            position: absolute;\n            text-transform:uppercase;\n            padding-left: 10%;\n            margin-top:-10px;\n          }\n          .right{\n            text-align:left;\n          }\n          .px-2 {\n            padding-left: 10px !important;\n          }\n          thead > tr\n          {\n              border-style: solid;\n              border: 3px solid rgb(0, 0, 0);\n          }\n          table tr td.classname{\n            border-right: 3px solid rgb(0, 0, 0) !important;\n          }\n          table tr td.borderLeft{\n            border-left: 3px solid rgb(0, 0, 0) !important;\n          }\n          table tr td.bottom{\n            border-bottom: 3px solid rgb(0, 0, 0) !important;\n          }\n          table tr th.classname{\n            border-right: 3px solid rgb(0, 0, 0) !important;\n          }\n          .divborder {\n            border-right: 3px solid rgb(0, 0, 0) !important;\n            line-height: 1.6;\n          }\n          .lastdivborder{\n            line-height: 1.6;\n          }\n      .border{\n        border-right: 3px solid rgb(0, 0, 0) !important;\n        border-bottom: 3px solid rgb(0, 0, 0) !important;\n      }\n\n      .tdborder{\n        border-right: 3px solid rgb(0, 0, 0) !important;\n      }\n          .invoice {\n            margin-top: 250px;\n        }\n          .card{\n            border-style: solid;\n            border-width: 5px;\n            border: 3px solid rgb(0, 0, 0);\n        }\n          .printMe {\n            display: none !important;\n          }\n        }\n        body{\n              font-size: 15px;\n              line-height: 18px;\n        }\n   </style>\n          </head>\n      <body onload="window.print();window.close()">\n\n      ${t}</body>\n        </html>`),e.document.close()}closeSRBill(){"/salesreturn/ConfirmSalesReturn"===this._router.url?this._SalesreturnService.getSRPrintDotMatrixbyBillNo(this.SRBillNo).subscribe(t=>{this.PrintDetails=t,$("#ReprintSRBillModal").modal("hide"),$("#ReprintSREstModal").modal("show")}):($("#ReprintSRBillModal").modal("hide"),$("#ReprintSREstModal").modal("hide"))}PrintCreditReceipt(){"/salesreturn/ConfirmSalesReturn"==this._router.url&&0!=this.srBillNo.CreditReceiptNo&&null!=this.srBillNo.CreditReceiptNo&&this.Service.getReceiptValuesForPrint(this.srBillNo.CreditReceiptNo).subscribe(t=>{this.ReceiptDetails=t,this.Linesarray=this.ReceiptDetails.lstOfPayment,this.getShowroomDetails(),this.getbillDetails(this.ReceiptDetails.BillNo,this.ReceiptDetails.FinYear),$("#exampleModal").modal("show"),$("#ReprintSRBillModal").modal("hide"),$("#ReprintSREstModal").modal("hide")})}getShowroomDetails(){this.Service.getShowroom().subscribe(t=>{this.ShowroomList=t})}getbillDetails(t,e){this.Service.getValues(t,e).subscribe(t=>{this.BillDetails=t,this.SummaryHeader.BillNo=this.BillDetails.BillNo,this.SummaryHeader.BalanceAmount=this.BillDetails.BalanceAmount})}print(){let t,e;t=document.getElementById("print-section").innerHTML,e=window.open("","_blank","top=0,left=0,height=100%,width=auto"),e.document.open(),e.document.write(`\n      <html>\n        <head>\n          <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">\n          <title>Print tab</title>\n          <style>\n         .htmlPrint{display:none;}\n\n          @media print {\n            .table-bordered\n        {\n            border-style: solid;\n            border: 3px solid rgb(0, 0, 0);\n        }\n        .margin{\n          margin-top:-24px;\n        }\n        .mb{\n          vertical-align:middle;position:absolute;\n        }\n        tr.spaceUnder>td {\n          padding-bottom: 40px !important;\n        }\n        .top {\n          margin-top:10px;\n          border-bottom: 3px solid rgb(0, 0, 0) !important;\n          line-height: 1.6;\n        }\n        .modal-content{\n          font-family: "Times New Roman", Times, serif;\n\n        }\n       .padding-top {\n         padding-top:20px;\n       }\n        .watermark{\n          -webkit-transform: rotate(331deg);\n          -moz-transform: rotate(331deg);\n          -o-transform: rotate(331deg);\n          transform: rotate(331deg);\n          font-size: 15em;\n          color: rgba(255, 5, 5, 0.37);\n          position: absolute;\n          text-transform:uppercase;\n          padding-left: 10%;\n          margin-top:-10px;\n        }\n        .right{\n          text-align:left;\n        }\n        .px-2 {\n          padding-left: 10px !important;\n        }\n        // thead > tr\n        // {\n        //     border-style: solid;\n        //     border: 3px solid rgb(0, 0, 0);\n        // }\n        table tr td.classname{\n          border-right: 3px solid rgb(0, 0, 0) !important;\n        }\n        table tr td.bottom{\n          border-bottom: 3px solid rgb(0, 0, 0) !important;\n        }\n        table tr td.left{\n          border-left: 3px solid rgb(0, 0, 0) !important;\n        }\n        table tr th.classname{\n          border-right: 3px solid rgb(0, 0, 0) !important;\n        }\n        .divborder {\n          border-right: 3px solid rgb(0, 0, 0) !important;\n          line-height: 1.6;\n        }\n        .lastdivborder{\n          line-height: 1.6;\n        }\n    .border{\n      border-right: 3px solid rgb(0, 0, 0) !important;\n      border-bottom: 3px solid rgb(0, 0, 0) !important;\n    }\n\n    .tdborder{\n      border-right: 3px solid rgb(0, 0, 0) !important;\n    }\n        .invoice {\n          margin-top: 250px;\n      }\n        .card{\n          border-style: solid;\n          border-width: 5px;\n          border: 3px solid rgb(0, 0, 0);\n      }\n        .printMe {\n          display: none !important;\n        }\n      }\n      body{\n            font-size: 15px;\n            line-height: 18px;\n      }\n </style>\n        </head>\n    <body onload="window.print();window.close()">\n    ${t}</body>\n      </html>`),e.document.close()}};T.ctorParameters=()=>[{type:h.a},{type:A.a},{type:g.c},{type:v.b},{type:b.a},{type:f.a}],T=a.a([Object(r.Component)({selector:"app-reprint-salesreturn",template:a.b(n("Zmag")).default,styles:[a.b(n("rCN/")).default]}),a.c("design:paramtypes",[h.a,A.a,g.c,v.b,b.a,f.a])],T);let P=class{constructor(t,e){this._salesreturnService=t,this._router=e,this.SREstList=[],this.leavePage=!1,this.EnableReprintSR=!1}ngOnInit(){this._salesreturnService.getSREstNoList().subscribe(t=>{this.SREstList=t,this.leavePage=!1})}DeactivateGuard(){this.leavePage=!0}onPreview(t){0==t?u()("Warning!","Please select SR Est No","warning"):(this.EnableReprintSR=!0,this._salesreturnService.SendSRNoToReprintComp(t))}confirmBeforeLeave(){return 1!=this.leavePage||!!confirm("You have unsaved changes! If you leave, your changes will be lost.")&&(this.leavePage=!1,!0)}deleteSR(t){0==t?u()("Warning!","Please select SR Est No","warning"):confirm("Do you want to Cancel SR Est: "+t)&&(this.EnableReprintSR=!1,this._salesreturnService.deleteSREstNo(t).subscribe(e=>{u()("Cancelled!","SR estimation: "+t+" deleted.","success"),this.leavePage=!1,this._router.navigateByUrl("/redirect",{skipLocationChange:!0}).then(()=>this._router.navigate(["/salesreturn/delete-salesreturn"]))}))}};P.ctorParameters=()=>[{type:h.a},{type:g.c}],P=a.a([Object(r.Component)({selector:"app-delete-salesreturn",template:a.b(n("769H")).default,styles:[a.b(n("Yfz3")).default]}),a.c("design:paramtypes",[h.a,g.c])],P);var B=n("09Xa");const _=[{path:"",canDeactivate:[B.a],canActivate:[R.a],canActivateChild:[R.a],component:C,data:{title:"SR Est",urls:[{title:"Dashboard",url:"/dashboard"},{title:"SR Est"}]}},{path:"ConfirmSalesReturn",canDeactivate:[B.a],canActivate:[R.a],canActivateChild:[R.a],component:y,data:{title:"Confirm Sales Return",urls:[{title:"Dashboard",url:"/dashboard"},{title:"Confirm Sales Return"}]}},{path:"reprint-salesreturn",canActivate:[R.a],canActivateChild:[R.a],component:T,data:{title:"Reprint SR",urls:[{title:"Dashboard",url:"/dashboard"},{title:"Reprint SR"}]}},{path:"cancel-salesreturn",canDeactivate:[B.a],canActivate:[R.a],canActivateChild:[R.a],component:N,data:{title:"Cancel SR",urls:[{title:"Dashboard",url:"/dashboard"},{title:"Cancel SR"}]}},{path:"delete-salesreturn",canDeactivate:[B.a],canActivate:[R.a],canActivateChild:[R.a],component:P,data:{title:"Delete SR",urls:[{title:"Dashboard",url:"/dashboard"},{title:"Delete SR"}]}}];let E=class{};E=a.a([Object(r.NgModule)({imports:[g.d.forChild(_)],exports:[g.d]})],E);var k=n("OclH");let O=class{constructor(t,e,n,a,s,r){this._SalesreturnService=t,this.fb=e,this._masterService=n,this._router=a,this._customerService=s,this.toastr=r,this.ItemDetails=[],this.fieldArray=[],this.today=new Date,this.salesDate="",this.model={option:"Local"},this.ccode="",this.bcode="",this.password=w.a.Pwd,this.BilledBranchRadio=!1,this.SalesReturnHeaderDetails={CompanyCode:null,BranchCode:null,CustomerID:null,MobileNo:null,VotureBillNo:null,BilledBranch:null,SalCode:null,Remarks:null,OperatorCode:null,lstOfSalesReturnDetails:[]},this.SelectedItemRow=[],this.SelectedItemLines=[],this.plusFlag=!1,this.minusFlag=!1,this.roundOffValue=0,this.EnableReprintSR=!1,this.Grosswt=0,this.AddedWt=0,this.Ntwt=0,this.TotAmount=0,this.Quantity=0,this.DeductedWt=0,this._SalesreturnService.cast.subscribe(t=>{this.getCB(),this.radioItems=["Other Branch","Local"],this.salesDate=Object(i.formatDate)(this.today,"yyyy-MM-dd","en-US","+0530"),this.ItemDetails=t,null!=this.ItemDetails&&(this.fieldArray=this.ItemDetails.lstOfSalesReturnDetails,this.SalesReturnHeaderDetails.BilledBranch=null,this.SalesReturnHeaderDetails.SalCode=null,this.SalesReturnHeaderDetails.OperatorCode=localStorage.getItem("Login"),this.SalesReturnHeaderDetails.CustomerID=this.ItemDetails.CustomerID,this.SalesReturnHeaderDetails.MobileNo=this.ItemDetails.MobileNo,this.SalesReturnHeaderDetails.VotureBillNo=this.ItemDetails.VotureBillNo,this.SalesReturnHeaderDetails.CompanyCode=this.ccode,this.SalesReturnHeaderDetails.BranchCode=this.bcode)})}getCB(){this.ccode=x.AES.decrypt(localStorage.getItem("ccode"),this.password.trim()).toString(x.enc.Utf8),this.bcode=x.AES.decrypt(localStorage.getItem("bcode"),this.password.trim()).toString(x.enc.Utf8)}ngOnInit(){this.SRHeaderForm=this.fb.group({BranchType:["Local",o.Validators.required],BilledBranch:["null",o.Validators.required],SalesBillNo:[null,o.Validators.required],Remarks:["",o.Validators.required],SalesDate:null,SalCode:["A",o.Validators.required],Rate:["null",o.Validators.required]}),this.getSalesMan(),this.getBilledBranch(),this.SRHeaderForm.controls.BilledBranch.disable(),this.SRHeaderForm.controls.BranchType.setValue("Local")}OnRadioBtnChnge(t){"Local"==t?(this.model.option=t,this.ItemDetails.BilledBranch=null,this.SRHeaderForm.controls.BilledBranch.disable()):(this.model.option=t,this.SRHeaderForm.controls.BilledBranch.enable())}getSalesMan(){this._masterService.getSalesMan().subscribe(t=>{this.SalesManList=t})}getBilledBranch(){this._SalesreturnService.getBilledBranch().subscribe(t=>{this.BilledBranch=t})}AppendItemDataRow(t,e,n){if(n.target.checked)this.SelectedItemRow=t,this.SelectedItemLines.push(this.SelectedItemRow),this.calculateFooter(),this.SalesReturnHeaderDetails.lstOfSalesReturnDetails.push(this.SelectedItemRow),this.selectedRow=e;else{let e=this.SelectedItemLines.indexOf(t);this.SelectedItemLines.splice(e,1),this.SalesReturnHeaderDetails.lstOfSalesReturnDetails.splice(e,1),this.calculateFooter()}}calculateFooter(){this.totalFinalAmt=Math.round(this.SelectedItemLines.reduce((t,e)=>t+e.ItemFinalAmount,0)),this.vpAmt=this.ItemDetails.VPAmount,this.payableAmt=Number(this.totalFinalAmt-this.vpAmt),this.totalAmtafterDiscount=this.SelectedItemLines.reduce((t,e)=>t+e.ItemTotalAfterDiscount,0),this.GST=this.SelectedItemLines.reduce((t,e)=>t+2*e.SGSTAmount,0),this.roundOff=this.totalFinalAmt-(this.totalAmtafterDiscount+this.GST),this.roundOffValue=Math.abs(this.roundOff)}getStoneDiamDetails(t,e){this.stoneDiamondDetails=t}submitPost(t){if(null==t.value.SalCode)this.toastr.warning("Please Select Sales Person","Alert!");else if(0==this.SalesReturnHeaderDetails.lstOfSalesReturnDetails.length)this.toastr.warning("Please Select Sales Return Item Details","Alert!");else{let t;confirm("Do you want to save the Sales return estimation??")&&(this._SalesreturnService.SendSREnablePrint(!1),this._SalesreturnService.post(this.SalesReturnHeaderDetails).subscribe(e=>{t=e,u()("Saved!","Sales Return estimation number "+t.SREstimationNo+" Created Successfully","success"),confirm("Do you want to take Sales Return estimation Print Out??")?(this.EnableReprintSR=!0,this._SalesreturnService.SendSRNoToReprintComp(t.SREstimationNo),this._SalesreturnService.SendSRToHide(!1),this._SalesreturnService.SendSREnablePrint(!0)):this._router.navigateByUrl("/redirect",{skipLocationChange:!0}).then(()=>this._router.navigate(["/salesreturn"]))}))}}clearComponents(){}GrossWtTotal(t){let e=0;return t.forEach(t=>{e+=parseFloat(t.GrossWt)}),this.Grosswt=e,e}AddWt(t){let e=0;return t.forEach(t=>{e+=parseFloat(t.AddWt)}),this.AddedWt=e,e}DedWt(t){let e=0;return t.forEach(t=>{e+=parseFloat(t.DeductWt)}),this.DeductedWt=e,e}NetWt(t){let e=0;return t.forEach(t=>{e+=parseFloat(t.NetWt)}),this.Ntwt=e,e}Qty(t){let e=0;return t.forEach(t=>{e+=parseFloat(t.Quantity)}),this.Quantity=e,e}Amount(t){let e=0;return t.forEach(t=>{e+=parseFloat(t.ItemFinalAmount)}),this.TotAmount=e,e}};O.ctorParameters=()=>[{type:h.a},{type:o.FormBuilder},{type:b.a},{type:g.c},{type:m.a},{type:v.b}],O=a.a([Object(r.Component)({selector:"app-itemdetails",template:a.b(n("FTLU")).default,styles:[a.b(n("UNGm")).default]}),a.c("design:paramtypes",[h.a,o.FormBuilder,b.a,g.c,m.a,v.b])],O);var I=n("NQ5e"),L=n("SlBg");let M=class{constructor(t,e,n,a,s,i){this._SalesreturnService=t,this.formBuilder=e,this._estimationService=n,this._salesService=a,this._CustomerService=s,this._router=i,this.EnableDisablectrls=!0,this.ccode="",this.bcode="",this.password=w.a.Pwd,this.PostSalesReturnAttchJson=[],this.submitted=!1,this.SelectedSalesReturnList=[],this.EnableSubmitButton=!0,this.SalesEstNo=null,this.OrderJson={CompanyCode:this.ccode,BranchCode:this.bcode,SeriesNo:null,RefBillNo:null,OperatorCode:null},this.valueChange=new r.EventEmitter,this.SRAmount=0,this.SRAttachmentSummaryData={Quantity:null,Amount:0},this.pagenumber=1,this.top=10,this.skip=(this.pagenumber-1)*this.top,this.SRTotalAmount=0,this.SRAmountChange=new r.EventEmitter,this.ReprintData={EstNo:null,EstType:null},this.getCB()}getCB(){this.ccode=x.AES.decrypt(localStorage.getItem("ccode"),this.password.trim()).toString(x.enc.Utf8),this.bcode=x.AES.decrypt(localStorage.getItem("bcode"),this.password.trim()).toString(x.enc.Utf8)}ngOnInit(){this.SRAttachmentSummaryData={Quantity:null,Amount:0},this.getSalesEstNofromSalesService(),this._salesService.EstNo.subscribe(t=>{this.SalesEstNo=t}),this._estimationService.SubjectEstNo.subscribe(t=>{this.SalesEstNo=t,null!=this.SalesEstNo&&"0"!=this.SalesEstNo&&"/purchase"!=this._router.url&&this._SalesreturnService.getSalesReturnAttachedList(this.SalesEstNo).subscribe(t=>{if(this.SelectedSalesReturnList=[],this.PostSalesReturnAttchJson=[],this.SelectedSalesReturnList=t,this.SelectedSalesReturnList.length>0){this._estimationService.SendSRAttachmentSummaryData(this.SRAttachmentSummaryData);for(var e=0;e<this.SelectedSalesReturnList.length;e++)this.OrderJson.SeriesNo=this.SalesEstNo,this.OrderJson.RefBillNo=this.SelectedSalesReturnList[e].SrEstNo,this.OrderJson.OperatorCode=localStorage.getItem("Login"),this.OrderJson.CompanyCode=this.ccode,this.OrderJson.BranchCode=this.bcode,this.PostSalesReturnAttchJson.push(this.OrderJson),this.OrderJson={}}})}),this.AttachSalesReturnForm=this.formBuilder.group({searchby:[null,o.Validators.required],searchText:[null,o.Validators.required]}),this.LoadCustomerDetails(),"/sales-billing"==this._router.url&&(this.EnableDisablectrls=!1),"/estimation"==this._router.url&&(this.EnableDisablectrls=!0)}openModal(){$("#mySalesReturnModal").modal("show"),this.getSalesReturnList(this.top,this.skip)}onPageChange(t){this.pagenumber=t;const e=(this.pagenumber-1)*this.top;this.getSalesReturnList(this.top,e)}getSalesReturnList(t,e){this._SalesreturnService.getSRList(t,e).subscribe(t=>{this.AttachSalesReturnList=t})}LoadCustomerDetails(){this._CustomerService.cast.subscribe(t=>{this.CustomerName=t})}getSalesEstNofromSalesService(){this._SalesreturnService.getSearchParams().subscribe(t=>{this.SearchParamsList=t})}valueChanged(t){this.SRAmount=t,this.valueChange.emit(this.SRAmount)}SRAmountChanged(t){this.SRTotalAmount=t,this.SRAmountChange.emit(this.SRTotalAmount)}Submit(){console.log(this.PostSalesReturnAttchJson),this._SalesreturnService.PostAttachementSalesReturn(this.PostSalesReturnAttchJson).subscribe(t=>{this.Saved=t,this._estimationService.SendSRAttachmentSummaryData(this.SRAttachmentSummaryData),u()("Saved!","SR updated against Estimation number "+this.SalesEstNo,"success"),this.ReprintData={EstNo:this.SalesEstNo,EstType:"SR"},this._estimationService.SendReprintSR(this.PostSalesReturnAttchJson)})}onSubmit(){this.submitted=!0,this.AttachSalesReturnForm.invalid}DeleteRow(t){confirm("Do you want to delete")&&(1==this.SelectedSalesReturnList.length&&this._SalesreturnService.deleteSRAttachment(this.SalesEstNo).subscribe(t=>{this.Saved=t}),this.valueChanged(this.SelectedSalesReturnList[t].Amount),this.SelectedSalesReturnList.splice(t,1),this.PostSalesReturnAttchJson.splice(t,1),this.EnableDisableSubmitBtn())}selectRecord(t){this.SelectedSalesReturnList.push(t),$("#mySalesReturnModal").modal("hide"),this.AttachSalesReturnForm.reset(),this.AttachSalesReturnList=[],this.OrderJson.SeriesNo=this.SalesEstNo,this.OrderJson.RefBillNo=t.SrEstNo,this.OrderJson.OperatorCode=localStorage.getItem("Login"),this.OrderJson.CompanyCode=this.ccode,this.OrderJson.BranchCode=this.bcode,this.PostSalesReturnAttchJson.push(this.OrderJson),this.OrderJson={},this.EnableDisableSubmitBtn()}EnableDisableSubmitBtn(){this.SelectedSalesReturnList.length<=0?this.EnableSubmitButton=!0:this.EnableSubmitButton=!1}ngOnDestroy(){this._CustomerService.SendCustDataToEstComp(null),this._estimationService.SendSRAttachmentSummaryData(null)}Cancel(){$("#myModal").modal("hide"),this.AttachSalesReturnForm.reset(),this.AttachSalesReturnList=[]}getSearchParams(t){null!=t.value.searchby&&null!=t.value.searchText&&this._SalesreturnService.getAttachSalesReturnList(t.value.searchby,t.value.searchText).subscribe(t=>{this.AttachSalesReturnList=t})}Amount(t=[]){let e=0;return t.forEach(t=>{e+=t.Amount}),this.SRAttachmentSummaryData.Amount=e,this.SRAmountChanged(e),e}Quantity(t=[]){let e=0;return t.forEach(t=>{e+=t.Quantity}),this.SRAttachmentSummaryData.Quantity=e,e}};M.ctorParameters=()=>[{type:h.a},{type:o.FormBuilder},{type:L.a},{type:I.a},{type:m.a},{type:g.c}],a.a([Object(r.Output)(),a.c("design:type",Object)],M.prototype,"valueChange",void 0),a.a([Object(r.Output)(),a.c("design:type",Object)],M.prototype,"SRAmountChange",void 0),M=a.a([Object(r.Component)({selector:"app-attachsalesreturn",template:a.b(n("EgNT")).default,styles:[a.b(n("iqiw")).default]}),a.c("design:paramtypes",[h.a,o.FormBuilder,L.a,I.a,m.a,g.c])],M);var F=n("+Cnu");n.d(e,"SalesreturnModule",(function(){return W}));let W=class{};W=a.a([Object(r.NgModule)({declarations:[C,O,y,M,N,T,P],imports:[i.CommonModule,E,o.ReactiveFormsModule,o.FormsModule,F.b,k.CustomerModule,s.a,l.a,d.a],exports:[C,M],schemas:[r.CUSTOM_ELEMENTS_SCHEMA]})],W)},QLm0:function(t,e,n){"use strict";n.r(e),e.default='<div style="color: brown; text-align: right; font-style: italic;">\n  <app-lastdocno></app-lastdocno>\n</div>\n\n<div id="accordian" class="accordion">\n  <div class="card mb-0">\n    <div id="header" class="card-body show">\n      <form [formGroup]="ConfirmSRHeaderForm" class="form-horizontal">\n        <div class="row">\n          <div class="col-lg-12">\n            <div class="form-body">\n\n              <div class="row">\n                <div class="col-md-2">\n                  <div class="form-group">\n                    <label class="control-label">Sales Return Est No</label>\n                    <div class="m-b-10">\n                      <input type="text"\n                        oninput="this.value = this.value.replace(/[^0-9.]/g, \'\').replace(/(\\..*)\\./g, \'$1\');"\n                        onKeyPress="if(this.value.length==7) return false;"\n                        (keyup.enter)="GetsalesRetEstNo(salesReturnEstNo.value)" class="form-control" #salesReturnEstNo\n                        name="salesReturnEstNo">\n                    </div>\n                  </div>\n                </div>\n                <ng-container *ngIf="EnableConfirmSR">\n                  <div class="col-md-2">\n                    \x3c!-- <div class="form-group" style="display: inline-block;padding-top: 1.5rem;">\n                    <button class="btn waves-effect waves-light btn-rounded btn-outline-secondary" type="submit"\n                      (click)="GetsalesRetEstNo(salesReturnEstNo.value)">Submit</button>\n                  </div> --\x3e\n                  </div>\n                  <div class="col-md-4">\n                    <div class="form-group">\n                      <label class="control-label">Remarks</label>\n                      <div class="m-b-10">\n                        <input type="text" class="form-control" [(ngModel)]="confirmSRHeader.Remarks"\n                          formControlName="Remarks">\n                      </div>\n                    </div>\n                  </div>\n                  <div class="col-md-4">\n                    <div class="form-group  text-center" style="margin-top:25px ">\n                      <label *ngFor="let radiobutton of radioItems" class="form-check-inline">\n                        <ng-container *ngIf="this.getSalesReturnData.IsCreditBill == true && PayableAmount > 0">\n                          <ng-container *ngIf="radiobutton == \'Cash\' || radiobutton == \'Order\'">\n                            <input type="radio" name="option" (click)="OnRadioBtnChnge(radiobutton)"\n                              class="form-check-input" [value]="radiobutton" [checked]="radiobutton === model.option">\n                            <h3 style="margin-top: 5px;">{{radiobutton}}</h3>\n                          </ng-container>\n                        </ng-container>\n                        <ng-container *ngIf="this.getSalesReturnData.IsCreditBill == true && PayableAmount < 0">\n                          <ng-container\n                            *ngIf="radiobutton == \'Cash\' || radiobutton == \'Order\' || radiobutton == \'Adjust\'">\n                            <input type="radio" name="option" (click)="OnRadioBtnChnge(radiobutton)"\n                              class="form-check-input" [value]="radiobutton" [checked]="radiobutton === model.option"\n                              [disabled]="true">\n                            <h3 style="margin-top: 5px;">{{radiobutton}}</h3>\n                          </ng-container>\n                        </ng-container>\n                        <ng-container *ngIf="this.getSalesReturnData.IsCreditBill == false">\n                          <ng-container *ngIf="radiobutton == \'Cash\' || radiobutton == \'Adjust\'">\n                            <input type="radio" name="option" (click)="OnRadioBtnChnge(radiobutton)"\n                              class="form-check-input" [value]="radiobutton" [checked]="radiobutton === model.option">\n                            <h3 style="margin-top: 5px;">{{radiobutton}}</h3>\n                          </ng-container>\n                        </ng-container>\n                      </label>\n                    </div>\n                  </div>\n                </ng-container>\n              </div>\n              <ng-container *ngIf="EnableConfirmSR">\n                <div class="row">\n                  \x3c!-- <div class="col-lg-3 col-md-6"> --\x3e\n                  <div class="col-md-3">\n                    <div class="form-group">\n                      <label class="control-label">Billed Branch</label>\n                      <select class="form-control mr-auto mt-2 mt-lg-0" formControlName="BilledBranch" disabled\n                        [(ngModel)]="confirmSRHeader.BilledBranch">\n                        <option [ngValue]="null">Select</option>\n                        <option *ngFor="let _BilledBranch of BilledBranch" [value]="_BilledBranch.PartyCode">\n                          {{_BilledBranch.PartyName}}\n                        </option>\n                      </select>\n                    </div>\n                  </div>\n\n                  <div class="col-md-3">\n                    <div class="form-group">\n                      <label class="control-label">Sales Person</label>\n                      <select class="form-control mr-auto mt-2 mt-lg-0" formControlName="SalCode" disabled\n                        [(ngModel)]="confirmSRHeader.SalCode">\n                        <option [ngValue]="null">Select</option>\n                        <option *ngFor="let _salesman of SalesManList" [value]="_salesman.sal_code">\n                          {{_salesman.CodeName}}\n                        </option>\n                      </select>\n                    </div>\n                  </div>\n\n                  <div class="col-md-2">\n                    <div class="text-center">\n                      <div class="">\n                        <div class="row p-t-10 p-b-10">\n                          \x3c!-- Column --\x3e\n                          <div class="col p-r-0">\n                            <h6 class="text-muted"><i class="fal fa-calendar-alt"></i>&nbsp;\n                              SR Date</h6>\n                            <h3 class="font-light" formControlName="salesReturnDate" ngDefaultControl>\n                              {{salesReturnDate | date:\'dd/MM/yyyy\'}}\n                            </h3>\n                          </div>\n                          \x3c!-- Column --\x3e\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class="col-md-2">\n                    <div class="text-center">\n                      <div class="">\n                        <div class="row p-t-10 p-b-10">\n                          \x3c!-- Column --\x3e\n                          <div class="col p-r-0">\n                            <h6 class="text-muted"><i class="fal fa-calendar-alt"></i>&nbsp;\n                              Sales Bill Bo</h6>\n                            <h3 class="font-light" [(ngModel)]="confirmSRHeader.BillNo" ngDefaultControl>{{BillNo}}</h3>\n                          </div>\n                          \x3c!-- Column --\x3e\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class="col-md-2">\n                    <div class="text-center">\n                      <div class="">\n                        <div class="row p-t-10 p-b-10">\n                          \x3c!-- Column --\x3e\n                          <div class="col p-r-0">\n                            <h6 class="text-muted"><i class="fal fa-calendar-alt"></i>&nbsp;\n                              Bill Date</h6>\n                            <h3 class="font-light" formControlName="BillDate" [(ngModel)]="confirmSRHeader.BillDate"\n                              ngDefaultControl>{{Billdate | date:\'dd/MM/yyyy\'}}</h3>\n                          </div>\n                          \x3c!-- Column --\x3e\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </ng-container>\n            </div>\n          </div>\n        </div>\n        \x3c!-- <pre>{{ SRHeaderForm | json }}</pre> --\x3e\n      </form>\n    </div>\n  </div>\n</div>\n<br>\n<ng-container *ngIf="EnableConfirmSR">\n\n  <div id="accordian" class="accordion">\n    <div class="card mb-0">\n      <div class="card-header Pointer" href="#Customer" (click)="ToggleCustomerData()"\n        [ngClass]="CollapseCustomerDetailsTab ? \'collapsed\' : \'\'"\n        [attr.data-toggle]="CollapseCustomerDetailsTab ? \'\':\'collapse\'"\n        style="background-color: #fdfdfd; box-shadow: -1px 0px 2px 0px rgba(0, 0, 0, 0.36);color:black">\n        <div class="row">\n          <div class="col-md-2 ">\n            <a class="card-title align-middle Pointer" style="color:#0096FF">\n              <i class="fas fa-2x fa-users mr-2 align-middle"></i>\n              <span class="align-middle Pointer"><ins>Customer Details</ins></span>\n            </a>\n          </div>\n          <ng-container *ngIf="CollapseCustomerTab">\n            <div class="col-md-1 pull-right">\n            </div>\n            <div class="col-md-2 pull-right" style="color:#0096FF">\n              <h4><span class="align-middle"></span></h4>\n            </div>\n            <div class="col-md-2 pull-right">\n              <h4><span class="align-middle"> ID: {{CustomerName.ID}}</span></h4>\n            </div>\n            <div class="col-md-3 pull-right">\n              <h4><span class="align-middle"> Customer: {{CustomerName.CustName}}</span></h4>\n            </div>\n          </ng-container>\n        </div>\n      </div>\n      <div id="Customer" class="card-body collapse" [collapse]="CollapseCustomerDetailsTab">\n        <app-customer [filterRadioBtns]="filterRadioBtns">\n        </app-customer>\n      </div>\n    </div>\n    <br>\n\n    <div class="card mb-0">\n      <div class="card-header Pointer" href="#Item" (click)="ToggleItemData()"\n        [ngClass]="EnableItemsTab ? \'collapsed\' : \'\'" [attr.data-toggle]="EnableItemsTab ? \'\':\'collapse\'"\n        style="background-color: #fdfdfd; box-shadow: -1px 0px 2px 0px rgba(0, 0, 0, 0.36);color:black">\n        <div class="row">\n          <div class="col-md-2 ">\n            <a class="card-title align-middle Pointer" style="color:#FF00C5">\n              <i class="far fa-shopping-cart fa-2x mr-2 align-middle"></i>\n              <span class="align-middle Pointer"><ins>Item Details</ins></span>\n            </a>\n          </div>\n          <ng-container *ngIf="CollapseCustomerTab">\n            <div class="col-md-2 pull-right">\n              <h4><span class="align-middle">Qty: {{Quantity | number : \'1.3-3\'}}</span>\n              </h4>\n            </div>\n            <div class="col-md-2 pull-right">\n              <h4><span class="align-middle"> Nt. Wt: {{Ntwt | number : \'1.3-3\'}}\n                </span>\n              </h4>\n            </div>\n            <div class="col-md-2 pull-right">\n              <h4><span class="align-middle"> Gr. Wt: {{Grosswt | number : \'1.3-3\'}}\n                </span>\n              </h4>\n            </div>\n            <div class="col-md-2 pull-right">\n              <h4><span class="align-middle">Amount: {{TotAmount | currencyFormat : TotAmount}}</span>\n              </h4>\n            </div>\n          </ng-container>\n        </div>\n      </div>\n      <div id="Item" class="card-body collapse" [collapse]="EnableItemsTab" style="padding:10px;">\n        <div class="table-responsive">\n          <table class="table table-bordered" id=\'panels\'>\n            <thead class="topbar">\n              <tr>\n                <th>SNo</th>\n                <th>Name</th>\n                <th>Qty</th>\n                <th>Gr. Wt</th>\n                <th>N.Wt</th>\n                <th>AddWt</th>\n                <th>DeductWt</th>\n                <th>Dm Amount</th>\n                <th>Total Amount</th>\n              </tr>\n            </thead>\n            <tbody *ngFor="let field of fieldArray; let i = index">\n              <tr>\n                \x3c!-- (click)="sendDataToDiamondComp(field,i)" --\x3e\n                <td>{{field.SlNo}}</td>\n                <td>{{field.ItemName}}</td>\n                <td>{{field.Quantity}}</td>\n                <td>{{field.GrossWt | number : \'1.3-3\'}}</td>\n                <td>{{field.NetWt | number : \'1.3-3\'}}</td>\n                <td>{{field.AddWt | number : \'1.3-3\'}}</td>\n                <td>{{field.DeductWt | number : \'1.3-3\'}}</td>\n                <td>{{field.NetAmount | number : \'1.2-2\'}}</td>\n                <td>{{field.ItemFinalAmount | number : \'1.2-2\'}}</td>\n              </tr>\n            </tbody>\n            <tr style=" border: none;">\n              <td class="border-none"><span class="Heading">Grand Total</span>: </td>\n              <td class="border-none"></td>\n              <td class="border-none">{{Qty(fieldArray)}}</td>\n              <td class="border-none">{{GrossWtTotal(fieldArray) | number : \'1.3-3\'}}</td>\n              <td class="border-none">{{NetWt(fieldArray) | number : \'1.3-3\'}}</td>\n              <td class="border-none">{{AddWt(fieldArray) | number : \'1.3-3\'}}</td>\n              <td class="border-none">{{DedWt(fieldArray) | number : \'1.3-3\'}}</td>\n              <td class="border-none"></td>\n              <td class="border-none">{{Amount(fieldArray) | number : \'1.2-2\'}}</td>\n            </tr>\n          </table>\n        </div>\n      </div>\n    </div>\n    <br>\n    <div class="card mb-0" *ngIf="enablePayment">\n      <div class="card mb-0">\n        <div class="card-header Pointer" href="#Payment" (click)="TogglePaymentData()"\n          [ngClass]="EnablePaymentsTab ? \'collapsed\' : \'\'" [attr.data-toggle]="EnablePaymentsTab ? \'\':\'collapse\'"\n          style="background-color: #fdfdfd; box-shadow: -1px 0px 2px 0px rgba(0, 0, 0, 0.36);color:black">\n          <div class="row">\n            <div class="col-md-2 ">\n              <a class="card-title align-middle" style="color:rgb(0, 204, 255)">\n                <i class="far fa-rupee-sign fa-2x mr-2 align-middle"></i>\n                <span class="align-middle"><ins>Payment Details</ins>\n                  <div class="tooltipdesign"> <i class="fal fa-question-circle"></i>\n                    <span class="tooltiptext tooltip-top">Capture the Receipts\n                      ( Payment collection modes) information like Cash , Cheque , Card , Scheme Adj, Purchase Bill\n                      etc</span>\n                  </div>\n                </span>\n              </a>\n            </div>\n          </div>\n        </div>\n        <div id="Payment" class="card-body collapse" [hidden]="EnablePaymentsTab"\n          [ngClass]="EnablePaymentsTab ? \'hide\' : \'show\'">\n          <app-payment (PaidAmountChange)="PaidTotalAmountCalculation($event)" [argPageName]="pageName"></app-payment>\n        </div>\n      </div>\n    </div>\n    <div class="row pt-2 pb-3">\n      <div class="col-md-4">\n        <button class="btn btn-outline-success waves-effect waves-light btn-rounded btn-outline-secondary "\n          (click)="submitPost()">Submit</button>\n      </div>\n    </div>\n    <br>\n\n\n    <ng-container *ngIf="EnableSRSummary">\n      <div class="row">\n        <div class="col-lg-12 col-md-12">\n          <div class="card">\n            <div class="row">\n              <div class="col-12">\n                <div class="social-widget">\n                  <div class="soc-header box-facebook" style="padding: 3px;">\n                    <h3 class="text-white">SR Summary</h3>\n                  </div>\n                  <div class="soc-content">\n                    <div class="col-2 b-r">\n                      \x3c!-- <h4 class="font-medium">{{TotalSRAmount | number : \'1.2-2\'}} --\x3e\n                      <h4 class="font-medium">{{ItemAmount | number : \'1.2-2\'}}\n                        <h1 class="float-right">-</h1>\n                      </h4>\n                      <h5 class="text-black">Item Amount</h5>\n                    </div>\n                    <div class="col-2 b-r">\n                      <h4 class="font-medium">{{DiscountAmount | number : \'1.2-2\'}}<h1 class="float-right">=</h1>\n                      </h4>\n                      <h5 class="text-black">Discount</h5>\n                    </div>\n                    <div class="col-2 b-r">\n                      <h4 class="font-medium">{{ grandTotal | number : \'1.2-2\'}}<h1 class="float-right">+</h1>\n                      </h4>\n                      <h5 class="text-black">Grand Total</h5>\n                    </div>\n                    <div class="col-2 b-r">\n                      <h4 class="font-medium"><b>{{TaxAmount | number : \'1.2-2\'}}</b>\n                        <h1 class="float-right">+</h1>\n                      </h4>\n                      <h5 class="text-black">Sales GST</h5>\n                    </div>\n                    <div class="col-2 b-r">\n                      <h4 class="font-medium"><b>0.00</b>\n                        <h1 class="float-right">=</h1>\n                      </h4>\n                      <h5 class="text-black">Cess Amount</h5>\n                    </div>\n                    <div class="col-2 b-r">\n                      <h4 class="font-medium"><b>{{ grandTotal + TaxAmount | currencyFormat}}</b>\n                        \x3c!-- <h4 class="font-medium"><b>{{ grandTotal + TaxAmount - VPAmount | currencyFormat}}</b> --\x3e\n                      </h4>\n                      <h5 class="text-black">Total SR Amount</h5>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <br>\n      <div class="row">\n        <div class="col-lg-6 col-md-6">\n          <div class="card">\n            <div class="row">\n              <div class="col-12">\n                <div class="social-widget">\n                  <div class="soc-header box-facebook" style="padding: 2px;">\n                    <h3 class="text-white">Paid Amount</h3>\n                  </div>\n                  <div class="soc-content">\n                    <div class="col-4 b-r">\n                      \x3c!-- <h3 class="font-medium">{{TotalSRAmount | number : \'1.2-2\'}} <h1 class="float-right">-</h1> --\x3e\n                      <h3 class="font-medium">{{TotSRAmt | currencyFormat}} <h1 class="float-right">-</h1>\n\n                      </h3>\n                      <h5 class="text-black">Total SR Amount</h5>\n                    </div>\n                    <div class="col-4 b-r">\n                      <h3 class="font-medium">{{PaidAmount | number : \'1.2-2\'}} <h1 class="float-right">=</h1>\n                      </h3>\n                      <h5 class="text-black">Paid Amount</h5>\n                    </div>\n                    <div class="col-4 b-r">\n                      <h3 class="font-medium"><b>{{BalanceAmount() | number : \'1.2-2\'}}</b></h3>\n                      <h5 class="text-black">Balance Amount</h5>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="col-lg-6 col-md-6">\n          <div class="card">\n            <div class="row">\n              <div class="col-12">\n                <div class="social-widget">\n                  <div class="soc-header box-facebook" style="padding: 2px;">\n                    <h3 class="text-white">Payable Amount</h3>\n                  </div>\n                  <div class="soc-content">\n                    <div class="col-4 b-r">\n                      <h3 class="font-medium">{{TotSRAmt | currencyFormat}} <h1 class="float-right">-</h1>\n                      </h3>\n                      <h5 class="text-black">Total SR Amount</h5>\n                    </div>\n                    <div class="col-4 b-r">\n                      <h3 class="font-medium">{{VPAmount | number : \'1.2-2\'}} <h1 class="float-right">=</h1>\n                      </h3>\n                      <h5 class="text-black">VP Amount</h5>\n                    </div>\n                    <div class="col-4 b-r">\n                      \x3c!-- <h3 class="font-medium"><b>{{TotalSRAmount - VPAmount | number : \'1.2-2\'}}</b></h3> --\x3e\n                      <h3 class="font-medium"><b>{{PayableAmount | number : \'1.2-2\'}}</b></h3>\n                      <h5 class="text-black">Payable Amount</h5>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n    <pre>{{getSalesReturnData | json}}</pre>\n  </div>\n\n</ng-container>\n\n<ng-container *ngIf="EnableReprintSR">\n  <app-reprint-salesreturn></app-reprint-salesreturn>\n</ng-container>\n\n\x3c!-- <ng-container *ngIf="EnableReprintOrder">\n  <app-reprint-order></app-reprint-order>\n</ng-container> --\x3e\n\n\n\x3c!-- Order Block Starts from here--\x3e\n\n\n<div class="modal fade" id="OrderTab" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false"\n  aria-labelledby="OrderTabLabel" aria-hidden="true">\n  <div class="modal-dialog modal-lg" role="document" style="max-width: 900px">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="btn btn-outline-success waves-effect waves-light btn-rounded btn-outline-secondary"\n          id="OrderTabLabel" (click)=printOrder()><i class="fal fa-print"></i> Print</button>\n        <button type="button" class="close" data-dismiss="modal" (click)="closeOrderTab()" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="container invoice-box htmlPrint" id="print-order-section" style="max-width: 900px;border-width: 2em">\n        <div class="invoice">\n          <h3 style="text-align:center">{{Orderheading}}</h3>\n          <div class="card">\n            <div class="card-body">\n\n              <div class="row mb-4 margin">\n                <div class="col-md-4 divborder">\n                  <h5 class="mb-3 top"> CUSTOMER DETAILS:</h5>\n                  <table>\n                    <tbody>\n                      <tr>\n                        <td>Name</td>\n                        <td><b>{{orderDetails.Salutation}}{{orderDetails.CustName}}</b></td>\n                      </tr>\n                      <tr class="spaceUnder">\n                        <td>Address</td>\n                        <td class="mb" style="width: 150px;\n                                                word-break: break-all;white-space: normal;">\n                          <b>{{orderDetails.Address1}}</b>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td></td>\n                        <td> <b>{{orderDetails.Address2}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>State</td>\n                        <td><b>{{orderDetails.State}}</b></td>\n                      </tr>\n                      <tr>\n                        <td *ngIf="orderDetails.StateCode != 0">Code</td>\n                        <td><b>{{orderDetails.StateCode}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>MobileNo</td>\n                        <td><b>{{orderDetails.MobileNo}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>{{orderDetails.CustDocType}}</td>\n                        <td><b>{{orderDetails.CustDocValue}}</b></td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n                <div class="col-md-4 divborder">\n                  <h5 class="mb-3 top">GSTIN:<b>{{ShowroomList.TinNo}}</b></h5>\n                  <table>\n                    <tbody>\n                      <tr>\n                        <td>\n                          <ngx-barcode6 [bc-value]="OrderNum" [bc-width]="width" [bc-height]="height">\n                          </ngx-barcode6>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>Order No.</td>\n                        <td><b>{{orderDetails.BranchCode}}/O/{{orderDetails.OrderNo}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Order Date</td>\n                        <td><b>{{orderDetails.OrderDate | date: \'d/M/y\'}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Place of supply</td>\n                        <td><b>{{orderDetails.State}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Tax Payment Mode</td>\n                        <td><b>Normal</b></td>\n                      </tr>\n                      <tr>\n                        <td>Rate</td>\n                        <td><b>{{orderDetails.Rate | currencyFormat}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Delivery Date</td>\n                        <td><b>{{orderDetails.DeliveryDate | date: \'d/M/y\'}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Order Type</td>\n                        <td><b>{{orderDetails.OrderType}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>PAN</td>\n                        <td><b>{{ShowroomList.PAN}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Purchase Plan</td>\n                        <td><b>{{orderDetails.BookingType | purchasePlan:orderDetails.BookingType}}</b>\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n                <div class="col-md-4 lastdivborder">\n                  <h5 class="mb-3 top"> SHOWROOM ADDRESS</h5>\n                  <table>\n                    <tbody>\n                      <tr>\n                        <td>Name</td>\n                        <td><b>{{ShowroomList.CompanyName }}</b></td>\n                      </tr>\n                      <tr class="spaceUnder">\n                        <td>Address</td>\n                        <td class="mb" style="width: 150px;\n                                                word-break: break-all;white-space: normal;">\n                          <b>{{ShowroomList.Address1}}</b></td>\n\n                      </tr>\n                      <tr>\n                        <td></td>\n                        <td><b>{{ShowroomList.Address2}}</b>\n                      </tr>\n                      <tr>\n                        <td>City</td>\n                        <td><b>{{ShowroomList.city}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>State</td>\n                        <td><b>{{ShowroomList.State}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Code</td>\n                        <td><b>{{ShowroomList.StateCode}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Phone</td>\n                        <td><b>{{ShowroomList.PhoneNo}}</b></td>\n                      </tr>\n                    </tbody>\n\n                  </table>\n                  \x3c!-- <div>Name: <strong>{{ ShowroomList.CompanyName }}</strong></div>\n                                            <div>Address: <b>{{ShowroomList.Address1}}</b></div>\n                                            <div> <b>{{ShowroomList.Address2}}</b></div>\n                                            <div>State: <b>{{ShowroomList.State}}</b></div>\n                                            <div>State Code :<b>{{ShowroomList.StateCode}}</b></div>\n                                            <div>Phone:<b>{{ShowroomList.PhoneNo}}</b></div> --\x3e\n                </div>\n              </div>\n              <div class="row margin">\n                <div class="col-lg-12">\n                  <h3 style="text-align:center"><b>{{ReprintType | uppercase}}</b></h3>\n                  <div class="table-responsive-sm">\n                    <table class="table table-bordered table-striped">\n                      <thead>\n                        <tr>\n                          <th class="classname">Item Description</th>\n                          <th class="classname">Quantity</th>\n                          <th>Weight</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr *ngFor="let _Linesarray of Linesarray">\n                          <td class="classname">{{_Linesarray.Description}}</td>\n                          <td class="classname">{{_Linesarray.Quantity}}</td>\n                          <td class="classname">\n                            {{_Linesarray.FromGrossWt  | number : \'1.3-3\'}}</td>\n                        </tr>\n                        <tr>\n                          <th class="classname">Totals</th>\n                          <th class="classname">{{WeightTotalList.Quantity}}</th>\n                          <th class="classname">\n                            {{WeightTotalList.FromGrossWt  | number : \'1.3-3\'}}</th>\n                        </tr>\n                      </tbody>\n                    </table>\n\n                  </div>\n                  <div class="row mb-2" *ngIf="TotalList">\n                    <div class="col-md-12" style="text-align: right"><b>Total Amount :\n                        {{ TotalList.pay_amt | currencyFormat}}</b></div>\n                  </div>\n                  <div class="row mb-2" *ngIf="TotalList">\n                    <div class="col-md-12"><b> {{ TotalList.pay_amt | round | numberToWords}}</b>\n                    </div>\n                  </div>\n                  <div class="row mb-2" *ngIf="!TotalList">\n                    <div class="col-md-12"><b>Rupees NIL Only</b>\n                    </div>\n                  </div>\n                  \x3c!-- <b>Receipt Details</b>\n                                    <table class="table table-bordered table-striped mt-1">\n                                        <thead>\n                                            <tr>\n                                                <th class="classname">Date</th>\n                                                <th class="classname">Receipt No</th>\n                                                <th class="classname">Mode</th>\n                                                <th class="classname">Details</th>\n                                                <th class="classname">Amount</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            <tr *ngFor="let _Paymentarray of Paymentarray">\n                                                <td class="classname">{{ _Paymentarray.PayDate | date: \'d/M/y\'}}</td>\n                                                <td class="classname">{{ _Paymentarray.ReceiptNo}}</td>\n                                                <td class="classname">{{_Paymentarray.PayMode}}</td>\n                                                <td class="classname">{{_Paymentarray.PayDetails}}</td>\n                                                <td class="classname">{{_Paymentarray.PayAmount | currencyFormat}}\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <th class="classname">Totals</th>\n                                                <th class="classname"></th>\n                                                <th class="classname"></th>\n                                                <th class="classname"></th>\n                                                <th class="classname"> {{ TotalList.pay_amt | currencyFormat}}</th>\n                                            </tr>\n                                        </tbody>\n                                    </table> --\x3e\n\n                </div>\n              </div>\n\n              <div class="row">\n                <div class="col-sm-3">\n                  <div>OPR:<b>{{orderDetails.OperatorCode}}</b></div>\n                </div>\n                <div class="col-sm-4">\n                  <div>Salesman Code:<b>{{ orderDetails.SalCode}}</b></div>\n                </div>\n              </div>\n\n              <div class="row">\n                <div class="col-md-12">Remarks : <b>{{orderDetails.Remarks}}.</b></div>\n              </div>\n\n              <div class="row">\n                <div class="col-md-12">\n                  Taxes and Duties will be\n                  charged extra as\n                  applicable at\n                  the time of Billing.<br>\n                  I hereby agree to take delivery of the articles on payment of the full amount.\n                </div>\n              </div>\n              <div class="row">\n                <div class="col-md-6 float-left">\n                  <div class="mb-5">{{orderDetails.OrderRateType}}\n                  </div>\n                  <div class="mt-5"> Customer Signature</div>\n                </div>\n                <div class="col-md-6" style="text-align: right">\n                  <div class="mb-5">For {{ShowroomList.CompanyName}}</div>\n                  Authorized Signature\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="modal fade" id="ReceiptTab" tabindex="-1" data-backdrop="static" data-keyboard="false" role="dialog"\n  aria-labelledby="ReceiptTabLabel" aria-hidden="true">\n  <div class="modal-dialog modal-lg" role="document" style="max-width: 900px">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="btn btn-outline-success waves-effect waves-light btn-rounded btn-outline-secondary"\n          id="ReceiptTabLabel" (click)=printOrderReceipt()><i class="fal fa-print"></i> Print</button>\n        <button type="button" class="close" data-dismiss="modal" (click)="closeOrderReceiptTab()" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="container invoice-box htmlPrint" id="print-receipt-section"\n        style="max-width: 900px;border-width: 2em">\n        <div class="invoice">\n          <h3 style="text-align:center">{{OrderReceiptheading}}</h3>\n          <div class="card">\n            <div class="card-body">\n\n              <div class="row mb-4 margin">\n                <div class="col-md-4 divborder">\n                  <h5 class="mb-3 top"> CUSTOMER DETAILS:</h5>\n                  <table>\n                    <tbody>\n                      <tr>\n                        <td>Name</td>\n                        <td><b>{{orderDetails.Salutation}}{{orderDetails.CustName}}</b></td>\n                      </tr>\n                      <tr class="spaceUnder">\n                        <td>Address</td>\n                        <td class="mb" style="width: 150px;\n                                                word-break: break-all;white-space: normal;">\n                          <b>{{orderDetails.Address1}}</b>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td></td>\n                        <td> <b>{{orderDetails.Address2}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>State</td>\n                        <td><b>{{orderDetails.State}}</b></td>\n                      </tr>\n                      <tr>\n                        <td *ngIf="orderDetails.StateCode != 0">Code</td>\n                        <td><b>{{orderDetails.StateCode}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>MobileNo</td>\n                        <td><b>{{orderDetails.MobileNo}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>{{orderDetails.CustDocType}}</td>\n                        <td><b>{{orderDetails.CustDocValue}}</b></td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n                <div class="col-md-4 divborder">\n                  <h5 class="mb-3 top">GSTIN:<b>{{ShowroomList.TinNo}}</b></h5>\n                  <table>\n                    <tbody>\n                      <tr>\n                        <td>Receipt No</td>\n                        <td><b>{{ReceiptListdisplay.ReceiptNo }}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Receipt Date</td>\n                        <td><b>{{ReceiptListdisplay.PayDate | date: \'d-M-y h:mm:ss a\'}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Order No.</td>\n                        <td><b>{{orderDetails.BranchCode}}/O/{{orderDetails.OrderNo}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Order Date</td>\n                        <td><b>{{orderDetails.OrderDate | date: \'d-M-y h:mm:ss a\'}}</b></td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n\n                <div class="col-md-4 lastdivborder">\n                  <h5 class="mb-3 top"> SHOWROOM ADDRESS</h5>\n                  <table>\n                    <tbody>\n                      <tr>\n                        <td>Name</td>\n                        <td><b>{{ShowroomList.CompanyName }}</b></td>\n                      </tr>\n                      <tr class="spaceUnder">\n                        <td>Address</td>\n                        <td class="mb" style="width: 150px;\n                                                word-break: break-all;white-space: normal;">\n                          <b>{{ShowroomList.Address1}}</b></td>\n\n                      </tr>\n                      <tr>\n                        <td></td>\n                        <td><b>{{ShowroomList.Address2}}</b>\n                      </tr>\n                      <tr>\n                        <td>City</td>\n                        <td><b>{{ShowroomList.city}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>State</td>\n                        <td><b>{{ShowroomList.State}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Code</td>\n                        <td><b>{{ShowroomList.StateCode}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Phone</td>\n                        <td><b>{{ShowroomList.PhoneNo}}</b></td>\n                      </tr>\n                    </tbody>\n\n                  </table>\n                  \x3c!-- <div>Name: <strong>{{ ShowroomList.CompanyName }}</strong></div>\n                                            <div>Address: <b>{{ShowroomList.Address1}}</b></div>\n                                            <div> <b>{{ShowroomList.Address2}}</b></div>\n                                            <div>State: <b>{{ShowroomList.State}}</b></div>\n                                            <div>State Code :<b>{{ShowroomList.StateCode}}</b></div>\n                                            <div>Phone:<b>{{ShowroomList.PhoneNo}}</b></div> --\x3e\n                </div>\n              </div>\n\n              <div class="row margin">\n                <div class="col-lg-12">\n                  <div class="table-responsive-sm">\n                    <table class="table table-bordered table-striped">\n                      <thead>\n                        <tr>\n                          <th class="classname">Mode</th>\n                          <th class="classname">Details</th>\n                          <th class="classname">Amount</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr *ngFor="let _ReceiptList of ReceiptList">\n                          <td class="classname">\n                            {{_ReceiptList.PayMode | payment:_ReceiptList.PayMode}}</td>\n                          <ng-Container *ngIf="_ReceiptList.PayMode == \'R\'">\n                            <td class="classname">\n                              {{_ReceiptList.RefBillNo}}/{{_ReceiptList.ChequeNo}}/{{_ReceiptList.Bank}}/{{_ReceiptList.CardAppNo}}\n                            </td>\n                          </ng-Container>\n                          <ng-Container *ngIf="_ReceiptList.PayMode != \'R\'">\n                            <td *ngIf="_ReceiptList.PayMode == \'PB\' || _ReceiptList.PayMode == \'SR\'" class="classname">\n                              {{_ReceiptList.BranchCode}}/{{_ReceiptList.RefBillNo}}</td>\n                            <td\n                              *ngIf="_ReceiptList.PayMode != \'PB\' && _ReceiptList.PayMode != \'SR\' && _ReceiptList.PayMode != \'R\'"\n                              class="classname">{{_ReceiptList.PayDetails}}</td>\n                          </ng-Container>\n                          \x3c!-- <td class="classname">{{_ReceiptList.PayAmount | currencyFormat}} --\x3e\n                          <td class="classname">{{_ReceiptList.PayAmount | number : \'1.2-2\'}}\n\n                          </td>\n                        </tr>\n                        <tr>\n                          <th class="classname">Totals</th>\n                          <th class="classname"></th>\n                          \x3c!-- <th class="classname"> {{ ReceiptTotal.pay_amt | currencyFormat}} --\x3e\n                          <th class="classname"> {{ ReceiptTotal.pay_amt | number : \'1.2-2\'}}\n                          </th>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n              <div class="row">\n                <div class="col-sm-12 ">\n                  <div class="table-responsive-sm">\n                    <table class="table table-bordered">\n                      <tbody>\n                        \x3c!-- *ngFor="let _Paymentarray of Paymentarray" --\x3e\n                        <tr>\n                          <td class="classname bottom"><strong>Taxable Amt:<br>\n                              \x3c!-- {{ ReceiptTotal.pay_amount_before_tax | currencyFormat}}</strong> --\x3e\n                              {{ ReceiptTotal.pay_amount_before_tax  | number : \'1.2-2\'}}</strong>\n                          </td>\n                          <td class="classname bottom">\n                            \x3c!-- <strong>CGST @ {{ ReceiptTotal.CGST_Percent }}%:<br> --\x3e\n                            <strong>CGST @ 1.5%:<br>\n                              \x3c!-- {{ ReceiptTotal.CGST_Amount | currencyFormat }}</strong> --\x3e\n                              {{ ReceiptTotal.CGST_Amount | number : \'1.2-2\'}}</strong>\n                          </td>\n                          <td class="classname bottom">\n                            \x3c!-- <strong>SGST @ {{ ReceiptTotal.SGST_Percent}}%:<br> --\x3e\n                            <strong>SGST @ 1.5%:<br>\n                              \x3c!-- {{ ReceiptTotal.SGST_Amount | currencyFormat }}</strong> --\x3e\n                              {{ ReceiptTotal.SGST_Amount | number : \'1.2-2\'}}</strong>\n                          </td>\n                          <td class="classname bottom">\n                            \x3c!-- <strong>IGST @ {{ ReceiptTotal.IGST_Percent }}%:<br> --\x3e\n                            <strong>IGST @ 3%:<br>\n                              \x3c!-- {{ ReceiptTotal.IGST_Amount | currencyFormat }}</strong> --\x3e\n                              {{ ReceiptTotal.IGST_Amount | number : \'1.2-2\'}}</strong>\n                          </td>\n                          <td class="classname bottom">\n                            <strong>Total Amt:<br>\n                              \x3c!-- {{ ReceiptTotal.pay_amt | currencyFormat}}</strong> --\x3e\n                              {{ ReceiptTotal.pay_amt | number : \'1.2-2\'}}</strong>\n                          </td>\n                        </tr>\n                        <tr></tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n\n              <div class="row mb-1">\n                <div class="col-md-12">\n                  \x3c!-- <b> {{ ReceiptTotal.pay_amt | round | numberToWords}}</b> --\x3e\n                  <b> {{ ReceiptTotal.pay_amt | numberToWords}}</b>\n                </div>\n              </div>\n\n\n              <div class="row">\n                <div class="col-sm-3">\n                  <div>OPR:<b>{{orderDetails.OperatorCode}}</b></div>\n                </div>\n              </div>\n\n              <div class="row">\n                <div class="col-md-6 float-left">\n                  <div class="mt-5"> Customer Signature</div>\n                </div>\n                <div class="col-md-6" style="text-align: right">\n                  <div class="mb-5">For {{ShowroomList.CompanyName}}</div>\n                  Authorized Signatory\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n\n\x3c!-- Added for Plain Text printing related to Order--\x3e\n\n<div class="modal fade" id="OrderPlainTextTab" tabindex="-1" role="dialog" aria-labelledby="OrderPlainTextTabLabel"\n  aria-hidden="true">\n  <div class="modal-dialog modal-lg" role="document" style="max-width: 900px">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="btn btn-outline-success waves-effect waves-light btn-rounded btn-outline-secondary"\n          id="OrderPlainTextTabLabel" (click)=printOrderPlainText()><i class="fal fa-print"></i>\n          Print</button>\n        <button type="button" class="close" (click)="closeOrderPlainTextTab()" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="container invoice-box htmlPrint" id="print-closed-section" style="max-width: 900px;border-width: 2em">\n        <pre>{{orderPlainTextDetails}}</pre>\n      </div>\n    </div>\n  </div>\n</div>\n\n\x3c!-- Ends here --\x3e\n\n\n\x3c!-- Added for Plain Text printing related to Order Receipt--\x3e\n\n<div class="modal fade" id="OrderReceiptPlainTextTab" tabindex="-1" role="dialog"\n  aria-labelledby="OrderReceiptPlainTextTabLabel" aria-hidden="true">\n  <div class="modal-dialog modal-lg" role="document" style="max-width: 900px">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="btn btn-outline-success waves-effect waves-light btn-rounded btn-outline-secondary"\n          id="OrderReceiptPlainTextTabLabel" (click)=printOrderReceiptPlainText()><i class="fal fa-print"></i>\n          Print</button>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="container invoice-box htmlPrint" id="print-closed-section" style="max-width: 900px;border-width: 2em">\n        <pre>{{orderReceiptPlainTextDetails}}</pre>\n      </div>\n    </div>\n  </div>\n</div>\n\n\x3c!-- Ends here --\x3e\n\n\x3c!-- Order Block ends here--\x3e\n\n\n\x3c!--Added for SR Print and Credit Receipt--\x3e\n\n<div class="modal fade" id="ReprintSRBillModal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog"\n  aria-labelledby="exampleModalLabel" aria-hidden="true">\n  <div class="modal-dialog modal-lg" role="document" style="max-width: 1400px">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="btn btn-outline-success waves-effect waves-light btn-rounded btn-outline-secondary"\n          id="exampleModalLabel" (click)=printSRBill()><i class="fal fa-print"></i> Print</button>\n        <button type="button" class="close" (click)="closeSRBill()" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <span>\n        <div id="DisplayData" class="center" [innerHTML]=\'PrintDetails\'></div>\n      </span>\n    </div>\n  </div>\n</div>\n\n\n<div class="modal fade" id="ReprintSREstModal" tabindex="-1" role="dialog"\n  aria-labelledby="ReprintSREstModalTextTabLabel" aria-hidden="true">\n  <div class="modal-dialog modal-lg" role="document" style="max-width: 900px">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="btn btn-outline-success waves-effect waves-light btn-rounded btn-outline-secondary"\n          id="ReprintSREstModalTextTabLabel" (click)=printSREst()><i class="fal fa-print"></i> Print</button>\n        <button type="button" class="close" (click)="PrintCreditReceipt()" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="container invoice-box htmlPrint" id="print-closed-section" style="max-width: 900px;border-width: 2em">\n        <pre>{{PrintDetails}}</pre>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"\n  aria-hidden="true">\n  <div class="modal-dialog modal-lg" role="document" style="max-width: 1400px">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="btn btn-outline-success waves-effect waves-light btn-rounded btn-outline-secondary"\n          id="exampleModalLabel" (click)=print()><i class="fal fa-print"></i> Print</button>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="container invoice-box htmlPrint" id="print-section" style="max-width: 1400px;border-width: 2em">\n        <div class="invoice">\n          <h3 style="text-align:center">CREDIT RECEIPT</h3>\n          <div class="card">\n            <div class="card-body">\n              <div class="row mb-4 margin">\n                <div class="col-md-4 divborder bottom">\n                  <h5 class="mb-3 top"> CUSTOMER DETAILS:</h5>\n                  <table>\n                    <tbody>\n                      <tr>\n                        <td>Name</td>\n                        <td><b>{{ReceiptDetails.CustomerName}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Address</td>\n                        <td><b>{{ReceiptDetails.Address1}}</b>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td></td>\n                        <td> <b>{{ReceiptDetails.Address2}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>State</td>\n                        <td><b>{{ReceiptDetails.State}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Mobile No</td>\n                        <td><b>{{ReceiptDetails.MobileNo}}</b></td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n\n                <div class="col-md-4 divborder bottom">\n                  <h5 class="mb-3 top">Bill Receipt</h5>\n                  <table>\n                    <tbody>\n                      <tr>\n                        <td>Receipt No</td>\n                        <td><b>{{ReceiptDetails.ReceiptNo }}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Receipt Date</td>\n                        <td><b>{{ReceiptDetails.ReceiptDate | date: \'d/M/y\'}}</b></td>\n                      </tr>\n\n                    </tbody>\n                  </table>\n\n                </div>\n                <div class="col-md-4 lastdivborder">\n                  <h5 class="mb-3 top"> SHOWROOM ADDRESS</h5>\n                  <table>\n                    <tbody>\n                      <tr>\n                        <td>Name</td>\n                        <td><b>{{ShowroomList.CompanyName }}</b></td>\n                      </tr>\n                      <tr class="spaceUnder">\n                        <td>Address</td>\n                        <td class="mb" style="width: 150px;\n                                              word-break: break-all;white-space: normal;">\n                          <b>{{ShowroomList.Address1}}</b></td>\n\n                      </tr>\n                      <tr>\n                        <td></td>\n                        <td><b>{{ShowroomList.Address2}}</b>\n                      </tr>\n                      \x3c!-- <tr>\n                      <td>State</td>\n                      <td><b>{{ShowroomList.State}}</b></td>\n                    </tr>\n                    <tr>\n                      <td>Code</td>\n                      <td><b>{{ShowroomList.StateCode}}</b></td>\n                    </tr> --\x3e\n                      <tr>\n                        <td>Phone</td>\n                        <td><b>{{ShowroomList.PhoneNo}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>TIN</td>\n                        <td><b>{{ShowroomList.TinNo}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>E-mail</td>\n                        <td><b>{{ShowroomList.EMailID}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Website</td>\n                        <td><b>{{ShowroomList.Website}}</b></td>\n                      </tr>\n\n                    </tbody>\n\n                  </table>\n\n                </div>\n              </div>\n              <div class="row">\n                <div class="col-md-12">\n                  <div *ngIf="ReceiptDetails.CFlag==\'Y\'" class="watermark">Cancelled</div>\n                  <div class="table-responsive">\n                    <table class="table table-bordered table-striped">\n                      <thead>\n                        <tr>\n                          <th style="text-align: center">Original/Duplicate</th>\n\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr>\n                          <td>Received with thanks from Mr./Mrs./M/s. <b>{{ReceiptDetails.CustomerName}}</b>\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>The Sum of Rs.<b>{{ReceiptDetails.Amount}} ( {{ReceiptDetails.Amount |numberToWords }}\n                              )</b>\n                          </td>\n                        </tr>\n                        <tr>\n                          <td> Towards the Bill Number: <b>{{SummaryHeader.BillNo}}</b> Dated:\n                            <b>{{ReceiptDetails.BilledDate | date: \'d/M/y\'}}</b></td>\n                        </tr>\n                        <tr>\n                          <td>Customer Credit Balance Amount Rs :<b>{{ReceiptDetails.CreditBalance}}</b>\n                          </td>\n                        </tr>\n                        <tr *ngFor="let _array of Linesarray">\n                          <td *ngIf="_array.PayMode==\'D\'">By cheque/DD : <b>{{_array.PayAmount}}</b> , cheque/DD No.\n                            <b>{{_array.ChequeNo}}</b>,\n                            Dated: <b>{{_array.ChequeDate | date: \'d/M/y\'}}</b>, Drawn on <b>{{_array.Bank}}</b>\n                          </td>\n                          <td *ngIf="_array.PayMode==\'C\'">Cash Received: <b>{{_array.PayAmount}}</b></td>\n                          <td *ngIf="_array.PayMode==\'EP\'">E-Payment: <b>{{_array.PayAmount}}</b></td>\n                          <td *ngIf="_array.PayMode==\'R\'">By CC: {{_array.PayAmount}} ,{{_array.BankName}} ,\n                            {{_array.Bank}} , {{_array.CardType}} , {{_array.CardAppNo}} </td>\n\n                          <td *ngIf="_array.PayMode==\'Q\'">By cheque/DD: <b>{{_array.PayAmount}} , ChequeNo:\n                              {{_array.ChequeNo}} , Dated: {{_array.ChequeDate | date: \'d/M/y\'}} , Drawn on:\n                              {{_array.Bank}}</b></td>\n\n                        </tr>\n                        <tr>\n                          <td>Balance Amount: <b>{{ReceiptDetails.BalanceAmount | round}}</b> </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n              <div class="row" *ngIf="ReceiptDetails.lstOfPayment">\n                <div class="col-md-6">\n                  <div>Operator Code :{{ReceiptDetails.lstOfPayment[0].OperatorCode}}<b></b></div>\n                </div>\n              </div>\n\n              <div class="row">\n                <div class="col-md-6 float-left">\n                  <div class="mb-5"></div>\n                  Customer Signature\n                </div>\n                <div class="col-md-6" style="text-align: right">\n                  <div class="mb-5">For {{ShowroomList.CompanyName}}</div>\n                  Authorized Signature\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'},UNGm:function(t,e,n){"use strict";n.r(e),e.default='.card-body{ padding: 10px 30px 0px 30px !important; }\r\n\r\n:host {\r\n    padding: 0!important;\r\n  }\r\n\r\n.hiddenRow {\r\n    padding: 0 !important;\r\n  }\r\n\r\n.wrapper{\r\n    margin: 25px 3em auto 3em;\r\n  }\r\n\r\n.overlay{\r\n    height: 400px; \r\n      overflow-y: scroll; \r\n      overflow-x: hidden; \r\n  }\r\n\r\nfieldset.scheduler-border {\r\n    border: 2px solid #757575 !important;\r\n    padding: 0 1.4em 0px 1.4em !important;\r\n    margin: 0 0 1.5em 0 !important;\r\n    /* box-shadow: 0px 0px 0px 0px #000; */\r\n    border-radius: 15px;\r\n  }\r\n\r\nlegend.scheduler-border {\r\n    font-size: 20px !important;\r\n    font-family: "Montserrat", Helvetica, sans-serif;\r\n    font-weight: 600;\r\n    text-align: left !important;\r\n    width:auto;\r\n    padding:0 10px;\r\n    border-bottom:none;\r\n  }\r\n\r\n.pointer{\r\n      cursor: pointer;\r\n    }\r\n\r\n.dropdown-label { \r\n      background-color:transparent /* This hides the background */; \r\n      background-image:none; \r\n      -webkit-appearance: none /* Webkit Fix */; \r\n      border:none; \r\n      box-shadow:none; \r\n      pointer-events: none;\r\n      \r\n    }\r\n\r\ntr.tr-hover-class:hover {\r\n      background: rgba(234, 237, 255, 0.719) !important;\r\n    }\r\n\r\n.dropdown {\r\n    position: absolute;\r\n    border: 1px solid grey;\r\n    z-index: 9999;\r\n    background-color: white;\r\n    padding: 5px;\r\n  }\r\n\r\ninput:focus + .dropdown  {\r\n    display: block;\r\n    z-index: 9999999;\r\n  }\r\n\r\n/*For Pricing tables*/\r\n\r\n.price {\r\n    list-style-type: none;\r\n    border: 1px solid #eee;\r\n    margin: 0;\r\n    padding: 0;\r\n    transition: 0.3s;\r\n  \r\n  }\r\n\r\n.price:hover {\r\n    box-shadow: 0 8px 12px 0 rgba(0,0,0,0.2)\r\n  }\r\n\r\n.price .header {\r\n    background-color: #111;\r\n    color: white;\r\n    font-size: 25px;\r\n  }\r\n\r\n.font{\r\n    color:#ff660098;\r\n  }\r\n\r\n.price li {\r\n    border-bottom: 1px solid #eee;\r\n    padding: 15px 25px 20px 25px;\r\n  }\r\n\r\n.float-left{\r\n  font-weight: 600;\r\n  }\r\n\r\n.card-body{ padding: 10px 30px 0px 30px !important; }\r\n\r\n@media only screen and (max-width: 600px) {\r\n      .columns {\r\n        width: 100%;\r\n      }\r\n    }\r\n\r\n@media (min-width:2200px) and (max-width: 2440px) {\r\n      .table-responsive {\r\n       overflow-x: hidden !important;\r\n    \r\n  }\r\n  }\r\n\r\n@media (min-width: 300px) and (max-width: 2200px) {\r\n      .table-responsive {\r\n      overflow-x: auto !important;\r\n    \r\n  }}\r\n\r\nspan.Heading{\r\n  font-weight: 600;\r\n  font-style: italic;\r\n  text-decoration: underline;\r\n}\r\n\r\n.modal-dialog{\r\n  z-index: -9999999999999;\r\n}\r\n\r\n.float-right{\r\n  line-height: 1px;\r\n  font-size: 36px;\r\n}\r\n\r\n\r\n\r\n '},Yfz3:function(t,e,n){"use strict";n.r(e),e.default='body{\r\n    font-size: 5px;\r\n    line-height: 18px;\r\n}\r\n.watermark {\r\n  transform: rotate(331deg);\r\n  font-size: 10em;\r\n  color: rgba(255, 5, 5, 0.37);\r\n  position: absolute;\r\n  text-transform:uppercase;\r\n  padding-left: 10%;\r\n}\r\n.modal {\r\n  overflow-y:auto;\r\n}\r\nthead > tr {\r\n  color:black !important;\r\n  font-weight: 300;\r\n  background-color: blanchedalmond;\r\n}\r\n.center {\r\n  margin: auto;\r\n  width: 70%;\r\n  padding: 5px;\r\n}\r\n/* print-right{\r\n  text-align: right;\r\n} */\r\n.modal-header{\r\npadding-left: 20rem !important;\r\n}\r\n.material-switch > input[type="checkbox"] {\r\ndisplay: none;   \r\n}\r\ntr.spaceUnder>td {\r\npadding-bottom: 0px;\r\n}\r\n.material-switch > label {\r\ncursor: pointer;\r\nheight: 0px;\r\nposition: relative; \r\nwidth: 40px;  \r\n}\r\n.material-switch > label::before {\r\nbackground: rgb(0, 0, 0);\r\nbox-shadow: inset 0px 0px 10px rgba(0, 0, 0, 0.5);\r\nborder-radius: 8px;\r\ncontent: \'\';\r\nheight: 16px;\r\nmargin-top: -8px;\r\nposition:absolute;\r\nopacity: 0.3;\r\ntransition: all 0.4s ease-in-out;\r\nwidth: 40px;\r\n}\r\n.material-switch > label::after {\r\nbackground: rgb(255, 255, 255);\r\nborder-radius: 16px;\r\nbox-shadow: 0px 0px 5px rgba(0, 0, 0, 0.3);\r\ncontent: \'\';\r\nheight: 24px;\r\nleft: -4px;\r\nmargin-top: -8px;\r\nposition: absolute;\r\ntop: -4px;\r\ntransition: all 0.3s ease-in-out;\r\nwidth: 24px;\r\n}\r\n.material-switch > input[type="checkbox"]:checked + label::before {\r\nbackground: inherit;\r\nopacity: 0.5;\r\n}\r\n.material-switch > input[type="checkbox"]:checked + label::after {\r\nbackground: inherit;\r\nleft: 20px;\r\n}'},Zmag:function(t,e,n){"use strict";n.r(e),e.default='<div class="row" style="display:block;margin: auto;width: 30%;" *ngIf="ShowHide">\n  <form class="form-horizontal">\n    <div class="col-md-12">\n      <div class="card">\n        <div class="card-body">\n          <div class="row">\n            <div class="col-md-12">\n              <div class="form-group">\n                <label for="exampleAccount">Reprint SR No</label>\n                <div class="input-group">\n                  <input class="form-control" id="exampleAccount" placeholder="SR No" type="number" #estNo>\n                </div>\n              </div>\n              <div class="form-group">\n                <div class="input-group">\n                  <ng-container *ngFor="let radiobutton of radioItems">\n                    <div class="col-md-6">\n                      <label class="form-check-inline">\n                        <input type="radio" name="option" class="form-check-input" [value]="radiobutton"\n                          (change)="Changed(radiobutton)" [checked]="radiobutton === model.option">\n                        <h3 style="margin-top: 5px;">{{radiobutton}}</h3>\n                      </label>\n                    </div>\n                  </ng-container>\n                </div>\n              </div>\n              <div class="form-group">\n                <button class="printMe btn btn-success waves-effect waves-light btn-rounded btn-secondary"\n                  (click)="getSREstimationDetails(estNo.value)"><i class="fal fa-print"></i>\n                  Reprint </button>\n              </div>\n              <div class="form-group">\n                <div class="input-group">\n                  <div class="col-md-9">\n                    \n                  </div>\n                    <div class="col-md-3">\n                      <label class="form-check-inline">\n                        <input type="checkbox" [checked]="checked" [disabled]="isDisabled" class="form-check-input" (change)="handleSelected($event)"> HTML                        \n                      </label>\n                    </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n\n\n<div class="modal fade" id="ReprintSRBillModal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"\n  aria-hidden="true">\n  <div class="modal-dialog modal-lg" role="document" style="max-width: 1400px">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="btn btn-outline-success waves-effect waves-light btn-rounded btn-outline-secondary"\n          id="exampleModalLabel" (click)=printSRBill()><i class="fal fa-print"></i> Print</button>\n        <button type="button" class="close"  (click)="closeSRBill()" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <span>\n        <div id="DisplayData" class="center" [innerHTML]=\'PrintDetails\'></div>\n      </span>\n    </div>\n  </div>\n</div>\n\n\n<div class="modal fade" id="ReprintSREstModal" tabindex="-1" role="dialog" aria-labelledby="ReprintSREstModalTextTabLabel"\n    aria-hidden="true">\n    <div class="modal-dialog modal-lg" role="document" style="max-width: 900px">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button"\n                    class="btn btn-outline-success waves-effect waves-light btn-rounded btn-outline-secondary"\n                    id="ReprintSREstModalTextTabLabel" (click)=printSREst()><i class="fal fa-print"></i> Print</button>\n                <button type="button" class="close" (click)="PrintCreditReceipt()" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n            </div>\n            <div class="container invoice-box htmlPrint" id="print-closed-section" style="max-width: 900px;border-width: 2em">\n                   <pre>{{PrintDetails}}</pre>                \n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n\x3c!-- <div class="modal fade" id="SRModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"\n  *ngIf="EnableSRReprintHeaders">\n  <div class="modal-dialog modal-lg" role="document" style="max-width: 1100px;">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="btn btn-outline-success waves-effect waves-light btn-rounded btn-outline-secondary"\n          id="exampleModalLabel" (click)=printSR()><i class="fal fa-print"></i> Print</button>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="container invoice-box htmlPrint" id="print-sectionSR" style="max-width: 1100px;border-width: 2em">\n        <div class="invoice">\n          <h3 style="text-align:center">{{heading}}</h3>\n          <div class="card">\n            <div class="card-body">\n              <div class="row mb-4">\n                <div class="col-md-6 ">\n                  <h5 class="mb-3 "> Sales Bill No: <span>{{estSRDetails.VotureBillNo}}</span></h5>\n                </div>\n                <div class="col-md-6 ">\n                  <h5 class="mb-3 ">SR Date:\n                    <span>{{estSRDetails.SalesReturnDate | date :\'dd-MMM-yy h:mm:ss a \'}}</span></h5>\n                </div>\n              </div>\n              <div class="row mb-4 ">\n                <div class="col-md-6 ">\n                  <h5 class="mb-3"> SR Est.No: <span>{{estSRDetails.EstNo}}</span></h5>\n                </div>\n                <div class="col-md-3 ">\n                  <h5 class="mb-3">Gold Rate: <span>{{estSRDetails.Rate}}/gm</span></h5>\n                </div>\n                <div class="col-md-3 ">\n                  <h5 class="mb-3"> OperatorCode: <span>{{estSRDetails.OperatorCode}}</span></h5>\n                </div>\n              </div>\n              <div class="row">\n                <div class="col-lg-12">\n                  <div class="table-responsive-sm">\n                    <table class="table table-bordered table-striped">\n                      <thead>\n                        <tr>\n                          <th class="classname">Stone Name</th>\n                          <th class="classname">Qty</th>\n                          <th class="classname">Gr.Wt</th>\n                          <th class="classname">St.Wt</th>\n                          <th class="classname">Net Wt</th>\n                          <th class="classname">VA Amt</th>\n                          <th class="classname">St.Amt</th>\n                          <th class="classname">Gold Amt</th>\n                          <th class="classname">Amount</th>\n                        </tr>\n                      </thead>\n                      <tbody *ngIf="SRDetails">\n                        <tr *ngFor="let _SRDetails of SRDetails">\n                          <td class="classname">{{_SRDetails.ItemName}}</td>\n                          <td class="classname">{{_SRDetails.Quantity}}</td>\n                          <td class="classname">{{_SRDetails.GrossWt | number : \'1.3-3\'}}</td>\n                          <td class="classname">{{_SRDetails.StoneWt | number : \'1.3-3\'}}</td>\n                          <td class="classname">{{_SRDetails.NetWt | number : \'1.3-3\'}}</td>\n                          <td class="classname">{{_SRDetails.VAAmount | number : \'1.2-2\'}}</td>\n                          <td class="classname">{{_SRDetails.StoneCharges | number : \'1.2-2\'}}</td>\n                          <td class="classname">{{_SRDetails.SRAmount | number : \'1.2-2\'}}</td>\n                          <td class="classname">{{_SRDetails.NetAmount | number : \'1.2-2\'}}</td>\n                        </tr>\n                        <tr *ngIf="getSRTotForPrint">\n                          <td class="classname">Grand Total</td>\n                          <td class="classname">{{getSRTotForPrint[0].Quantity}}</td>\n                          <td class="classname">{{getSRTotForPrint[0].GrossWt | number : \'1.3-3\'}}</td>\n                          <td class="classname">{{getSRTotForPrint[0].StoneWt | number : \'1.3-3\'}}</td>\n                          <td class="classname">{{getSRTotForPrint[0].NetWt | number : \'1.3-3\'}}</td>\n                          <td class="classname">{{getSRTotForPrint[0].VAAmount | number : \'1.2-2\'}}</td>\n                          <td class="classname">{{getSRTotForPrint[0].StoneCharges | number : \'1.2-2\'}}</td>\n                          <td class="classname">{{getSRTotForPrint[0].SRAmount | number : \'1.2-2\'}}</td>\n                          <td class="classname">{{getSRTotForPrint[0].NetAmount | number : \'1.2-2\'}}</td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n              <div class="row mb-4">\n                <div class="col-md-3"></div>\n                <div class="col-md-3"></div>\n                <div class="col-md-3"></div>\n                <div class="col-md-3">\n                  <table>\n                    <tbody *ngIf="getSRTotForPrint">\n                      <tr>\n                        <td>Taxable Value :</td>\n                        <td>{{getSRTotForPrint[0].ItemTotalAfterDiscount | number : \'1.2-2\'}}</td>\n                      </tr>\n                      <tr>\n                        <td> SGST {{getSRTotForPrint[0].SGSTPercent}} %:</td>\n                        <td>{{getSRTotForPrint[0].SGSTAmount | number : \'1.2-2\'}}</td>\n                      </tr>\n                      <tr>\n                        <td>CGST {{getSRTotForPrint[0].CGSTPercent}} %:</td>\n                        <td>{{getSRTotForPrint[0].CGSTAmount | number : \'1.2-2\'}}</td>\n                      </tr>\n                      <tr>\n                        <td>IGST {{getSRTotForPrint[0].IGSTPercent}} %:</td>\n                        <td>{{getSRTotForPrint[0].IGSTAmount | number : \'1.2-2\'}}</td>\n                      </tr>\n                      <tr>\n                        <td>Invoice Amount :</td>\n                        <td>{{getSRTotForPrint[0].ItemFinalAmount}}</td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n              <div class="card-body">\n                <div class="row mb-4">\n                  <div class="col-md-10">\n                    <h5 class="mb-3 "><span><b>{{ getSRTotForPrint[0].ItemFinalAmount | numberToWords}}</b></span></h5>\n                  </div>\n                  <div class="col-md-2">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div> --\x3e\n\n<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"\naria-hidden="true">\n<div class="modal-dialog modal-lg" role="document" style="max-width: 1400px">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button"\n        class="btn btn-outline-success waves-effect waves-light btn-rounded btn-outline-secondary"\n        id="exampleModalLabel" (click)=print()><i class="fal fa-print"></i> Print</button>\n      <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n        <span aria-hidden="true">&times;</span>\n      </button>\n    </div>\n    <div class="container invoice-box htmlPrint" id="print-section" style="max-width: 1400px;border-width: 2em">\n      <div class="invoice">\n        <h3 style="text-align:center">CREDIT RECEIPT</h3>\n        <div class="card">\n          <div class="card-body">\n            <div class="row mb-4 margin">\n              <div class="col-md-4 divborder bottom">\n                <h5 class="mb-3 top"> CUSTOMER DETAILS:</h5>\n                <table>\n                  <tbody>\n                    <tr>\n                      <td>Name</td>\n                      <td><b>{{ReceiptDetails.CustomerName}}</b></td>\n                    </tr>\n                    <tr>\n                      <td>Address</td>\n                      <td><b>{{ReceiptDetails.Address1}}</b>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td></td>\n                      <td> <b>{{ReceiptDetails.Address2}}</b></td>\n                    </tr>\n                    <tr>\n                      <td>State</td>\n                      <td><b>{{ReceiptDetails.State}}</b></td>\n                    </tr>\n                    <tr>\n                      <td>Mobile No</td>\n                      <td><b>{{ReceiptDetails.MobileNo}}</b></td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n\n              <div class="col-md-4 divborder bottom">\n                <h5 class="mb-3 top">Bill Receipt</h5>\n                <table>\n                  <tbody>\n                    <tr>\n                      <td>Receipt No</td>\n                      <td><b>{{ReceiptDetails.ReceiptNo }}</b></td>\n                    </tr>\n                    <tr>\n                      <td>Receipt Date</td>\n                      <td><b>{{ReceiptDetails.ReceiptDate | date: \'d/M/y\'}}</b></td>\n                    </tr>\n\n                  </tbody>\n                </table>\n\n              </div>\n              <div class="col-md-4 lastdivborder">\n                <h5 class="mb-3 top"> SHOWROOM ADDRESS</h5>\n                <table>\n                  <tbody>\n                    <tr>\n                      <td>Name</td>\n                      <td><b>{{ShowroomList.CompanyName }}</b></td>\n                    </tr>\n                    <tr class="spaceUnder">\n                      <td>Address</td>\n                      <td class="mb" style="width: 150px;\n                                              word-break: break-all;white-space: normal;">\n                        <b>{{ShowroomList.Address1}}</b></td>\n\n                    </tr>\n                    <tr>\n                      <td></td>\n                      <td><b>{{ShowroomList.Address2}}</b>\n                    </tr>\n                    \x3c!-- <tr>\n                      <td>State</td>\n                      <td><b>{{ShowroomList.State}}</b></td>\n                    </tr>\n                    <tr>\n                      <td>Code</td>\n                      <td><b>{{ShowroomList.StateCode}}</b></td>\n                    </tr> --\x3e\n                    <tr>\n                      <td>Phone</td>\n                      <td><b>{{ShowroomList.PhoneNo}}</b></td>\n                    </tr>\n                    <tr>\n                      <td>TIN</td>\n                      <td><b>{{ShowroomList.TinNo}}</b></td>\n                    </tr>\n                    <tr>\n                      <td>E-mail</td>\n                      <td><b>{{ShowroomList.EMailID}}</b></td>\n                    </tr>\n                    <tr>\n                      <td>Website</td>\n                      <td><b>{{ShowroomList.Website}}</b></td>\n                    </tr>\n\n                  </tbody>\n\n                </table>\n\n              </div>\n            </div>\n            <div class="row">\n              <div class="col-md-12">\n                <div *ngIf="ReceiptDetails.CFlag==\'Y\'" class="watermark">Cancelled</div>\n                <div class="table-responsive">\n                  <table class="table table-bordered table-striped">\n                    <thead>\n                      <tr>\n                        <th style="text-align: center">Original/Duplicate</th>\n\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr>\n                        <td>Received with thanks from Mr./Mrs./M/s. <b>{{ReceiptDetails.CustomerName}}</b>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>The Sum of Rs.<b>{{ReceiptDetails.Amount}} ( {{ReceiptDetails.Amount |numberToWords }} )</b>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td> Towards the Bill Number: <b>{{SummaryHeader.BillNo}}</b> Dated:\n                          <b>{{ReceiptDetails.BilledDate | date: \'d/M/y\'}}</b></td>\n                      </tr>\n                      <tr>\n                        <td>Customer Credit Balance Amount Rs :<b>{{ReceiptDetails.CreditBalance}}</b>\n                        </td>\n                      </tr>\n                      <tr *ngFor="let _array of Linesarray">\n                        <td *ngIf="_array.PayMode==\'D\'">By cheque/DD : <b>{{_array.PayAmount}}</b> , cheque/DD No.\n                          <b>{{_array.ChequeNo}}</b>,\n                          Dated: <b>{{_array.ChequeDate | date: \'d/M/y\'}}</b>, Drawn on <b>{{_array.Bank}}</b>\n                        </td>\n                        <td *ngIf="_array.PayMode==\'C\'">Cash Received: <b>{{_array.PayAmount}}</b></td>\n                        <td *ngIf="_array.PayMode==\'EP\'">E-Payment: <b>{{_array.PayAmount}}</b></td>\n                         <td *ngIf="_array.PayMode==\'R\'">By CC: {{_array.PayAmount}} ,{{_array.BankName}} ,\n                            {{_array.Bank}} , {{_array.CardType}} , {{_array.CardAppNo}} </td>\n                       \n                       <td *ngIf="_array.PayMode==\'Q\'">By cheque/DD: <b>{{_array.PayAmount}} , ChequeNo:\n                            {{_array.ChequeNo}} , Dated: {{_array.ChequeDate | date: \'d/M/y\'}} , Drawn on: {{_array.Bank}}</b></td>\n\n                      </tr>\n                      <tr>\n                        <td>Balance Amount: <b>{{ReceiptDetails.BalanceAmount | round}}</b> </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n            <div class="row" *ngIf="ReceiptDetails.lstOfPayment">\n              <div class="col-md-6">\n                <div>Operator Code :{{ReceiptDetails.lstOfPayment[0].OperatorCode}}<b></b></div>\n              </div>\n            </div>\n\n            <div class="row">\n              <div class="col-md-6 float-left">\n                <div class="mb-5"></div>\n                Customer Signature\n              </div>\n              <div class="col-md-6" style="text-align: right">\n                <div class="mb-5">For {{ShowroomList.CompanyName}}</div>\n                Authorized Signature\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n</div>'},iqiw:function(t,e,n){"use strict";n.r(e),e.default=""},ngKS:function(t,e,n){"use strict";n.r(e),e.default='.card-title {\r\n    margin-bottom: -0.3rem !important;\r\n}\r\n\r\n.table-responsive {\r\n    display: block;\r\n    width: 99.9% !important;\r\n    overflow-x: auto;\r\n    -ms-overflow-style: -ms-autohiding-scrollbar;\r\n}\r\n\r\n.card-header{\r\n    border-radius: 15px !important;\r\n  }\r\n\r\n.card{\r\n    border-radius: 15px !important;\r\n  \r\n  }\r\n\r\n.card-body{ \r\n    padding: 10px 30px 0px 30px !important; \r\n    border-bottom: 2px solid black;\r\n    border-radius: 15px;\r\n  }\r\n\r\n.p-38 { height: 38px; }\r\n\r\n.text-white { color: white;}\r\n\r\n.Pointer { cursor: pointer; }\r\n\r\n.footer {\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n  }\r\n\r\n.hide{\r\n   display: hide;\r\n  }\r\n\r\n.show{\r\n    display: block;\r\n  }\r\n\r\n.accordion .card-header.collapsed:after {\r\n    /* symbol for "collapsed" panels */\r\n    content: "\\f067"; \r\n    position: absolute;\r\n    right: 20px;\r\n    font-size: 20px;\r\n    font-weight: 400;\r\n  \r\n    line-height: 1;\r\n    margin-top: -25px;\r\n    transition: .3s transform ease-in-out;\r\n  }\r\n\r\n.accordion .card-header:after {\r\n    font-family: \'FontAwesome\';  \r\n    content: "\\f068";\r\n    position: absolute;\r\n    right: 20px;\r\n    font-size: 20px;\r\n    font-weight: 400;\r\n    line-height: 1;\r\n    margin-top: -25px;\r\n  }\r\n\r\n.text-red{\r\n    color:red;\r\n  }\r\n\r\n.text-green{\r\n  color:#16d616; \r\n  }\r\n  \r\n  \r\n  '},"rCN/":function(t,e,n){"use strict";n.r(e),e.default='body{\r\n    font-size: 5px;\r\n    line-height: 18px;\r\n}\r\n.watermark {\r\n  transform: rotate(331deg);\r\n  font-size: 10em;\r\n  color: rgba(255, 5, 5, 0.37);\r\n  position: absolute;\r\n  text-transform:uppercase;\r\n  padding-left: 10%;\r\n}\r\n.modal {\r\n  overflow-y:auto;\r\n}\r\nthead > tr {\r\n  color:black !important;\r\n  font-weight: 300;\r\n  background-color: blanchedalmond;\r\n}\r\n.center {\r\n  margin: auto;\r\n  width: 70%;\r\n  padding: 5px;\r\n}\r\n/* print-right{\r\n  text-align: right;\r\n} */\r\n.modal-header{\r\npadding-left: 20rem !important;\r\n}\r\n.material-switch > input[type="checkbox"] {\r\ndisplay: none;   \r\n}\r\ntr.spaceUnder>td {\r\npadding-bottom: 0px;\r\n}\r\n.material-switch > label {\r\ncursor: pointer;\r\nheight: 0px;\r\nposition: relative; \r\nwidth: 40px;  \r\n}\r\n.material-switch > label::before {\r\nbackground: rgb(0, 0, 0);\r\nbox-shadow: inset 0px 0px 10px rgba(0, 0, 0, 0.5);\r\nborder-radius: 8px;\r\ncontent: \'\';\r\nheight: 16px;\r\nmargin-top: -8px;\r\nposition:absolute;\r\nopacity: 0.3;\r\ntransition: all 0.4s ease-in-out;\r\nwidth: 40px;\r\n}\r\n.material-switch > label::after {\r\nbackground: rgb(255, 255, 255);\r\nborder-radius: 16px;\r\nbox-shadow: 0px 0px 5px rgba(0, 0, 0, 0.3);\r\ncontent: \'\';\r\nheight: 24px;\r\nleft: -4px;\r\nmargin-top: -8px;\r\nposition: absolute;\r\ntop: -4px;\r\ntransition: all 0.3s ease-in-out;\r\nwidth: 24px;\r\n}\r\n.material-switch > input[type="checkbox"]:checked + label::before {\r\nbackground: inherit;\r\nopacity: 0.5;\r\n}\r\n.material-switch > input[type="checkbox"]:checked + label::after {\r\nbackground: inherit;\r\nleft: 20px;\r\n}'},tF8M:function(t,e,n){"use strict";n.r(e),e.default='.table-responsive {\r\n    display: block;\r\n    width: 99.9% !important;\r\n    overflow-x: auto;\r\n    -ms-overflow-style: -ms-autohiding-scrollbar;\r\n}\r\n\r\n\r\n.card-header{\r\n    border-radius: 15px !important;\r\n  }\r\n\r\n\r\n.card{\r\n    border-radius: 15px !important;\r\n  \r\n  }\r\n\r\n\r\n.card-body{ \r\n    padding: 10px 30px 0px 30px !important; \r\n    border-bottom: 2px solid black;\r\n    border-radius: 15px;\r\n  }\r\n\r\n\r\n.p-38 { height: 38px; }\r\n\r\n\r\n.text-white { color: white;}\r\n\r\n\r\n.Pointer { cursor: pointer; }\r\n\r\n\r\n.footer {\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n  }\r\n\r\n\r\n.hide{\r\n   display: hide;\r\n  }\r\n\r\n\r\n.show{\r\n    display: block;\r\n  }\r\n\r\n\r\n.accordion .card-header.collapsed:after {\r\n    /* symbol for "collapsed" panels */\r\n    content: "\\f067"; \r\n    position: absolute;\r\n    right: 20px;\r\n    font-size: 20px;\r\n    font-weight: 400;\r\n  \r\n    line-height: 1;\r\n    margin-top: -25px;\r\n    transition: .3s transform ease-in-out;\r\n  }\r\n\r\n\r\n.accordion .card-header:after {\r\n    font-family: \'FontAwesome\';  \r\n    content: "\\f068";\r\n    position: absolute;\r\n    right: 20px;\r\n    font-size: 20px;\r\n    font-weight: 400;\r\n    line-height: 1;\r\n    margin-top: -25px;\r\n  }\r\n\r\n\r\n.text-red{\r\n    color:red;\r\n  }\r\n\r\n\r\n.text-green{\r\n  color:#16d616; \r\n  }\r\n\r\n\r\nbody{\r\n    font-size: 5px;\r\n    line-height: 18px;\r\n}\r\n\r\n\r\n.watermark {\r\ntransform: rotate(331deg);\r\nfont-size: 10em;\r\ncolor: rgba(255, 5, 5, 0.37);\r\nposition: absolute;\r\ntext-transform:uppercase;\r\npadding-left: 10%;\r\n}\r\n\r\n\r\nthead > tr {\r\n  color:black !important;\r\n  font-weight: 300;\r\n  background-color: blanchedalmond;\r\n}\r\n\r\n\r\n.modal-header{\r\npadding-left: 20rem !important;\r\n}\r\n\r\n\r\n.material-switch > input[type="checkbox"] {\r\ndisplay: none;   \r\n}\r\n\r\n\r\ntr.spaceUnder>td {\r\npadding-bottom: 0px;\r\n}\r\n\r\n\r\n.modal {\r\noverflow-y:auto;\r\n}\r\n\r\n\r\n.material-switch > label {\r\ncursor: pointer;\r\nheight: 0px;\r\nposition: relative; \r\nwidth: 40px;  \r\n}\r\n\r\n\r\n.material-switch > label::before {\r\nbackground: rgb(0, 0, 0);\r\nbox-shadow: inset 0px 0px 10px rgba(0, 0, 0, 0.5);\r\nborder-radius: 8px;\r\ncontent: \'\';\r\nheight: 16px;\r\nmargin-top: -8px;\r\nposition:absolute;\r\nopacity: 0.3;\r\ntransition: all 0.4s ease-in-out;\r\nwidth: 40px;\r\n}\r\n\r\n\r\n.material-switch > label::after {\r\nbackground: rgb(255, 255, 255);\r\nborder-radius: 16px;\r\nbox-shadow: 0px 0px 5px rgba(0, 0, 0, 0.3);\r\ncontent: \'\';\r\nheight: 24px;\r\nleft: -4px;\r\nmargin-top: -8px;\r\nposition: absolute;\r\ntop: -4px;\r\ntransition: all 0.3s ease-in-out;\r\nwidth: 24px;\r\n}\r\n\r\n\r\n.material-switch > input[type="checkbox"]:checked + label::before {\r\nbackground: inherit;\r\nopacity: 0.5;\r\n}\r\n\r\n\r\n.material-switch > input[type="checkbox"]:checked + label::after {\r\nbackground: inherit;\r\nleft: 20px;\r\n}'}}]);